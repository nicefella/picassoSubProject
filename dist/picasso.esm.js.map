{"version":3,"file":"picasso.esm.js","sources":["../src/domdocument.js","../node_modules/path2d-polyfill/dist/index.esm.js","../node_modules/extend/index.js","../src/about.js","../src/core/layout/dock/config.js","../src/core/layout/dock/settings-resolver.js","../src/core/utils/is-number.js","../src/core/geometry/util.js","../src/core/layout/dock/create-rect.js","../src/core/layout/dock/docker.js","../src/core/utils/event-type.js","../src/core/data/data.js","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../node_modules/d3-shape/src/offset/expand.js","../node_modules/d3-shape/src/offset/diverging.js","../node_modules/d3-shape/src/offset/silhouette.js","../node_modules/d3-shape/src/offset/wiggle.js","../node_modules/d3-shape/src/order/appearance.js","../node_modules/d3-shape/src/order/ascending.js","../node_modules/d3-shape/src/order/insideOut.js","../node_modules/d3-shape/src/order/reverse.js","../src/core/utils/registry.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../src/core/formatter/d3/numberFormat.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../src/core/formatter/d3/timeFormat.js","../src/core/formatter/index.js","../src/core/data/field.js","../src/core/data/stack.js","../src/core/data/extractor.js","../src/core/data/collections.js","../src/core/chart/formatter/index.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-collection/src/map.js","../node_modules/d3-collection/src/set.js","../node_modules/d3-scale/src/array.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/threshold.js","../src/core/scales/ticks/tick-generators.js","../src/core/scales/settings-resolver.js","../src/core/scales/linear.js","../src/core/scales/band.js","../src/core/scales/h-band.js","../src/core/utils/min-max.js","../src/core/scales/color/sequential.js","../src/core/scales/color/threshold.js","../src/core/scales/ordinal.js","../src/core/scales/color/categorical.js","../src/core/chart/scales/index.js","../node_modules/node-event-emitter/index.js","../src/core/utils/event-emitter.js","../src/core/scroll-api/index.js","../src/core/chart/scroll-api/index.js","../src/core/brush/range-collection.js","../src/core/brush/value-collection.js","../src/core/brush/brush.js","../src/core/brush/index.js","../node_modules/d3-ease/src/cubic.js","../node_modules/d3-ease/src/elastic.js","../src/core/component/tween.js","../src/core/chart-components/property-resolver/index.js","../src/core/scales/index.js","../src/core/component/settings-resolver.js","../src/core/component/brushing.js","../src/core/scene-graph/attributes.js","../src/core/symbols/circle.js","../src/core/utils/points-to-path.js","../src/core/symbols/diamond.js","../src/core/symbols/cross.js","../src/core/math/angles.js","../src/core/math/vector.js","../src/core/symbols/saltire.js","../src/core/symbols/square.js","../src/core/symbols/triangle.js","../src/core/symbols/line.js","../src/core/symbols/star.js","../src/core/symbols/n-polygon.js","../src/core/symbols/bar.js","../src/core/symbols/index.js","../src/core/component/component-factory.js","../src/core/mediator/index.js","../src/core/math/intersection.js","../src/core/math/narrow-phase-collision.js","../src/core/style/resolver.js","../src/core/theme/index.js","../src/core/chart/index.js","../src/core/renderer/index.js","../src/core/component/index.js","../src/core/data/util.js","../src/core/data/extractor-matrix.js","../src/core/data/dataset.js","../src/core/data/index.js","../src/web/interactions/native/index.js","../src/core/interaction/index.js","../src/core/chart-components/box/box-math.js","../src/core/chart-components/box/box-shapes-helper.js","../src/core/chart-components/box/box-shapes.js","../src/core/chart-components/box/box-resolver.js","../src/core/chart-components/box/box.js","../src/core/chart-components/box/index.js","../src/core/chart-components/point/point.js","../src/core/chart-components/point/index.js","../src/core/chart-components/pie/pie.js","../src/core/chart-components/pie/index.js","../src/core/transposer/crispifier.js","../src/core/transposer/transposer.js","../src/core/chart-components/grid/line.js","../src/core/chart-components/grid/index.js","../src/core/chart-components/ref-line/oob.js","../src/core/chart-components/ref-line/lines-and-labels.js","../src/core/chart-components/ref-line/refline.js","../src/core/chart-components/ref-line/index.js","../src/core/chart-components/axis/axis-line-node.js","../src/core/chart-components/axis/axis-label-node.js","../src/core/chart-components/axis/axis-tick-node.js","../src/core/chart-components/axis/axis-label-size.js","../src/core/chart-components/axis/get-continuous-label-rect.js","../src/core/chart-components/axis/axis-node-builder.js","../src/core/chart-components/axis/axis-default-settings.js","../src/core/chart-components/axis/axis-size-calculator.js","../src/core/chart-components/axis/axis.js","../src/core/chart-components/axis/index.js","../src/core/chart-components/text/text.js","../src/core/chart-components/text/index.js","../src/core/chart-components/scrollbar/index.js","../src/web/components/brush-range/brush-range-const.js","../src/web/components/brush-range/brush-range-node-builder.js","../src/web/components/brush-range/brush-range-interaction.js","../src/web/components/brush-range/brush-range.js","../src/web/components/brush-range/brush-area-dir.js","../src/web/components/brush-range/index.js","../src/core/chart-components/range/range.js","../src/core/chart-components/range/index.js","../src/core/chart-components/brush-lasso/brush-lasso.js","../src/core/chart-components/brush-lasso/index.js","../src/core/chart-components/labels/strategies/bars-overlapping-filter.js","../src/core/chart-components/labels/strategies/bars.js","../src/core/chart-components/labels/strategies/slices.js","../src/core/chart-components/labels/strategies/rows.js","../src/core/chart-components/labels/strategies/index.js","../src/core/chart-components/labels/labels.js","../src/core/chart-components/labels/index.js","../src/core/chart-components/legend-cat/legend-resolver.js","../src/core/chart-components/legend-cat/item-renderer.js","../src/core/utils/class-string.js","../src/core/chart-components/legend-cat/navigation-renderer.js","../src/core/chart-components/legend-cat/title-renderer.js","../src/core/chart-components/legend-cat/legend-layout.js","../src/core/chart-components/legend-cat/legend-cat.js","../src/core/chart-components/legend-cat/index.js","../src/core/chart-components/legend-seq/node-builder.js","../src/core/chart-components/legend-seq/legend-seq.js","../src/core/chart-components/legend-seq/index.js","../src/core/chart-components/line/line.js","../src/core/chart-components/line/index.js","../src/web/components/brush-area/brush-area.js","../src/web/components/brush-area/index.js","../src/web/components/tooltip/extractor.js","../src/web/components/tooltip/render.js","../src/web/components/tooltip/timespan-dispatcher.js","../src/web/components/tooltip/placement.js","../src/web/components/tooltip/instance-handler.js","../src/web/components/tooltip/tooltip.js","../src/web/components/tooltip/index.js","../src/core/chart-components/debug/debug-collider.js","../src/core/math/arc-to-center.js","../src/core/math/curve-flattness.js","../src/core/math/cubic-bezier-curve-interpolation.js","../src/core/math/quad-bezier-curve-interpolation.js","../src/core/scene-graph/parse-path-d.js","../src/core/chart-components/debug/debug-path-to-points.js","../src/core/chart-components/debug/index.js","../src/api/components.js","../src/web/renderer/node-tree.js","../src/web/text-manipulation/string-tokenizer.js","../src/web/text-manipulation/text-const.js","../src/web/text-manipulation/word-break.js","../src/web/text-manipulation/line-break-resolver.js","../src/web/text-manipulation/text-ellipsis.js","../src/RNHelper.js","../src/web/text-manipulation/baseline-heuristic.js","../src/web/text-manipulation/text-metrics.js","../src/core/utils/rtl-util.js","../src/web/renderer/native-svg-renderer/svg-nodes.js","../src/web/renderer/native-svg-renderer/svg-tree.js","../src/core/scene-graph/node.js","../src/core/geometry/rect.js","../src/core/geometry/circle.js","../src/core/geometry/line.js","../src/core/geometry/polygon.js","../src/core/geometry/polyline.js","../src/core/geometry/index.js","../src/core/geometry/geometry-collection.js","../src/core/math/matrix.js","../src/core/scene-graph/transform-resolver.js","../src/core/scene-graph/node-selector.js","../src/core/scene-graph/scene-node.js","../src/core/scene-graph/collision.js","../src/core/scene-graph/collision-resolver.js","../src/core/scene-graph/display-objects/display-object.js","../src/core/scene-graph/node-container.js","../src/core/scene-graph/display-objects/container.js","../src/core/scene-graph/display-objects/stage.js","../src/core/scene-graph/display-objects/gradient-item.js","../src/core/scene-graph/display-objects/pattern-item.js","../src/core/scene-graph/display-objects/rect.js","../src/core/scene-graph/display-objects/circle.js","../src/core/scene-graph/display-objects/line.js","../src/core/scene-graph/polyline-to-polygon-collider.js","../src/core/utils/flatten-array.js","../src/core/scene-graph/display-objects/path.js","../src/core/scene-graph/display-objects/text.js","../src/core/scene-graph/display-objects/index.js","../src/core/scene-graph/context.js","../src/core/scene-graph/scene.js","../src/core/utils/crypto.js","../src/web/renderer/native-svg-renderer/svg-gradient.js","../src/web/renderer/native-svg-renderer/svg-pattern.js","../src/web/renderer/renderer-box.js","../src/web/renderer/index.js","../src/web/text-manipulation/inject-textbounds.js","../src/web/renderer/native-svg-renderer/svg-renderer.js","../src/api/renderers.js","../src/api/scales.js","../src/core/utils/logger.js","../src/core/theme/light/index.js","../src/index.js"],"sourcesContent":["const domElement = (name, rect = { x: 0, y: 0, width: 300, height: 300 }) => {\n    const e = {\n           name,\n           attributes: {},\n           style: {},\n           children: [],\n           listeners: [],\n           parentNode: null,\n           parentElement: null,\n           ownerDocument: {\n           createElementNS(ns, tag) {\n           return domElement(`${ns}:${tag}`);\n           },\n           createElement(tag) {\n           return domElement(tag);\n           }\n           },\n           cloneNode(b) {\n           const ret = domElement(this.name);\n           if (b) {\n           ret.children = b.children.slice();\n           }\n           return ret;\n           },\n           replaceChild(add, remove) {\n           this.children.splice(this.children.indexOf(remove), 1, add);\n           },\n           setAttribute(attr, value) {\n           this.attributes[attr] = value;\n           },\n           getAttribute(attr) {\n           return this.attributes[attr];\n           },\n           appendChild(el) {\n           this.children.push(el);\n           el.parentNode = this;\n           el.parentElement = this;\n           },\n           get firstChild() {\n           return this.children[0];\n           },\n           removeChild(el) {\n           this.children.splice(this.children.indexOf(el), 1);\n           el.parentNode = null;\n           el.parentElement = this;\n           },\n           addEventListener(key, val) {\n           const obj = {};\n           obj[key] = val;\n           this.listeners.push(obj);\n           },\n           removeEventListener(key, val) {\n           for (let i = this.listeners.length - 1; i >= 0; i--) {\n           if (this.listeners[i][key] === val) {\n           this.listeners.splice(i, 1);\n           }\n           }\n           },\n           trigger(listenerKey, arg) {\n           this.listeners\n           .filter(l => typeof l[listenerKey] !== 'undefined')\n           .forEach(l => l[listenerKey].call(this, arg));\n           },\n           getBoundingClientRect() {\n           return {\n           left: rect.x,\n           top: rect.y,\n           width: rect.width,\n           height: rect.height\n           };\n           },\n           contains(target) {\n           return this.children.indexOf(target) !== -1;\n           }\n           };\n   \n   \n           return e;\n   };\n\nexport default {\n    createElementNS: function (ns, tag) {\n        return domElement(`${ns}:${tag}`);\n    },\n    createElement: function (tag) {\n        return domElement(tag);\n    },\n    elementFromPoint: function(x, y) {\n        return domElement('xy');\n    }\n};\n ","var ARG_LENGTH = {\n  a: 7,\n  c: 6,\n  h: 1,\n  l: 2,\n  m: 2,\n  q: 4,\n  s: 4,\n  t: 2,\n  v: 1,\n  z: 0\n};\nvar SEGMENT_PATTERN = /([astvzqmhlc])([^astvzqmhlc]*)/ig;\nvar NUMBER = /-?[0-9]*\\.?[0-9]+(?:e[-+]?\\d+)?/ig;\n\nfunction parseValues(args) {\n  var numbers = args.match(NUMBER);\n  return numbers ? numbers.map(Number) : [];\n}\n/**\n * parse an svg path data string. Generates an Array\n * of commands where each command is an Array of the\n * form `[command, arg1, arg2, ...]`\n *\n * https://www.w3.org/TR/SVG/paths.html#PathDataGeneralInformation\n * @ignore\n *\n * @param {string} path\n * @returns {array}\n */\n\n\nfunction parse(path) {\n  var data = [];\n  var p = String(path).trim(); // A path data segment (if there is one) must begin with a \"moveto\" command\n\n  if (p[0] !== 'M' && p[0] !== 'm') {\n    return data;\n  }\n\n  p.replace(SEGMENT_PATTERN, function (_, command, args) {\n    var type = command.toLowerCase();\n    var theArgs = parseValues(args);\n    var theCommand = command; // overloaded moveTo\n\n    if (type === 'm' && theArgs.length > 2) {\n      data.push([theCommand].concat(theArgs.splice(0, 2)));\n      type = 'l';\n      theCommand = theCommand === 'm' ? 'l' : 'L';\n    } // Ignore invalid commands\n\n\n    if (theArgs.length < ARG_LENGTH[type]) {\n      return '';\n    }\n\n    data.push([theCommand].concat(theArgs.splice(0, ARG_LENGTH[type]))); // The command letter can be eliminated on subsequent commands if the\n    // same command is used multiple times in a row (e.g., you can drop the\n    // second \"L\" in \"M 100 200 L 200 100 L -100 -200\" and use\n    // \"M 100 200 L 200 100 -100 -200\" instead).\n\n    while (theArgs.length >= ARG_LENGTH[type] && theArgs.length && ARG_LENGTH[type]) {\n      data.push([theCommand].concat(theArgs.splice(0, ARG_LENGTH[type])));\n    }\n\n    return '';\n  });\n  return data;\n}\n\nvar parsePath = parse;\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\n/**\n * Work around for https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8438884/\n * @ignore\n */\n\nfunction supportsSvgPathArgument(window) {\n  var canvas = window.document.createElement('canvas');\n  var g = canvas.getContext('2d');\n  var p = new window.Path2D('M0 0 L1 1');\n  g.strokeStyle = 'red';\n  g.lineWidth = 1;\n  g.stroke(p);\n  var imgData = g.getImageData(0, 0, 1, 1);\n  return imgData.data[0] === 255; // Check if pixel is red\n}\n\nfunction rotatePoint(point, angle) {\n  var nx = point.x * Math.cos(angle) - point.y * Math.sin(angle);\n  var ny = point.y * Math.cos(angle) + point.x * Math.sin(angle);\n  point.x = nx;\n  point.y = ny;\n}\n\nfunction translatePoint(point, dx, dy) {\n  point.x += dx;\n  point.y += dy;\n}\n\nfunction scalePoint(point, s) {\n  point.x *= s;\n  point.y *= s;\n}\n\nfunction polyFillPath2D(window) {\n  if (typeof window === 'undefined' || !window.CanvasRenderingContext2D) {\n    return;\n  }\n\n  if (window.Path2D && supportsSvgPathArgument(window)) {\n    return;\n  }\n  /**\n     * Crates a Path2D polyfill object\n     * @constructor\n     * @ignore\n     * @param {String} path\n     */\n\n\n  var Path2D =\n  /*#__PURE__*/\n  function () {\n    function Path2D(path) {\n      _classCallCheck(this, Path2D);\n\n      this.segments = [];\n\n      if (path && path instanceof Path2D) {\n        var _this$segments;\n\n        (_this$segments = this.segments).push.apply(_this$segments, _toConsumableArray(path.segments));\n      } else if (path) {\n        this.segments = parsePath(path);\n      }\n    }\n\n    _createClass(Path2D, [{\n      key: \"addPath\",\n      value: function addPath(path) {\n        if (path && path instanceof Path2D) {\n          var _this$segments2;\n\n          (_this$segments2 = this.segments).push.apply(_this$segments2, _toConsumableArray(path.segments));\n        }\n      }\n    }, {\n      key: \"moveTo\",\n      value: function moveTo(x, y) {\n        this.segments.push(['M', x, y]);\n      }\n    }, {\n      key: \"lineTo\",\n      value: function lineTo(x, y) {\n        this.segments.push(['L', x, y]);\n      }\n    }, {\n      key: \"arc\",\n      value: function arc(x, y, r, start, end, ccw) {\n        this.segments.push(['AC', x, y, r, start, end, !!ccw]);\n      }\n    }, {\n      key: \"arcTo\",\n      value: function arcTo(x1, y1, x2, y2, r) {\n        this.segments.push(['AT', x1, y1, x2, y2, r]);\n      }\n    }, {\n      key: \"ellipse\",\n      value: function ellipse(x, y, rx, ry, angle, start, end, ccw) {\n        this.segments.push(['E', x, y, rx, ry, angle, start, end, !!ccw]);\n      }\n    }, {\n      key: \"closePath\",\n      value: function closePath() {\n        this.segments.push(['Z']);\n      }\n    }, {\n      key: \"bezierCurveTo\",\n      value: function bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y) {\n        this.segments.push(['C', cp1x, cp1y, cp2x, cp2y, x, y]);\n      }\n    }, {\n      key: \"quadraticCurveTo\",\n      value: function quadraticCurveTo(cpx, cpy, x, y) {\n        this.segments.push(['Q', cpx, cpy, x, y]);\n      }\n    }, {\n      key: \"rect\",\n      value: function rect(x, y, width, height) {\n        this.segments.push(['R', x, y, width, height]);\n      }\n    }]);\n\n    return Path2D;\n  }();\n\n  var cFill = window.CanvasRenderingContext2D.prototype.fill;\n  var cStroke = window.CanvasRenderingContext2D.prototype.stroke;\n\n  function buildPath(canvas, segments) {\n    var endAngle;\n    var startAngle;\n    var largeArcFlag;\n    var sweepFlag;\n    var endPoint;\n    var midPoint;\n    var angle;\n    var lambda;\n    var t1;\n    var t2;\n    var x;\n    var x1;\n    var y;\n    var y1;\n    var r;\n    var rx;\n    var ry;\n    var w;\n    var h;\n    var pathType;\n    var centerPoint;\n    var cpx;\n    var cpy;\n    var qcpx;\n    var qcpy;\n    var ccw;\n    var startPoint = {\n      x: 0,\n      y: 0\n    };\n    var currentPoint = {\n      x: 0,\n      y: 0\n    };\n    canvas.beginPath();\n\n    for (var i = 0; i < segments.length; ++i) {\n      var s = segments[i];\n      pathType = s[0]; // Reset control point if command is not cubic\n\n      if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n        cpx = null;\n        cpy = null;\n      }\n\n      if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n        qcpx = null;\n        qcpy = null;\n      }\n\n      switch (pathType) {\n        case 'm':\n        case 'M':\n          if (pathType === 'm') {\n            x += s[1];\n            y += s[2];\n          } else {\n            x = s[1];\n            y = s[2];\n          }\n\n          if (pathType === 'M' || !startPoint) {\n            startPoint = {\n              x: x,\n              y: y\n            };\n          }\n\n          canvas.moveTo(x, y);\n          break;\n\n        case 'l':\n          x += s[1];\n          y += s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'L':\n          x = s[1];\n          y = s[2];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'H':\n          x = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'h':\n          x += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'V':\n          y = s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'v':\n          y += s[1];\n          canvas.lineTo(x, y);\n          break;\n\n        case 'a':\n        case 'A':\n          if (pathType === 'a') {\n            x += s[6];\n            y += s[7];\n          } else {\n            x = s[6];\n            y = s[7];\n          }\n\n          rx = s[1]; // rx\n\n          ry = s[2]; // ry\n\n          angle = s[3] * Math.PI / 180;\n          largeArcFlag = !!s[4];\n          sweepFlag = !!s[5];\n          endPoint = {\n            x: x,\n            y: y\n          }; // https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n\n          midPoint = {\n            x: (currentPoint.x - endPoint.x) / 2,\n            y: (currentPoint.y - endPoint.y) / 2\n          };\n          rotatePoint(midPoint, -angle); // radius correction\n\n          lambda = midPoint.x * midPoint.x / (rx * rx) + midPoint.y * midPoint.y / (ry * ry);\n\n          if (lambda > 1) {\n            lambda = Math.sqrt(lambda);\n            rx *= lambda;\n            ry *= lambda;\n          }\n\n          centerPoint = {\n            x: rx * midPoint.y / ry,\n            y: -(ry * midPoint.x) / rx\n          };\n          t1 = rx * rx * ry * ry;\n          t2 = rx * rx * midPoint.y * midPoint.y + ry * ry * midPoint.x * midPoint.x;\n\n          if (sweepFlag !== largeArcFlag) {\n            scalePoint(centerPoint, Math.sqrt((t1 - t2) / t2) || 0);\n          } else {\n            scalePoint(centerPoint, -Math.sqrt((t1 - t2) / t2) || 0);\n          }\n\n          startAngle = Math.atan2((midPoint.y - centerPoint.y) / ry, (midPoint.x - centerPoint.x) / rx);\n          endAngle = Math.atan2(-(midPoint.y + centerPoint.y) / ry, -(midPoint.x + centerPoint.x) / rx);\n          rotatePoint(centerPoint, angle);\n          translatePoint(centerPoint, (endPoint.x + currentPoint.x) / 2, (endPoint.y + currentPoint.y) / 2);\n          canvas.save();\n          canvas.translate(centerPoint.x, centerPoint.y);\n          canvas.rotate(angle);\n          canvas.scale(rx, ry);\n          canvas.arc(0, 0, 1, startAngle, endAngle, !sweepFlag);\n          canvas.restore();\n          break;\n\n        case 'C':\n          cpx = s[3]; // Last control point\n\n          cpy = s[4];\n          x = s[5];\n          y = s[6];\n          canvas.bezierCurveTo(s[1], s[2], cpx, cpy, x, y);\n          break;\n\n        case 'c':\n          canvas.bezierCurveTo(s[1] + x, s[2] + y, s[3] + x, s[4] + y, s[5] + x, s[6] + y);\n          cpx = s[3] + x; // Last control point\n\n          cpy = s[4] + y;\n          x += s[5];\n          y += s[6];\n          break;\n\n        case 'S':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1], s[2], s[3], s[4]);\n          cpx = s[1]; // last control point\n\n          cpy = s[2];\n          x = s[3];\n          y = s[4];\n          break;\n\n        case 's':\n          if (cpx === null || cpx === null) {\n            cpx = x;\n            cpy = y;\n          }\n\n          canvas.bezierCurveTo(2 * x - cpx, 2 * y - cpy, s[1] + x, s[2] + y, s[3] + x, s[4] + y);\n          cpx = s[1] + x; // last control point\n\n          cpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          break;\n\n        case 'Q':\n          qcpx = s[1]; // last control point\n\n          qcpy = s[2];\n          x = s[3];\n          y = s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'q':\n          qcpx = s[1] + x; // last control point\n\n          qcpy = s[2] + y;\n          x += s[3];\n          y += s[4];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'T':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x = s[1];\n          y = s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 't':\n          if (qcpx === null || qcpx === null) {\n            qcpx = x;\n            qcpy = y;\n          }\n\n          qcpx = 2 * x - qcpx; // last control point\n\n          qcpy = 2 * y - qcpy;\n          x += s[1];\n          y += s[2];\n          canvas.quadraticCurveTo(qcpx, qcpy, x, y);\n          break;\n\n        case 'z':\n        case 'Z':\n          x = startPoint.x;\n          y = startPoint.y;\n          startPoint = undefined;\n          canvas.closePath();\n          break;\n\n        case 'AC':\n          // arc\n          x = s[1];\n          y = s[2];\n          r = s[3];\n          startAngle = s[4];\n          endAngle = s[5];\n          ccw = s[6];\n          canvas.arc(x, y, r, startAngle, endAngle, ccw);\n          break;\n\n        case 'AT':\n          // arcTo\n          x1 = s[1];\n          y1 = s[2];\n          x = s[3];\n          y = s[4];\n          r = s[5];\n          canvas.arcTo(x1, y1, x, y, r);\n          break;\n\n        case 'E':\n          // ellipse\n          x = s[1];\n          y = s[2];\n          rx = s[3];\n          ry = s[4];\n          angle = s[5];\n          startAngle = s[6];\n          endAngle = s[7];\n          ccw = s[8];\n          canvas.save();\n          canvas.translate(x, y);\n          canvas.rotate(angle);\n          canvas.scale(rx, ry);\n          canvas.arc(0, 0, 1, startAngle, endAngle, ccw);\n          canvas.restore();\n          break;\n\n        case 'R':\n          // rect\n          x = s[1];\n          y = s[2];\n          w = s[3];\n          h = s[4];\n          startPoint = {\n            x: x,\n            y: y\n          };\n          canvas.rect(x, y, w, h);\n          break;\n\n        default: // throw new Error(`${pathType} is not implemented`); ?\n\n      }\n\n      currentPoint.x = x;\n      currentPoint.y = y;\n    }\n  }\n\n  window.CanvasRenderingContext2D.prototype.fill = function fill() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var fillRule = 'nonzero';\n\n    if (args.length === 0 || args.length === 1 && typeof args[0] === 'string') {\n      cFill.apply(this, args);\n      return;\n    }\n\n    if (arguments.length === 2) {\n      fillRule = args[1];\n    }\n\n    var path = args[0];\n    buildPath(this, path.segments);\n    cFill.call(this, fillRule);\n  };\n\n  window.CanvasRenderingContext2D.prototype.stroke = function stroke(path) {\n    if (!path) {\n      cStroke.call(this);\n      return;\n    }\n\n    buildPath(this, path.segments);\n    cStroke.call(this);\n  };\n\n  window.Path2D = Path2D;\n}\n\nvar path2dPolyfill = polyFillPath2D;\n\nif (typeof window !== 'undefined') {\n  path2dPolyfill(window);\n}\n\nvar path2dPolyfill_1 = path2dPolyfill;\nvar parsePath_1 = parsePath;\nvar src = {\n  path2dPolyfill: path2dPolyfill_1,\n  parsePath: parsePath_1\n};\n\nexport default src;\nexport { parsePath_1 as parsePath, path2dPolyfill_1 as path2dPolyfill };\n//# sourceMappingURL=index.esm.js.map\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","export default { version: '0.24.0' };\n","/**\n * Initilize a new dock configuration\n * @private\n * @param {object} [settings] - Settings object\n * @returns {object} A dock configuration instance\n * @example\n * let instance = dockConfig({\n *  dock: 'left',\n *  displayOrder: 2,\n *  prioOrder: 1,\n *  preferredSize: 33,\n *  minimumLayoutMode: 'L',\n *  show: true\n * });\n */\nfunction dockConfig(settings = {}, callbackContext = {}) {\n  let {\n    dock = 'center',\n    displayOrder = 0,\n    prioOrder = 0,\n    preferredSize = 0,\n    minimumLayoutMode,\n    show = true\n  } = settings;\n\n  // avoid empty string dock\n  dock = dock || 'center';\n\n  /**\n   * @private\n   */\n  return {\n\n    /**\n     * Returns the preferred size of a component.\n     * The return value of the function can either be a number representing the required size in the dock direction\n     * or an object with a `size` and `edgeBleed` property.\n     * @param {object} [inner]\n     * @param {object} [outer]\n     * @returns {number|object} Returns the computed preferred size\n     * @example\n     * dockConfig.computePreferredSize(() => 150); // Require a size of 150 in the dock direction\n     *\n     * dockConfig.computePreferredSize(() => ({\n     *  size: 150,\n     *  edgeBleed: {\n     *    left: 50,\n     *    right: 50\n     *  }\n     * })); // Require a size of 150 in the dock direction and a bleed size of 50 to the left and right dock direction\n     */\n    computePreferredSize({ inner, outer }) {\n      if (typeof preferredSize === 'function') {\n        return preferredSize({ inner, outer, dock: this.dock() }, callbackContext);\n      }\n      return preferredSize;\n    },\n\n    /**\n     * Set the dock direction, supported values are left | right | top | bottom. Any other value will be interpreted as center dock.\n     * @param {string} [val=''] - Dock direction\n     * @returns {this} The current context\n     * @example\n     * dockConfig.dock('left');\n     */\n    dock(val) {\n      if (typeof val !== 'undefined') {\n        dock = val;\n        return this;\n      }\n      return typeof dock === 'function' ? dock(callbackContext) : dock;\n    },\n\n    /**\n     * The `displayOrder` property is used by the layout engine to lay out components.\n     * Components are interpreted in the ascending order of the `displayOrder` value. The layout engine apply the value in two ways,\n     * the first is the order in which components are rendererd. The second is the area components are laid out in\n     * when they have a direction, i.e. docked to either top, bottom, left or right.\n     *\n     * If docked at the same area, the component with a higher `displayOrder` will be rendered\n     * on top of the component with a lower `displayOrder`. It can be seen as defining a z-index.\n     * A lower `displayOrder` also means that a component will be laid out first in a given direction,\n     * i.e. laid out closer to the central area (non-directional area) then a component with a higher `displayOrder`.\n     * It can in this case be seen as the x-index or y-index.\n     * @param {number} [val=0] - The display order\n     * @returns {this|number} The current context or display order\n     * @example\n     * dockConfig.displayOrder(99);\n     */\n    displayOrder(val) {\n      if (typeof val !== 'undefined') {\n        displayOrder = val;\n        return this;\n      }\n      return typeof displayOrder === 'function' ? displayOrder(callbackContext) : displayOrder;\n    },\n\n    /**\n     * The `prioOrder` property is used to define the order in which components are added to the layout engine,\n     * this is done before any components are laid out. When there is not enough space to add any more components\n     * to a given area, all components not all ready added, are then discarded. The `prioOrder` is interpreted\n     * in the ascending order. Such that a lower value is added to the layout engine first.\n     * @param {number} [val=0] - The prio order\n     * @returns {this|number} The current context or prio order\n     * @example\n     * dockConfig.prioOrder(-1);\n     */\n    prioOrder(val) {\n      if (typeof val !== 'undefined') {\n        prioOrder = val;\n        return this;\n      }\n      return typeof prioOrder === 'function' ? prioOrder(callbackContext) : prioOrder;\n    },\n\n    /**\n     * Ger or set the minimumLayoutMode\n     * @param {string|object} [val] - The minimum layout mode\n     * @returns {string|object|this} If no parameter is passed the current context is returned, else the current layout mode.\n     * @example\n     * dockConfig.minimumLayoutMode('L');\n     * dockConfig.minimumLayoutMode({ width: 'S', height: 'L' });\n     */\n    minimumLayoutMode(val) {\n      if (typeof val !== 'undefined') {\n        minimumLayoutMode = val;\n        return this;\n      }\n      return typeof minimumLayoutMode === 'function' ? minimumLayoutMode(callbackContext) : minimumLayoutMode;\n    },\n\n    /**\n     * Set the component visibility. If false the component is not added to the layout engine.\n     * @param {boolean} [val=true] - Toggle visibility\n     * @returns {this|boolean} The current context or show\n     */\n    show(val) {\n      if (typeof val !== 'undefined') {\n        show = val;\n        return this;\n      }\n      return typeof show === 'function' ? show(callbackContext) : show;\n    }\n  };\n}\n\nexport default dockConfig;\n","import extend from 'extend';\n\nfunction roundRect(rect) {\n  rect.x = Math.floor(rect.x);\n  rect.y = Math.floor(rect.y);\n  rect.width = Math.floor(rect.width);\n  rect.height = Math.floor(rect.height);\n}\n\nexport function resolveContainerRects(rect, settings) {\n  const containerRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  const logicalContainerRect = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n\n  // Check input object for size\n  containerRect.width = rect.width || 0;\n  containerRect.height = rect.height || 0;\n  if (typeof settings.size !== 'undefined') {\n    containerRect.width = isNaN(settings.size.width)\n      ? containerRect.width\n      : settings.size.width;\n    containerRect.height = isNaN(settings.size.height)\n      ? containerRect.height\n      : settings.size.height;\n  }\n\n  if (typeof settings.logicalSize !== 'undefined') {\n    logicalContainerRect.width = isNaN(settings.logicalSize.width)\n      ? containerRect.width\n      : settings.logicalSize.width;\n    logicalContainerRect.height = isNaN(settings.logicalSize.height)\n      ? containerRect.height\n      : settings.logicalSize.height;\n    logicalContainerRect.align = isNaN(settings.logicalSize.align)\n      ? 0.5\n      : Math.min(Math.max(settings.logicalSize.align, 0), 1);\n    logicalContainerRect.preserveAspectRatio = settings.logicalSize.preserveAspectRatio;\n  } else {\n    logicalContainerRect.width = containerRect.width;\n    logicalContainerRect.height = containerRect.height;\n    logicalContainerRect.preserveAspectRatio = false;\n  }\n\n  roundRect(logicalContainerRect);\n  roundRect(containerRect);\n\n  return { logicalContainerRect, containerRect };\n}\n\nexport function resolveSettings(s) {\n  const settings = {\n    center: {\n      minWidthRatio: 0.5,\n      minHeightRatio: 0.5,\n      minWidth: 0,\n      minHeight: 0\n    }\n  };\n\n  extend(true, settings, s);\n\n  settings.center.minWidthRatio = Math.min(\n    Math.max(settings.center.minWidthRatio, 0),\n    1\n  ); // Only accept value between 0-1\n  settings.center.minHeightRatio = Math.min(\n    Math.max(settings.center.minHeightRatio, 0),\n    1\n  ); // Only accept value between 0-1\n  settings.center.minWidth = Math.max(settings.center.minWidth, 0); // Consider <= 0 to be falsy and fallback to ratio\n  settings.center.minHeight = Math.max(settings.center.minHeight, 0); // Consider <= 0 to be falsy and fallback to ratio\n\n  return settings;\n}\n","export function isNumber(v) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\nexport function notNumber(value) {\n  return typeof value !== 'number' || isNaN(value);\n}\n","import { isNumber } from '../utils/is-number';\n\nexport function getMinMax(points) {\n  const num = points.length;\n  let xMin = NaN;\n  let xMax = NaN;\n  let yMin = NaN;\n  let yMax = NaN;\n\n  for (let i = 0; i < num; i++) {\n    xMin = isNaN(xMin) ? points[i].x : Math.min(xMin, points[i].x);\n    xMax = isNaN(xMax) ? points[i].x : Math.max(xMax, points[i].x);\n    yMin = isNaN(yMin) ? points[i].y : Math.min(yMin, points[i].y);\n    yMax = isNaN(yMax) ? points[i].y : Math.max(yMax, points[i].y);\n  }\n  return [xMin, yMin, xMax, yMax];\n}\n\n/**\n * @ignore\n * @param {oject} line\n * @returns {point[]} Array of points\n */\nexport function lineToPoints(line) {\n  const x1 = line.x1 || 0;\n  const y1 = line.y1 || 0;\n  const x2 = line.x2 || 0;\n  const y2 = line.y2 || 0;\n  return [{ x: x1, y: y1 }, { x: x2, y: y2 }];\n}\n\n/**\n * @ignore\n * @param {oject} rect\n * @returns {point[]} Array of points\n */\nexport function rectToPoints(rect) {\n  return [\n    { x: rect.x, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y },\n    { x: rect.x + rect.width, y: rect.y + rect.height },\n    { x: rect.x, y: rect.y + rect.height }\n  ];\n}\n\nexport function pointsToRect(points) {\n  const [xMin, yMin, xMax, yMax] = getMinMax(points);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\nexport function pointsToCircle(points, r) {\n  return {\n    cx: points[0].x,\n    cy: points[0].y,\n    r\n  };\n}\n\nexport function pointsToLine(points) {\n  return {\n    x1: points[0].x,\n    y1: points[0].y,\n    x2: points[1].x,\n    y2: points[1].y\n  };\n}\n\nexport function pointToArray(p) {\n  return [p.x, p.y];\n}\n\nexport function arrayToPoint(ary) {\n  return { x: ary[0], y: ary[1] };\n}\n\n/**\n * @ignore\n * @param {oject}\n * @returns {string} Type of geometry\n */\nexport function getShapeType(shape) {\n  const {\n    x, y, // Point\n    width, height, // Rect\n    x1, x2, y1, y2, // Line\n    cx, cy, r, // Circle\n    vertices // Polygon\n  } = shape || {};\n\n  if (isNumber(cx) && isNumber(cy) && isNumber(r)) {\n    return 'circle';\n  }\n  if (isNumber(x1) && isNumber(x2) && isNumber(y1) && isNumber(y2)) {\n    return 'line';\n  }\n  if (isNumber(x) && isNumber(y) && isNumber(width) && isNumber(height)) {\n    return 'rect';\n  }\n  if (isNumber(x) && isNumber(y)) {\n    return 'point';\n  }\n  if (Array.isArray(vertices)) {\n    return 'polygon';\n  }\n  return null;\n}\n","export default function createRect(x, y, width, height, margin) {\n  return {\n    x: isNaN(x) ? 0 : x,\n    y: isNaN(x) ? 0 : y,\n    width: isNaN(x) ? 0 : width,\n    height: isNaN(x) ? 0 : height,\n    margin: isNaN(margin) ? 0 : margin\n  };\n}\n","import extend from 'extend';\nimport dockConfig from './config';\nimport { resolveContainerRects, resolveSettings } from './settings-resolver';\nimport { rectToPoints, pointsToRect } from '../../geometry/util';\nimport createRect from './create-rect';\n\nfunction cacheSize(c, reducedRect, layoutRect) {\n  if (typeof c.cachedSize === 'undefined') {\n    const dock = c.config.dock();\n    let size = c.comp.preferredSize({ inner: reducedRect, outer: layoutRect, dock });\n    // backwards compatibility\n    if (!isNaN(size)) {\n      size = { width: size, height: size };\n    } else if (size && !isNaN(size.size)) {\n      size.width = size.size;\n      size.height = size.size;\n    }\n\n    let relevantSize;\n    if (dock === 'top' || dock === 'bottom') {\n      relevantSize = size.height;\n    } else if (dock === 'right' || dock === 'left') {\n      relevantSize = size.width;\n    } else {\n      relevantSize = Math.max(size.width, size.height);\n    }\n    c.cachedSize = Math.ceil(relevantSize);\n    c.edgeBleed = size.edgeBleed || 0;\n  }\n  return c.cachedSize;\n}\n\nfunction validateReduceRect(rect, reducedRect, settings) {\n  // Absolute value for width/height should have predence over relative value\n  const minReduceWidth = Math.min(settings.center.minWidth, rect.width)\n    || Math.max(rect.width * settings.center.minWidthRatio, 1);\n  const minReduceHeight = Math.min(settings.center.minHeight, rect.height)\n    || Math.max(rect.height * settings.center.minHeightRatio, 1);\n  return reducedRect.width >= minReduceWidth && reducedRect.height >= minReduceHeight;\n}\n\nfunction reduceDocRect(reducedRect, c) {\n  switch (c.config.dock()) {\n    case 'top':\n      reducedRect.y += c.cachedSize;\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'bottom':\n      reducedRect.height -= c.cachedSize;\n      break;\n    case 'left':\n      reducedRect.x += c.cachedSize;\n      reducedRect.width -= c.cachedSize;\n      break;\n    case 'right':\n      reducedRect.width -= c.cachedSize;\n      break;\n    default:\n  }\n}\n\nfunction addEdgeBleed(currentEdgeBleed, c) {\n  const edgeBleed = c.edgeBleed;\n  if (!edgeBleed) {\n    return;\n  }\n  currentEdgeBleed.left = Math.max(currentEdgeBleed.left, edgeBleed.left || 0);\n  currentEdgeBleed.right = Math.max(currentEdgeBleed.right, edgeBleed.right || 0);\n  currentEdgeBleed.top = Math.max(currentEdgeBleed.top, edgeBleed.top || 0);\n  currentEdgeBleed.bottom = Math.max(currentEdgeBleed.bottom, edgeBleed.bottom || 0);\n}\n\nfunction reduceEdgeBleed(layoutRect, reducedRect, edgeBleed) {\n  if (reducedRect.x < edgeBleed.left) {\n    reducedRect.width -= edgeBleed.left - reducedRect.x;\n    reducedRect.x = edgeBleed.left;\n  }\n  const reducedRectRightBoundary = layoutRect.width - (reducedRect.x + reducedRect.width);\n  if (reducedRectRightBoundary < edgeBleed.right) {\n    reducedRect.width -= edgeBleed.right - reducedRectRightBoundary;\n  }\n  if (reducedRect.y < edgeBleed.top) {\n    reducedRect.height -= edgeBleed.top - reducedRect.y;\n    reducedRect.y = edgeBleed.top;\n  }\n  const reducedRectBottomBoundary = layoutRect.height - (reducedRect.y + reducedRect.height);\n  if (reducedRectBottomBoundary < edgeBleed.bottom) {\n    reducedRect.height -= edgeBleed.bottom - reducedRectBottomBoundary;\n  }\n}\n\nfunction reduceSingleLayoutRect(layoutRect, reducedRect, edgeBleed, c, settings) {\n  const newReduceRect = extend({}, reducedRect);\n  const newEdgeBleed = extend({}, edgeBleed);\n  reduceDocRect(newReduceRect, c);\n  addEdgeBleed(newEdgeBleed, c);\n  reduceEdgeBleed(layoutRect, newReduceRect, newEdgeBleed);\n\n  const isValid = validateReduceRect(layoutRect, newReduceRect, settings);\n  if (!isValid) {\n    return false;\n  }\n\n  reduceDocRect(reducedRect, c);\n  addEdgeBleed(edgeBleed, c);\n  return true;\n}\n\n/**\n * Updates the visible and hidden components based on components that are docked to other components.\n * For example, assume a component called myRect:\n * {\n *  key: 'myRect',\n *  type: 'rect',\n *  dock: 'bottom'\n * }\n * and a component called myLine:\n * {\n *  key: 'myLine',\n *  type: 'line',\n *  dock: '@myRect'\n * }\n * if the layout engine decides to hide myRect, then myLine should be hidden as well.\n * @param {Array} visible - Components to be decided if they should be hidden or not.\n * @param {Array} hidden - Components that are already hidden.\n * @returns {Object} containing the new visible components and additional components to be hidden.\n * @ignore\n */\nfunction filterReferencedDocks(visible, hidden) {\n  if (hidden.length === 0) {\n    return;\n  }\n\n  for (let i = 0; i < visible.length; ++i) {\n    let v = visible[i];\n    if (v.referencedDocks.length) {\n      const isAllHidden = v.referencedDocks.every(refDock => hidden.some(h => h.key === refDock));\n      if (isAllHidden) {\n        hidden.push(visible.splice(i, 1)[0]);\n      }\n    }\n  }\n}\n\nfunction reduceLayoutRect({\n  layoutRect, visible, hidden, settings\n}) {\n  const reducedRect = createRect(layoutRect.x, layoutRect.y, layoutRect.width, layoutRect.height);\n  const edgeBleed = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  const sortedComponents = visible.slice();\n  sortedComponents.sort((a, b) => a.config.prioOrder() - b.config.prioOrder()); // lower prioOrder will have higher prio\n\n  for (let i = 0; i < sortedComponents.length; ++i) {\n    const c = sortedComponents[i];\n    cacheSize(c, reducedRect, layoutRect);\n\n    if (!reduceSingleLayoutRect(layoutRect, reducedRect, edgeBleed, c, settings)) {\n      hidden.push(sortedComponents.splice(i, 1)[0]);\n      --i;\n    }\n  }\n\n  filterReferencedDocks(visible, hidden);\n\n  const filteredUnsortedComps = visible.filter(c => sortedComponents.indexOf(c) !== -1);\n  visible.length = 0;\n  visible.push(...filteredUnsortedComps);\n  reduceEdgeBleed(layoutRect, reducedRect, edgeBleed);\n  return reducedRect;\n}\n\nfunction computeRect(rect) {\n  return {\n    x: rect.margin.left + rect.x * rect.scaleRatio.x,\n    y: rect.margin.top + rect.y * rect.scaleRatio.y,\n    width: rect.width * rect.scaleRatio.x,\n    height: rect.height * rect.scaleRatio.y\n  };\n}\n\nfunction appendScaleRatio(rect, outerRect, layoutRect, containerRect) {\n  const scaleRatio = {\n    x: containerRect.width / layoutRect.width,\n    y: containerRect.height / layoutRect.height\n  };\n  const margin = {\n    left: 0,\n    top: 0\n  };\n\n  if (layoutRect.preserveAspectRatio) {\n    const xLessThenY = scaleRatio.x < scaleRatio.y;\n    // To preserve the aspect ratio, take the smallest ratio and apply in both directions to \"meet\" the size of the container\n    const minRatio = Math.min(scaleRatio.x, scaleRatio.y);\n    scaleRatio.x = minRatio;\n    scaleRatio.y = minRatio;\n    const area = xLessThenY ? 'height' : 'width';\n    const spread = (containerRect[area] - layoutRect[area] * scaleRatio.x) * layoutRect.align;\n    margin.left = xLessThenY ? 0 : spread;\n    margin.top = xLessThenY ? spread : 0;\n  }\n\n  rect.scaleRatio = scaleRatio;\n  rect.margin = margin;\n  outerRect.scaleRatio = scaleRatio;\n  outerRect.margin = margin;\n  layoutRect.scaleRatio = scaleRatio;\n  layoutRect.margin = margin;\n}\n\nfunction boundingBox(rects) {\n  const points = [].concat(...rects.map(rectToPoints));\n  return pointsToRect(points);\n}\n\nfunction positionComponents({\n  visible, layoutRect, reducedRect, containerRect\n}) {\n  const vRect = createRect(reducedRect.x, reducedRect.y, reducedRect.width, reducedRect.height);\n  const hRect = createRect(reducedRect.x, reducedRect.y, reducedRect.width, reducedRect.height);\n\n  const referencedComponents = {};\n  const referenceArray = visible.slice();\n  const elementOrder = referenceArray.slice().sort((a, b) => a.config.displayOrder() - b.config.displayOrder());\n  visible\n    .sort((a, b) => {\n      if (b.referencedDocks.length > 0) {\n        return -1;\n      }\n      if (a.referencedDocks.length > 0) {\n        return 1;\n      }\n      const diff = a.config.displayOrder() - b.config.displayOrder();\n      if (diff === 0) {\n        return referenceArray.indexOf(a) - referenceArray.indexOf(b);\n      }\n      return diff;\n    })\n    .forEach((c) => {\n      let outerRect = {};\n      let rect = {};\n      const d = c.config.dock();\n      switch (d) {\n        case 'top':\n          outerRect.height = rect.height = c.cachedSize;\n          outerRect.width = layoutRect.width;\n          rect.width = vRect.width;\n          outerRect.x = layoutRect.x;\n          rect.x = vRect.x;\n          outerRect.y = rect.y = vRect.y - c.cachedSize;\n\n          vRect.y -= c.cachedSize;\n          vRect.height += c.cachedSize;\n          break;\n        case 'bottom':\n          outerRect.x = layoutRect.x;\n          rect.x = vRect.x;\n          outerRect.y = rect.y = vRect.y + vRect.height;\n          outerRect.width = layoutRect.width;\n          rect.width = vRect.width;\n          outerRect.height = rect.height = c.cachedSize;\n\n          vRect.height += c.cachedSize;\n          break;\n        case 'left':\n          outerRect.x = rect.x = hRect.x - c.cachedSize;\n          outerRect.y = layoutRect.y;\n          rect.y = hRect.y;\n          outerRect.width = rect.width = c.cachedSize;\n          outerRect.height = layoutRect.height;\n          rect.height = hRect.height;\n\n          hRect.x -= c.cachedSize;\n          hRect.width += c.cachedSize;\n          break;\n        case 'right':\n          outerRect.x = rect.x = hRect.x + hRect.width;\n          outerRect.y = layoutRect.y;\n          rect.y = hRect.y;\n          outerRect.width = rect.width = c.cachedSize;\n          outerRect.height = layoutRect.height;\n          rect.height = hRect.height;\n\n          hRect.width += c.cachedSize;\n          break;\n        case 'center':\n          outerRect.x = rect.x = reducedRect.x;\n          outerRect.y = rect.y = reducedRect.y;\n          outerRect.width = rect.width = reducedRect.width;\n          outerRect.height = rect.height = reducedRect.height;\n          break;\n        default:\n          if (c.referencedDocks.length > 0) {\n            const refs = c.referencedDocks\n              .map(ref => referencedComponents[ref])\n              .filter(ref => !!ref);\n            if (refs.length > 0) {\n              outerRect = boundingBox(refs.map(ref => ref.outerRect));\n              rect = boundingBox(refs.map(ref => ref.r));\n            }\n          }\n          break;\n      }\n      if (c.key) {\n        referencedComponents[c.key] = {\n          // store the size of this component\n          r: rect,\n          outerRect\n        };\n      }\n      appendScaleRatio(rect, outerRect, layoutRect, containerRect);\n      rect.edgeBleed = c.edgeBleed;\n      rect.computed = computeRect(rect);\n      outerRect.edgeBleed = c.edgeBleed;\n      outerRect.computed = computeRect(outerRect);\n      c.comp.resize(rect, outerRect);\n      c.cachedSize = undefined;\n      c.edgeBleed = undefined;\n    });\n  return visible.map(c => elementOrder.indexOf(c));\n}\n\nfunction checkShowSettings(strategySettings, dockSettings, logicalContainerRect) {\n  const layoutModes = strategySettings.layoutModes || {};\n  const minimumLayoutMode = dockSettings.minimumLayoutMode();\n  let show = dockSettings.show();\n  if (show && typeof minimumLayoutMode === 'object') {\n    show = layoutModes[minimumLayoutMode.width]\n      && layoutModes[minimumLayoutMode.height]\n      && logicalContainerRect.width >= layoutModes[minimumLayoutMode.width].width\n      && logicalContainerRect.height >= layoutModes[minimumLayoutMode.height].height;\n  } else if (show && minimumLayoutMode !== undefined) {\n    show = layoutModes[minimumLayoutMode]\n      && logicalContainerRect.width >= layoutModes[minimumLayoutMode].width\n      && logicalContainerRect.height >= layoutModes[minimumLayoutMode].height;\n  }\n  return show;\n}\n\nfunction validateComponent(component) {\n  if (!component.settings && !component.settings) {\n    throw new Error('Invalid component settings');\n  }\n  if (!component.resize || typeof component.resize !== 'function') {\n    throw new Error('Component is missing resize function');\n  }\n  if (!component.dockConfig && !component.preferredSize) {\n    throw new Error('Component is missing preferredSize function');\n  }\n}\n\nfunction filterComponents(components, settings, rect) {\n  const visible = [];\n  const hidden = [];\n  // check show settings\n  for (let i = 0; i < components.length; ++i) {\n    const comp = components[i];\n    validateComponent(comp);\n    // backwards compatibility\n    let config;\n    if (comp.instance) {\n      config = comp.instance.dockConfig();\n    } else {\n      config = dockConfig(comp.settings.layout);\n    }\n    const key = comp.settings.key;\n    const d = config.dock();\n    const referencedDocks = /@/.test(d) ? d.split(',').map(s => s.replace(/^\\s*@/, '')) : [];\n    if (checkShowSettings(settings, config, rect)) {\n      visible.push({\n        comp,\n        key,\n        config,\n        referencedDocks\n      });\n    } else {\n      hidden.push({\n        comp,\n        key,\n        config,\n        referencedDocks\n      });\n    }\n  }\n  return [visible, hidden];\n}\n\n/**\n * @typedef {object} dock-layout-settings\n * @property {object} [logicalSize] - Logical size\n * @property {number} [logicalSize.width] - Width in pixels\n * @property {number} [logicalSize.height] - Height in pixels\n * @property {boolean} [logicalSize.preserveAspectRatio=false] - If true, takes the smallest ratio of width/height between logical and physical size ( physical / logical )\n * @property {number} [logicalSize.align=0.5] - Normalized value between 0-1. Defines how the space around the scaled axis is spread in the container, with 0.5 meaning the spread is equal on both sides. Only applicable if preserveAspectRatio is set to true\n * @property {object} [center] - Define how much space the center dock area requires\n * @property {number} [center.minWidthRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minHeightRatio=0.5] - Value between 0 and 1\n * @property {number} [center.minWidth] - Width in pixels\n * @property {number} [center.minHeight] - Height in pixels\n * @property {object<string, {width: number, height: number}>} [layoutModes] Dictionary with named sizes\n */\nfunction dockLayout(initialSettings) {\n  let settings = resolveSettings(initialSettings);\n\n  const docker = {};\n\n  docker.layout = function layout(rect, components = []) {\n    if (!rect || isNaN(rect.x) || isNaN(rect.y) || isNaN(rect.width) || isNaN(rect.height)) {\n      throw new Error('Invalid rect');\n    }\n    if (!components.length) {\n      return { visible: [], hidden: [] };\n    }\n\n    const { logicalContainerRect, containerRect } = resolveContainerRects(rect, settings);\n\n    const [visible, hidden] = filterComponents(components, settings, logicalContainerRect);\n\n    const reducedRect = reduceLayoutRect({\n      layoutRect: logicalContainerRect,\n      visible,\n      hidden,\n      settings\n    });\n    const order = positionComponents({\n      visible,\n      layoutRect: logicalContainerRect,\n      reducedRect,\n      containerRect\n    });\n    hidden.forEach((c) => {\n      c.comp.visible = false;\n      // set empty rects on hidden components\n      const r = createRect();\n      c.comp.resize(r, r);\n    });\n    return { visible: visible.map(v => v.comp), hidden: hidden.map(h => h.comp), order };\n  };\n\n  docker.settings = function settingsFn(s) {\n    settings = resolveSettings(s);\n  };\n\n  return docker;\n}\n\nexport default dockLayout;\n","/* global navigator */\n\nexport function detectPointerSupport(e) {\n  if ('onpointerdown' in e && 'onpointerup' in e) {\n    return true;\n  }\n  return false;\n}\n\nexport function detectTouchSupport(e) {\n  if (('ontouchstart' in e && 'ontouchend' in e) || navigator.maxTouchPoints > 1) {\n    return true;\n  }\n  return false;\n}\n\nexport function isTouchEvent(e) {\n  return !!e.changedTouches;\n}\n\nexport function isValidTapEvent(e, eventInfo) {\n  const isTouch = isTouchEvent(e);\n  const ee = isTouch ? e.changedTouches[0] : e;\n  const dt = Date.now() - eventInfo.time;\n  const dx = isNaN(eventInfo.x) ? 0 : Math.abs(ee.clientX - eventInfo.x);\n  const dy = isNaN(eventInfo.y) ? 0 : Math.abs(ee.clientY - eventInfo.y);\n\n  return (e.button === 0 || isTouch)\n    && !eventInfo.multiTouch\n    && dx <= 12\n    && dy <= 12\n    && dt <= 300;\n}\n","// import types from './types';\n\n/**\n * @ignore\n * @param {Array<data-source>} dataSources\n * @param {any} { logger }\n * @returns {function}\n */\nexport default function datasets(dataSources, { types, logger }) {\n  const data = {};\n\n  const sets = [];\n  if (!Array.isArray(dataSources)) {\n    logger.warn('Deprecated: \"data-source\" configuration\"');\n    sets.push(dataSources);\n  } else {\n    sets.push(...dataSources);\n  }\n\n  sets.forEach((d, i) => {\n    let datasetFactory = types(d.type);\n    if (datasetFactory) {\n      let key = d.key;\n      if (typeof d.key === 'undefined') {\n        logger.warn(`Missing key for dataset. Using index '${i}' as key.`);\n        key = i;\n      }\n      let dataset = datasetFactory({\n        key,\n        data: d.data,\n        config: d.config\n      });\n      data[key] = dataset;\n    }\n  });\n\n  /**\n   * Returns the `dataset` which has `key` as identifier\n   * @ignore\n   * @param {string} key - The dataset identifier\n   * @returns {dataset}\n   */\n  const fn = (key) => {\n    if (key) {\n      return data[key];\n    }\n    return data[Object.keys(data)[0]];\n  };\n  return fn;\n}\n\n/**\n * @typedef {object} data-source\n * @property {string} key - Unique identifier for this data source\n * @property {string} type - The dataset type\n * @property {any} data\n */\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export var slice = Array.prototype.slice;\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var peaks = series.map(peak);\n  return none(series).sort(function(a, b) { return peaks[a] - peaks[b]; });\n}\n\nfunction peak(series) {\n  var i = -1, j = 0, n = series.length, vi, vj = -Infinity;\n  while (++i < n) if ((vi = +series[i][1]) > vj) vj = vi, j = i;\n  return j;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import appearance from \"./appearance\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = appearance(series),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","export default function registryFactory(parentRegistry, registerName = 'unspecified', logger) {\n  let defaultValue;\n  const reg = {};\n  const parent = parentRegistry || {\n    get: () => undefined,\n    has: () => false,\n    default: () => undefined\n  };\n\n  defaultValue = parent.default();\n\n  /**\n   * @private\n   * @param {string} key\n   * @param {any} value\n   * @throws {TypeError} Key must be a non-empty string\n   * @returns {boolean} False if the given key already exists, true otherwise\n   * @example\n   * var r = registry();\n   * r.add( \"marker\", function(args) {\n   *   return new markers[args.type](args);\n   * });\n   *\n   */\n  function add(key, value) {\n    if (!key || typeof key !== 'string') {\n      throw new TypeError('Invalid argument: key must be a non-empty string');\n    }\n    if (key in reg) {\n      return false;\n    }\n    reg[key] = value;\n    return true;\n  }\n\n  function get(key) {\n    return reg[key] || parent.get(key);\n  }\n\n  function has(key) {\n    return !!reg[key] || parent.has(key);\n  }\n\n  function remove(key) {\n    const d = reg[key];\n    delete reg[key];\n    return d;\n  }\n\n  function getKeys() {\n    return Object.keys(reg);\n  }\n\n  function getValues() {\n    return Object.keys(reg).map(key => reg[key]);\n  }\n\n  function deflt(d) {\n    if (typeof d !== 'undefined') {\n      defaultValue = d;\n    }\n    return defaultValue;\n  }\n\n  /**\n   * @alias registry\n   * @interface\n   * @param {string} key\n   * @param {any} value\n   */\n  function registry(key, value) {\n    if (typeof value !== 'undefined') {\n      return add(key, value);\n    }\n    const ret = get(key);\n    if (logger && typeof ret === 'undefined') {\n      logger.warn(`${key} does not exist in ${registerName} registry`);\n    }\n    return ret || get(defaultValue);\n  }\n\n  registry.add = add;\n  registry.get = get;\n  registry.has = has;\n  registry.remove = remove;\n  registry.getKeys = getKeys;\n  registry.getValues = getValues;\n  registry.default = deflt;\n  registry.register = add; // deprecated\n\n  return registry;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"-\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"],\n  minus: \"-\"\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import { formatLocale } from 'd3-format';\n\nexport default function formatter(pattern, thousand, decimal) {\n  let locale,\n    d3format;\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   * @private\n   *\n   * @param  {Number} value   The number to be formatted\n   * @return {String}         [description]\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Set the locale for the formatter\n    *\n    * @param  {Object} args   Locale object for formatting\n    * @return {Undefined}      Returns nothing\n    */\n  format.locale = function localeFn(settings) {\n    locale = formatLocale(settings);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Resets the formatter using format.locale\n   * @ignore\n   */\n  function reset() {\n    format.locale({\n      decimal: decimal || '.',\n      thousands: thousand || ',',\n      grouping: [3],\n      currency: ['$', '']\n    });\n  }\n  reset();\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Number} v   Value\n    * @param  {String} t   Thousand\n    * @param  {String} d   Decimal\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v, t, d) {\n    if (t || d) {\n      thousand = t;\n      decimal = d;\n      reset();\n    }\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Change the pattern on existing formatter\n   *\n   * @param  {String} p     Pattern (optional)\n   * @return {String}       Returns the pattern\n   */\n  format.pattern = function patternFn(p) {\n    if (p) {\n      pattern = p;\n      d3format = locale.format(p);\n    }\n    return pattern;\n  };\n\n  return format;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import { timeFormatLocale } from 'd3-time-format';\n\nexport default function formatter(pattern) { // eslint-disable-line import/prefer-default-export\n  let locale = timeFormatLocale({\n    dateTime: '%x, %X',\n    date: '%-m/%-d/%Y',\n    time: '%-I:%M:%S %p',\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n  });\n\n  let d3format = locale.format(pattern);\n\n  /**\n   * Format a value according to the specified pattern created at construct\n   *\n   * @param  {Date} value   The number to be formatted\n   * @return {String}         [description]\n   * @private\n   */\n  function format(value) {\n    return d3format(value);\n  }\n\n  /**\n    * Format a value according to a specific pattern\n    * that is not the one specified in the constructor\n    *\n    * @param  {String} p   Pattern\n    * @param  {Date} v   Value\n    * @return {String}     Formatted value\n    */\n  format.format = function formatFn(p, v) {\n    return locale.format(p)(v);\n  };\n\n  /**\n   * Set the locale for the formatter\n   *\n   * @param  {Object} args   Locale object for formatting\n   * @return {Undefined}      Returns nothing\n   */\n  format.locale = function localeFn(...args) {\n    locale = timeFormatLocale(...args);\n    d3format = locale.format(pattern);\n\n    return this;\n  };\n\n  /**\n   * Parse a string to a date according to a pattern\n   *\n   * @param  {String} p   Pattern\n   * @param  {String} v   Value\n   * @return {Date}     Date\n   */\n  format.parse = function parse(p, v) {\n    return locale.parse(p)(v);\n  };\n\n  /**\n   * Returns a parser that parses strings to date according to the pattern\n   *\n   * @param  {String} p   Pattern\n   * @return {Function}   Parser\n   */\n  format.parsePattern = function parsePattern(p) {\n    return locale.parse(p);\n  };\n\n  return format;\n}\n","import registry from '../utils/registry';\n\nimport { numberFormat as d3NumberFormatter, timeFormat as d3TimeFormatter } from './d3';\n\nconst formatterRegistry = registry();\n\nformatterRegistry('d3-number', d3NumberFormatter);\nformatterRegistry('d3-time', d3TimeFormatter);\n\nexport { formatterRegistry as default };\n","/* eslint no-return-assign: 0 */\nimport formatterFn from '../formatter';\n\n// TODO - decide whether usage of .call() is appropriate when invoking accessors, if yes then arrow functions are not allowed!\n\nconst getFormatter = (data) => {\n  if (typeof data.formatter === 'function') {\n    return data.formatter();\n  }\n  const f = data.formatter || {};\n  return formatterFn(f.type || 'd3-number')(f.format || '');\n};\n\nconst accessors = {\n  id: data => `${data.source}/${data.key || data.title}`,\n  key: data => String(data.key || data.title),\n  tags: data => data.tags,\n  min: data => data.min,\n  max: data => data.max,\n  type: data => data.type,\n  title: data => String(data.title),\n  values: data => data.values,\n  value: v => v,\n  label: v => v,\n  formatter: data => getFormatter(data)\n};\n\n/**\n * Create a new field with default settings\n * @ignore\n * @return {field} Data field\n */\nexport default function field(data, {\n  id = accessors.id,\n  key = accessors.key,\n  min = accessors.min,\n  max = accessors.max,\n  type = accessors.type,\n  tags = accessors.tags,\n  title = accessors.title,\n  values = accessors.values,\n  value = accessors.value,\n  label = accessors.label,\n  formatter = accessors.formatter\n} = {}) {\n  /**\n   * @alias field\n   */\n  const f = {\n\n    /**\n     * Returns this field's id\n     * @returns {string}\n     */\n    id: () => id(data),\n\n    /**\n     * Returns this field's key\n     * @returns {string}\n     */\n    key: () => key(data),\n\n    /**\n     * Returns the input data\n     * @returns {any}\n     */\n    raw: () => data,\n    /**\n     * Returns the tags.\n     * @return {Array<string>}\n     */\n    tags: () => tags(data),\n\n    /**\n     * Returns this field's type: 'dimension' or 'measure'.\n     * @return {string}\n     */\n    type: () => type(data),\n\n    /**\n     * Returns the min value of this field.\n     * @return {number}\n     */\n    min: () => min(data),\n\n    /**\n     * Returns the max value of this field.\n     * @return {number}\n     */\n    max: () => max(data),\n\n    /**\n     * Returns this field's title.\n     * @return {string}\n     */\n    title: () => title(data),\n\n    /**\n     * Returns the values of this field.\n     * @return {Array<datum-extract>}\n     */\n    items: () => values(data),\n\n    /**\n     * Returns a formatter adapted to the content of this field.\n     */\n    formatter: () => formatter(data),\n\n    value,\n    label\n  };\n\n  return f;\n}\n","import {\n  stack,\n  stackOrderAscending,\n  stackOrderInsideOut,\n  stackOrderNone,\n  stackOrderReverse,\n  stackOffsetDiverging,\n  stackOffsetNone,\n  stackOffsetSilhouette,\n  stackOffsetExpand,\n  stackOffsetWiggle\n} from 'd3-shape';\nimport fieldFn from './field';\n\nconst OFFSETS = {\n  diverging: stackOffsetDiverging,\n  none: stackOffsetNone,\n  silhouette: stackOffsetSilhouette,\n  expand: stackOffsetExpand,\n  wiggle: stackOffsetWiggle\n};\n\nconst ORDERS = {\n  ascending: stackOrderAscending,\n  insideout: stackOrderInsideOut,\n  none: stackOrderNone,\n  reverse: stackOrderReverse\n};\n\nfunction stacked(data, config, ds) {\n  const stackIds = {};\n  const stackFn = config.stackKey;\n  const valueFn = config.value;\n  const startProp = config.startProp || 'start';\n  const endProp = config.endProp || 'end';\n  const offset = config.offset || 'none';\n  const order = config.order || 'none';\n  const valueRef = config.valueRef || '';\n\n  let maxStackCount = 0;\n\n  let valueFields = {};\n\n  for (let i = 0; i < data.items.length; i++) {\n    let p = data.items[i];\n    let sourceField = valueRef ? p[valueRef] : null;\n    if (sourceField && sourceField.source) {\n      let ff = `${sourceField.source.key || ''}/${sourceField.source.field}`;\n      if (!valueFields[ff]) {\n        valueFields[ff] = sourceField.source;\n      }\n    }\n    let sid = stackFn(p);\n    stackIds[sid] = stackIds[sid] || { items: [] };\n    stackIds[sid].items.push(p);\n\n    maxStackCount = Math.max(maxStackCount, stackIds[sid].items.length);\n  }\n\n  const keys = Array.apply(null, { length: maxStackCount }).map(Number.call, Number); // eslint-disable-line\n  const matrix = Object.keys(stackIds).map(sid => stackIds[sid].items);\n\n  const d3Stack = stack()\n    .keys(keys)\n    .value((s, key) => (s[key] ? valueFn(s[key]) : 0))\n    .order(ORDERS[order])\n    .offset(OFFSETS[offset]);\n\n  let series = d3Stack(matrix);\n  let values = [];\n\n  for (let i = 0; i < series.length; i++) {\n    let serie = series[i];\n    for (let s = 0; s < serie.length; s++) {\n      let range = serie[s];\n      let item = serie[s].data[serie.key];\n      if (!item) {\n        continue;\n      }\n      item[startProp] = { value: range[0] };\n      item[endProp] = { value: range[1] };\n      values.push(range[0], range[1]);\n    }\n  }\n\n  let stackedFields = Object.keys(valueFields).map((f) => {\n    let dSource = ds(valueFields[f].key);\n    return dSource ? dSource.field(valueFields[f].field) : null;\n  }).filter(f => !!f);\n\n  const field = fieldFn({\n    title: stackedFields.map(f => f.title()).join(', '),\n    min: Math.min(...values),\n    max: Math.max(...values),\n    type: 'measure',\n    formatter: stackedFields[0] ? stackedFields[0].formatter : undefined\n  });\n  data.fields.push(field);\n}\n\nexport { stacked as default };\n","import stack from './stack';\n\nexport default function extract(dataConfig, data = {}, opts = {}) {\n  const extracted = {\n    // items: [],\n    // fields: [],\n    // source: null,\n    // value: null,\n    // label: null,\n    // children: null,\n    // root: null,\n    // graph: null\n  };\n\n  const logger = opts.logger;\n\n  if (Array.isArray(dataConfig)) { // if data is an array, assume it's manual data input -> normalize\n    extracted.items = dataConfig.map(v => ({ value: v, label: String(v) }));\n  } else if (dataConfig) {\n    if ('collection' in dataConfig) {\n      return data.collection(dataConfig.collection);\n    }\n    const source = data.dataset ? data.dataset(dataConfig.source) : null;\n    let valueFn = dataConfig.value || (d => d);\n    let labelFn = dataConfig.label || (d => d);\n    if (dataConfig.groupBy || dataConfig.mapTo) { // DEPRECATION\n      logger.warn('Deprecated \"data\" configuration', dataConfig);\n      extracted.items = [];\n    } else if (dataConfig.hierarchy) {\n      extracted.root = source.hierarchy ? source.hierarchy(dataConfig.hierarchy) : null;\n      extracted.fields = source.fields();\n    } else if (dataConfig.items) {\n      extracted.items = dataConfig.items.map(v => ({ value: valueFn(v), label: String(labelFn(v)) }));\n    } else if (dataConfig.extract) {\n      const extractionsConfigs = Array.isArray(dataConfig.extract) ? dataConfig.extract : [dataConfig.extract];\n      extracted.items = [];\n      const sourceFields = [];\n      extractionsConfigs.forEach((cfg) => {\n        const s = cfg.source ? data.dataset(cfg.source) : source;\n        if (!s) {\n          return;\n        }\n        extracted.items.push(...s.extract(cfg));\n        if (typeof cfg.field !== 'undefined') {\n          sourceFields.push(s.field(cfg.field));\n        }\n      });\n      if (sourceFields.length) {\n        extracted.fields = sourceFields;\n      }\n      if (dataConfig.amend && Array.isArray(dataConfig.amend)) {\n        extracted.items.push(...dataConfig.amend);\n      }\n    } else if (typeof dataConfig.field !== 'undefined' && source) {\n      const f = source.field(dataConfig.field);\n      if (f) {\n        if (!extracted.fields) {\n          extracted.fields = [];\n        }\n        extracted.fields.push(f);\n        if (!('value' in dataConfig)) {\n          valueFn = f.value || (v => v);\n          labelFn = f.label || (v => v);\n          extracted.value = valueFn;\n        }\n        extracted.items = f.items().map(v => ({ value: valueFn(v), label: String(labelFn(v)), source: { field: dataConfig.field } }));\n        // TODO - add source: { key: dataConfig.source, field: dataConfig.field, data: v }\n      }\n    } else if (dataConfig.fields) {\n      dataConfig.fields.forEach((obj) => {\n        const s = typeof obj === 'object' && obj.source ? data.dataset(obj.source) : source;\n        if (!s) {\n          return;\n        }\n        let f;\n        if (typeof obj === 'object' && typeof obj.field !== 'undefined') {\n          f = s.field(obj.field);\n        } else {\n          f = s.field(obj);\n        }\n        if (f) {\n          if (!extracted.fields) {\n            extracted.fields = [];\n          }\n          extracted.fields.push(f);\n        }\n      });\n    }\n\n    if (extracted.items && dataConfig.map) {\n      extracted.items = extracted.items.map(dataConfig.map);\n    }\n  }\n\n  if (dataConfig && dataConfig.stack) {\n    stack(extracted, dataConfig.stack, data.dataset);\n  }\n  if (dataConfig && !Array.isArray(dataConfig) && typeof dataConfig.sort === 'function' && extracted.items) {\n    extracted.items = extracted.items.sort(dataConfig.sort);\n  }\n  return extracted;\n}\n","import extend from 'extend';\nimport extract from './extractor';\n\nfunction create(config, d, opts, extractor = extract) {\n  const collections = {};\n\n  (config || []).forEach((cfg) => {\n    if (!cfg.key) {\n      throw new Error('Data collection is missing \"key\" property');\n    }\n    if (typeof cfg.data === 'object' && 'collection' in cfg.data) {\n      throw new Error('Data config for collections may not reference other collections');\n    }\n    collections[cfg.key] = () => extractor(cfg.data, d, opts);\n  });\n\n  const fn = (key) => {\n    let k;\n    let cfg;\n    if (typeof key === 'string') {\n      k = key;\n    } else if (typeof key === 'object') {\n      k = key.key;\n      cfg = key;\n    }\n    if (!(k in collections)) {\n      throw new Error(`Unknown data collection: ${k}`);\n    }\n    if (typeof collections[k] === 'function') {\n      collections[k] = collections[k]();\n    }\n    let coll = collections[k];\n    if (cfg) {\n      if (cfg.fields && cfg.fields.filter) {\n        let filtered = coll.fields.filter(cfg.fields.filter);\n        if (coll.fields.length !== filtered.length) {\n          coll = extend(coll, { fields: filtered });\n        }\n      }\n    }\n\n    return coll;\n  };\n\n  return fn;\n}\n\nexport { create as default };\n","import extractData from '../../data/extractor';\n\nexport function create(options, data, deps, extractor = extractData) {\n  if (options.data) {\n    const d = extractor(options.data, data, deps);\n    if (d && d.fields && d.fields[0]) {\n      // TODO Have some magic to handle and merge formatters from multiple sources\n      return d.fields[0].formatter();\n    }\n  }\n\n  let formatterType;\n  if (options.formatter) {\n    formatterType = `${options.formatter}-${options.type || 'number'}`;\n  } else {\n    formatterType = options.type || 'd3-number';\n  }\n\n  if (deps.formatter.has(formatterType)) {\n    const f = deps.formatter.get(formatterType)(options.format || '');\n    return f;\n  }\n\n  throw new Error(`Formatter of type '${formatterType}' was not found`);\n}\n\nexport function collection(formattersConfig, data, deps, fn = create) {\n  const formatters = {};\n  return {\n    get(def) {\n      let key;\n      if (typeof def === 'string' && formattersConfig[def]) {\n        key = def;\n      } else if (typeof def === 'object' && 'formatter' in def && formattersConfig[def.formatter]) {\n        key = def.formatter;\n      } else if (typeof def === 'object' && 'type' in def && formattersConfig[def.type]) {\n        key = def.type;\n      }\n\n      if (key) {\n        formatters[key] = formatters[key] || fn(formattersConfig[key], data, deps);\n        return formatters[key];\n      }\n\n      return fn(def || {}, data, deps);\n    },\n    all() {\n      Object.keys(formattersConfig).forEach(this.get);\n      return formatters;\n    }\n  };\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.interpolator(domain); break;\n    default: this.interpolator(interpolator).domain(domain); break;\n  }\n  return this;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal() {\n  var index = map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? new Rgb(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? new Rgb((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(domain) {\n  var a = domain[0], b = domain[domain.length - 1], t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), clamp === identity || (clamp = clamper(domain)), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? clamper(domain) : identity, scale) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous(transform, untransform) {\n  return transformer()(transform, untransform);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy, identity} from \"./continuous\";\nimport {initRange} from \"./init\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(identity, identity);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {initRange} from \"./init\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n","import { notNumber } from '../../utils/is-number';\n\nfunction applyFormat(formatter) {\n  return typeof formatter === 'undefined' ? t => t : t => formatter(t);\n}\n\nfunction clamp(val) {\n  return Math.max(0, Math.min(1, val));\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction minorTicksGenerator(count, start, end) {\n  const r = Math.abs(start - end);\n  const interval = r / (count + 1);\n  const ticks = [];\n  for (let i = 1; i <= count; i++) {\n    const v = i * interval;\n    ticks.push(start < end ? start + v : start - v);\n  }\n  return ticks;\n}\n\nfunction appendMinorTicks(majorTicks, minorCount, scale) {\n  if (majorTicks.length === 1) { return majorTicks; }\n\n  const ticks = majorTicks.concat([]);\n\n  for (let i = 0; i < majorTicks.length; i++) {\n    let start = majorTicks[i];\n    let end = majorTicks[i + 1];\n\n    if (i === 0 && start !== scale.start()) { // Before and after first major tick\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n      start -= end - start;\n      end = majorTicks[i];\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else if (i === majorTicks.length - 1 && end !== scale.end()) { // After last major tick\n      end = start + (start - majorTicks[i - 1]);\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    } else {\n      ticks.push(...minorTicksGenerator(minorCount, start, end));\n    }\n  }\n\n  return ticks.filter(t => t >= scale.min() && t <= scale.max());\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function looseDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  let majorTicks = scale.ticks(count);\n  if (majorTicks.length <= 1) {\n    majorTicks = scale.ticks(count + 1);\n  }\n\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\n/**\n* Generate ticks based on a distance, for each 100th unit, one additional tick may be added.\n* Will attempt to round the bounds of domain to even values and generate ticks hitting the domain bounds.\n* @private\n* @param  {Number} distance       Distance between each tick\n* @param  {Number} scale         The scale instance\n* @param  {Number} [minorCount=0]     Number of tick added between each distance\n* @param  {Number} [unitDivider=100]   Number to divide distance with\n* @return {Array}               Array of ticks\n*/\nexport function tightDistanceBasedGenerator({\n  distance, scale, minorCount = 0, unitDivider = 100, formatter = undefined\n}) {\n  const step = !notNumber(unitDivider) && !notNumber(distance) ? Math.max(distance / unitDivider, 2) : 2;\n  const count = Math.min(1000, Math.round(step)); // safe guard against huge numbers\n  const n = count > 10 ? 10 : count;\n  scale.nice(n);\n\n  const majorTicks = scale.ticks(count);\n  const ticks = minorCount > 0 ? appendMinorTicks(majorTicks, minorCount, scale) : majorTicks;\n  ticks.sort((a, b) => a - b);\n\n  const ticksFormatted = ticks.map(applyFormat(formatter));\n\n  return ticks.map((tick, i) => {\n    const position = scale(tick);\n    return {\n      position,\n      start: position,\n      end: position,\n      label: ticksFormatted[i],\n      value: tick,\n      isMinor: majorTicks.indexOf(tick) === -1\n    };\n  });\n}\n\nfunction ticksByCount({\n  count, minorCount, scale, formatter\n}) {\n  return scale\n    .ticks(((count - 1) * minorCount) + count)\n    .map((tick, i) => {\n      const position = scale(tick);\n      return {\n        position,\n        start: position,\n        end: position,\n        label: formatter(tick),\n        isMinor: i % (minorCount + 1) !== 0,\n        value: tick\n      };\n    });\n}\n\nfunction ticksByValue({ values, scale, formatter = v => v }) {\n  return values\n    .sort((a, b) => (isObject(a) ? a.value : a) - (isObject(b) ? b.value : b))\n    .filter((v, i, ary) => {\n      const val = isObject(v) ? v.value : v;\n      return val <= scale.max() && val >= scale.min() && ary.indexOf(v) === i;\n    })\n    .map((v) => {\n      const isObj = isObject(v);\n      const value = isObj ? v.value : v;\n      const position = scale(value);\n      return {\n        position,\n        value,\n        label: isObj && typeof v.label !== 'undefined' ? v.label : formatter(value),\n        isMinor: isObj ? !!v.isMinor : false,\n        start: isObj && !isNaN(v.start) ? clamp(scale(v.start)) : position, // TODOHandle end < start?\n        end: isObj && !isNaN(v.end) ? clamp(scale(v.end)) : position // TODO Handle start > end?\n      };\n    });\n}\n\nfunction forceTicksAtBounds(ticks, scale, formatter) {\n  const ticksP = ticks.map(t => t.position);\n  const range = scale.range();\n\n  if (ticksP.indexOf(range[0]) === -1) {\n    ticks.splice(0, 0, {\n      position: range[0],\n      start: range[0],\n      end: range[0],\n      label: formatter(scale.start()),\n      isMinor: false,\n      value: scale.start()\n    });\n  } else if (ticks[0] && ticks[0].isMinor) {\n    ticks[0].isMinor = false; // Convert to major tick\n  }\n\n  const lastTick = ticks[ticks.length - 1];\n  if (ticksP.indexOf(range[1]) === -1) {\n    ticks.push({\n      position: range[1],\n      start: range[1],\n      end: range[1],\n      label: formatter(scale.end()),\n      isMinor: false,\n      value: scale.end()\n    });\n  } else if (lastTick && lastTick.isMinor) {\n    lastTick.isMinor = false; // Convert to major tick\n  }\n}\n\nexport function generateContinuousTicks({\n  settings,\n  scale,\n  distance,\n  formatter = val => val\n}) {\n  let ticks;\n  const minorCount = settings.minorTicks && !notNumber(settings.minorTicks.count) ? Math.min(100, settings.minorTicks.count) : 0;\n\n  if (Array.isArray(settings.ticks.values)) {\n    const values = settings.ticks.values.filter(v => (typeof v === 'object' ? !notNumber(v.value) : !notNumber(v)));\n    ticks = ticksByValue({ values, scale: scale.copy(), formatter });\n  } else if (!notNumber(settings.ticks.count)) {\n    const count = Math.min(1000, settings.ticks.count);\n    ticks = ticksByCount({\n      count, minorCount, scale: scale.copy(), formatter\n    });\n  } else {\n    const tickGen = settings.ticks.tight ? tightDistanceBasedGenerator : looseDistanceBasedGenerator;\n    ticks = tickGen({\n      distance,\n      minorCount,\n      unitDivider: settings.ticks.distance,\n      scale,\n      formatter\n    });\n\n    if (settings.ticks.forceBounds) {\n      forceTicksAtBounds(ticks, scale, formatter);\n    }\n  }\n\n  return ticks;\n}\n\nexport function generateDiscreteTicks({ scale }) {\n  const domain = scale.domain();\n  const values = domain;\n  const dataItems = scale.data().items;\n  const labels = scale.labels ? scale.labels() : values;\n  const bandwidth = scale.bandwidth();\n\n  return values.map((d, i) => {\n    const start = scale(d);\n    return {\n      position: start + (bandwidth / 2),\n      label: `${labels[i]}`,\n      data: dataItems ? dataItems[i] : undefined,\n      start,\n      end: start + bandwidth\n    };\n  });\n}\n","export default function resolveSettings(settings = {}, defaultSettings = {}, context = {}) {\n  const stngs = {};\n\n  Object.keys(defaultSettings).forEach((key) => {\n    const type = typeof settings[key];\n\n    if (type === 'function') {\n      stngs[key] = settings[key](context);\n    } else if (type === 'undefined') {\n      stngs[key] = defaultSettings[key];\n    } else {\n      stngs[key] = settings[key];\n    }\n  });\n\n  return stngs;\n}\n","import { scaleLinear as d3ScaleLinear } from 'd3-scale';\nimport extend from 'extend';\n\nimport { notNumber } from '../utils/is-number';\nimport { generateContinuousTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  min: NaN,\n  max: NaN,\n  expand: NaN,\n  include: [],\n  invert: false\n};\n\nexport const DEFAULT_TICKS_SETTINGS = {\n  tight: false,\n  forceBounds: false,\n  values: undefined,\n  count: NaN,\n  distance: 100\n};\n\nexport const DEFAULT_MINORTICKS_SETTINGS = {\n  count: NaN\n};\n\n/**\n * @typedef {object} scale--linear\n * @property {string} [type='linear']\n * @property {number} [expand] - Expand the output range\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number[]} [include] - Include specified numbers in the output range\n * @property {object} [ticks]\n * @property {boolean} [ticks.tight = false]\n * @property {boolean} [ticks.forceBounds = false]\n * @property {number} [ticks.distance = 100]  - Approximate distance between each tick\n * @property {number[]|object[]} [ticks.values] - If set, ticks are no longer generated but instead equal to this set\n * @property {number} [ticks.count]\n * @property {object} [minorTicks]\n * @property {number} [minorTicks.count = 3]\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\nfunction getMinMax(settings, fields) {\n  const min = +settings.min;\n  const max = +settings.max;\n  let fieldMin = 0;\n  let fieldMax = 1;\n  if (fields && fields[0]) {\n    const minValues = fields.map(m => m.min()).filter(v => !isNaN(v));\n    const maxValues = fields.map(m => m.max()).filter(v => !isNaN(v));\n    fieldMin = minValues.length ? Math.min(...minValues) : Number.NaN;\n    fieldMax = maxValues.length ? Math.max(...maxValues) : Number.NaN;\n\n    if (isNaN(fieldMin) || isNaN(fieldMax)) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin === 0) {\n      fieldMin = -1;\n      fieldMax = 1;\n    } else if (fieldMin === fieldMax && fieldMin) {\n      fieldMin -= Math.abs(fieldMin * 0.1);\n      fieldMax += Math.abs(fieldMax * 0.1);\n    } else if (!isNaN(settings.expand)) {\n      const range = fieldMax - fieldMin;\n      fieldMin -= range * settings.expand;\n      fieldMax += range * settings.expand;\n    }\n\n    if (Array.isArray(settings.include)) {\n      const i = settings.include.filter(n => !isNaN(n));\n      fieldMin = Math.min(...i, fieldMin);\n      fieldMax = Math.max(...i, fieldMax);\n    }\n  }\n\n  return {\n    mini: !isNaN(min) ? min : fieldMin,\n    maxi: !isNaN(max) ? max : fieldMax\n  };\n}\n\nfunction initNormScale(normScale, scale) {\n  if (normScale.instance) {\n    return;\n  }\n  normScale.instance = scale.copy();\n  normScale.instance.domain([scale.start(), scale.end()]);\n  normScale.instance.clamp(true);\n  normScale.instance.range(normScale.invert ? [1, 0] : [0, 1]);\n}\n/**\n * @alias scaleLinear\n * @private\n * @param { object } settings\n * @param { field[] } [fields]\n * @return { linear }\n */\n\nexport default function scaleLinear(settings = {}, data = {}, resources = {}) {\n  const d3Scale = d3ScaleLinear();\n  const normScale = { instance: null, invert: false };\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.minorTicks = resolveSettings(settings.minorTicks, DEFAULT_MINORTICKS_SETTINGS, ctx);\n  let tickCache;\n\n  /**\n   * @alias linear\n   * @private\n   * @param { Object } value\n   * @return { number }\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  fn.data = () => data;\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_invert }\n   * @param { number } value The inverted value\n   * @return { number } The inverted scaled value\n   */\n  fn.invert = function invert(value) {\n    return d3Scale.invert(value);\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_rangeRound }\n   * @param { number[] } values Range values\n   * @return { linear } The instance this method was called on\n   */\n  fn.rangeRound = function rangeRound(values) {\n    d3Scale.rangeRound(values);\n    return fn;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_clamp }\n   * @param { boolean } [ value=true ] TRUE if clamping should be enabled\n   * @return { linear } The instance this method was called on\n   */\n  fn.clamp = function clamp(value = true) {\n    d3Scale.clamp(value);\n    return fn;\n  };\n\n  /**\n   * Get cached ticks (if any)\n   * @return { number | undefined }\n   */\n  fn.cachedTicks = function fnCachedTicks() {\n    return tickCache;\n  };\n\n  /**\n   * Clear the tick cache\n   * @return {number | undefined}\n   */\n  fn.clearTicksCache = function fnClearTicks() {\n    tickCache = undefined;\n    return this;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_ticks }\n   * @param { Object } input Number of ticks to generate or an object passed to tick generator\n   * @return { number[] | Object } Array of ticks or any type the custom tick generator returns\n   */\n  fn.ticks = function ticks(input) {\n    if (input !== null && typeof input === 'object') {\n      input.settings = input.settings || {};\n      // TODO Discontinue support for custom ticks settings as argument\n      input.settings = extend(true, {}, stgns, input.settings);\n      input.scale = fn;\n      tickCache = generateContinuousTicks(input);\n      return tickCache;\n    }\n\n    tickCache = d3Scale.ticks(input);\n    return tickCache;\n  };\n\n  /**\n   * {@link https://github.com/d3/d3-scale#continuous_nice }\n   * @param { number } count\n   * @return { linear } The instance this method was called on\n   */\n  fn.nice = function nice(count) {\n    d3Scale.nice(count);\n\n    return fn;\n  };\n\n  // TODO Support this?\n  fn.tickFormat = function tickFormat(count, format) {\n    return d3Scale.tickFormat(count, format);\n  };\n\n  // TODO Support this?\n  fn.interpolate = function interpolate(func) {\n    d3Scale.interpolate(func);\n    return fn;\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get domain values\n   * @return { linear | Number[] } The instance this method was called on if a parameter is provided, otherwise the current domain is returned\n   */\n  fn.domain = function domain(values) {\n    if (arguments.length) {\n      d3Scale.domain(values);\n      if (normScale.instance) {\n        normScale.instance.domain([fn.start(), fn.end()]);\n      }\n      return fn;\n    }\n    return d3Scale.domain();\n  };\n\n  /**\n   * @param { number[] } [values] Set or Get range values\n   * @return { linear | number[] } The instance this method was called on if a parameter is provided, otherwise the current range is returned\n   */\n  fn.range = function range(values) {\n    if (arguments.length) {\n      d3Scale.range(values);\n\n      return fn;\n    }\n    return d3Scale.range();\n  };\n\n  /**\n   * Get the first value of the domain\n   * @return { number }\n   */\n  fn.start = function start() {\n    return fn.domain()[0];\n  };\n\n  /**\n   * Get the last value of the domain\n   * @return { number }\n   */\n  fn.end = function end() {\n    return fn.domain()[this.domain().length - 1];\n  };\n\n  /**\n   * Get the minimum value of the domain\n   * @return { number }\n   */\n  fn.min = function min() {\n    return Math.min(this.start(), this.end());\n  };\n\n  /**\n   * Get the maximum value of the domain\n   * @return { number }\n   */\n  fn.max = function max() {\n    return Math.max(this.start(), this.end());\n  };\n\n  /**\n   * Divides the domain and range into uniform segments, based on start and end value\n   * @param  { number } segments The number of segments\n   * @return { function } The instance this method was called on\n   * @example\n   * let s = linear();\n   * s.domain([0, 10]);\n   * s.range([0, 1]);\n   * s.classify( 2 );\n   * s.domain(); // [10, 5, 5, 0]\n   * s.range(); // [0.75, 0.75, 0.25, 0.25]\n   */\n  fn.classify = function classify(segments) {\n    let valueRange = (fn.start() - fn.end()) / segments,\n      domain = [fn.end()],\n      range = [],\n      samplePos = valueRange / 2;\n\n    for (let i = 0; i < segments; i++) {\n      let lastVal = domain[domain.length - 1] || 0,\n        calIntervalPos = lastVal + valueRange,\n        calSamplePos = lastVal + samplePos,\n        sampleColValue = fn(calSamplePos);\n\n      domain.push(...[calIntervalPos, calIntervalPos]);\n      range.push(...[sampleColValue, sampleColValue]);\n    }\n    domain.pop();\n    fn.domain(domain);\n    fn.range(range);\n\n    return fn;\n  };\n\n  fn.copy = function copy() {\n    const cop = scaleLinear(settings, data, resources);\n    cop.domain(fn.domain());\n    cop.range(fn.range());\n    cop.clamp(d3Scale.clamp());\n    return cop;\n  };\n\n  /**\n   * @param {number} d - A domain value\n   * @return {number} A normalized range output given in range 0-1\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.norm(5); // Returns 0.5\n   * scale(5); // Returns 5000\n   *\n   * scale.domain([0, 2, 10]);\n   * scale.norm(5); // Returns 0.5\n   */\n  fn.norm = function norm(d) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance(d);\n  };\n\n  /**\n   * @param {number} d - A normalized value in range 0-1\n   * @return {number} A corresponding domain value\n   * @example\n   * const scale = scaleLinear().domain([0, 10]).range([0, 10000]);\n   * scale.normInvert(0.5); // Returns 5\n   * scale.invert(5000); // Returns 5\n   */\n  fn.normInvert = function norm(t) {\n    initNormScale(normScale, fn);\n\n    return normScale.instance.invert(t);\n  };\n\n  const { mini, maxi } = getMinMax(stgns, data ? data.fields : []);\n\n  fn.domain([mini, maxi]);\n  fn.range(stgns.invert ? [1, 0] : [0, 1]);\n  normScale.invert = stgns.invert;\n\n  return fn;\n}\n","import extend from 'extend';\nimport { scaleBand as d3ScaleBand } from 'd3-scale';\nimport { generateDiscreteTicks } from './ticks/tick-generators';\nimport resolveSettings from './settings-resolver';\n\nexport const DEFAULT_SETTINGS = {\n  padding: 0,\n  paddingInner: NaN,\n  paddingOuter: NaN,\n  align: 0.5,\n  invert: false,\n  maxPxStep: NaN,\n  range: [0, 1]\n};\n\n/**\n * @typedef {object} scale--band\n * @property {string} [type='band']\n * @property {number} [padding] - {@link https://github.com/d3/d3-scale#band_padding}\n * @property {number} [paddingInner] - {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {number} [paddingOuter] - {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number} [align] - {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n * @property {number} [maxPxStep] - Explicitly limit the bandwidth to a pixel value\n * @property {function} [label] - Callback label function, applied on each datum\n * @property {function} [value] - Callback value function, applied on each datum\n * @property {array<number>|function} [range=[0, 1]] - Set range explicitly (ignored when maxPxStep takes effect)\n */\n\n/**\n * @alias scaleBand\n * @memberof picasso\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset]\n * @return { band }\n */\n\nexport default function scaleBand(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_band|d3 band scale}\n   * @alias band\n   * @private\n   * @kind function\n   * @param { Object } value\n   * @return { number }\n   */\n  const band = d3ScaleBand();\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  // I would like to define this outside of scaleBand but it cause the documentation to be in the wrong order\n  function augmentScaleBand(band, settings) { // eslint-disable-line no-shadow\n    band.data = () => data;\n\n    band.datum = domainValue => items[domainToDataMapping[domainValue]];\n\n    /**\n     * Get the first value of the domain\n     * @return { number }\n     */\n    band.start = function start() {\n      return band.domain()[0];\n    };\n\n    /**\n     * Get the last value of the domain\n     * @return { number }\n     */\n    band.end = function end() {\n      return band.domain()[band.domain().length - 1];\n    };\n\n    band.labels = () => labels;\n\n    /**\n     * Generate discrete ticks\n     * @return {Object[]} Array of ticks\n     */\n    band.ticks = function ticks(input = {}) {\n      input.scale = band;\n      return generateDiscreteTicks(input, settings.trackBy || 'label');\n    };\n  }\n  augmentScaleBand(band, settings);\n\n  /**\n   * if required creates a new scale with a restricted range\n   * so that step size is at most maxPxStep\n   * otherwise it returns itself\n   * @param { number } size\n   * @return { band }\n   */\n  band.pxScale = function pxScale(size) {\n    const max = stgns.maxPxStep;\n    if (isNaN(max)) {\n      return band;\n    }\n    const n = band.domain().length;\n    const sizeRelativeToStep = Math.max(1, (n - band.paddingInner()) + (2 * band.paddingOuter()));\n\n    if (sizeRelativeToStep * max >= size) {\n      return band;\n    }\n\n    const newBand = band.copy();\n    newBand.type = band.type;\n    augmentScaleBand(newBand, settings);\n    const t = (sizeRelativeToStep * max) / size;\n    const offset = (1 - t) * band.align();\n    newBand.range(stgns.invert ? [t + offset, offset] : [offset, t + offset]);\n\n    return newBand;\n  };\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : d => d.datum.label;\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  band.domain(values);\n  band.range(stgns.invert ? stgns.range.slice().reverse() : stgns.range);\n  band.padding(isNaN(stgns.padding) ? 0 : stgns.padding);\n  if (!isNaN(stgns.paddingInner)) { band.paddingInner(stgns.paddingInner); }\n  if (!isNaN(stgns.paddingOuter)) { band.paddingOuter(stgns.paddingOuter); }\n  band.align(isNaN(stgns.align) ? 0.5 : stgns.align);\n\n  return band;\n}\n","import extend from 'extend';\nimport bandScale, { DEFAULT_SETTINGS } from './band';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_TICKS_SETTINGS = {\n  depth: 0\n};\n\nfunction keyGen(node, valueFn, ctx) {\n  return node.ancestors()\n    .map(a => valueFn(extend({ datum: a.data }, ctx)))\n    .reverse()\n    .slice(1) // Delete root node\n    .toString();\n}\n\nfunction flattenTree(rootNode, settings, ctx) {\n  const ticksDepth = settings.ticks.depth;\n  const valueFn = settings.value;\n  const labelFn = settings.label;\n  const values = [];\n  const labels = [];\n  const items = {};\n  const ticks = [];\n  let expando = 0;\n  if (!rootNode) {\n    return {\n      values, labels, items, ticks\n    };\n  }\n\n  rootNode.eachAfter((node) => {\n    if (node.depth > 0) {\n      const key = keyGen(node, valueFn, ctx);\n      const leaves = node.leaves() || [node]; // If leaf node returns itself\n      const value = valueFn(extend({ datum: node.data }, ctx));\n      const label = labelFn(extend({ datum: node.data }, ctx));\n      const isBranch = Array.isArray(node.children);\n\n      const item = {\n        key,\n        count: leaves.length,\n        value,\n        label,\n        leftEdge: keyGen(leaves[0], valueFn, ctx),\n        rightEdge: keyGen(leaves[Math.max(leaves.length - 1, 0)], valueFn, ctx),\n        node\n        // isTick: ticksDepth === null ? !isBranch : node.depth === ticksDepth\n      };\n\n      if (isBranch) {\n        values.push(`SPACER_${expando}_SPACER`);\n        expando++;\n      } else {\n        values.push(key);\n        labels.push(label);\n      }\n\n      if ((ticksDepth <= 0 && !isBranch) || node.depth === ticksDepth) {\n        ticks.push(item);\n      }\n\n      items[key] = item;\n    }\n  });\n\n  const spill = rootNode.height - 1;\n  if (spill > 0) {\n    values.splice(-spill);\n  }\n\n  return {\n    values, labels, items, ticks\n  };\n}\n\n/**\n * @typedef {object} scale-hBand.settings\n * @private\n * @property {number} [padding=0] - Exposes {@link https://github.com/d3/d3-scale#band_padding}\n * @property {boolean} [paddingOuter=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingOuter}\n * @property {number[]} [paddingInner=0] - Exposes {@link https://github.com/d3/d3-scale#band_paddingInner}\n * @property {object} [align=0.5] - Exposes {@link https://github.com/d3/d3-scale#band_align}\n * @property {boolean} [invert=false] - Invert the output range\n */\n\n/**\n  * Hierarchical band scale, that is an augmented band scale, that takes hierarchical data as input\n * @alias scaleHierarchicalBand\n * @private\n * @param { Object } settings\n * @param { fields[] } [fields]\n * @param { dataset } [dataset] - With a root property that is an instance of D3.js Hierarchy\n * @return { h-band }\n */\n\nexport default function scaleHierarchicalBand(settings = {}, data = {}, resources = {}) {\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n  stgns.ticks = resolveSettings(settings.ticks, DEFAULT_TICKS_SETTINGS, ctx);\n  stgns.value = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  stgns.label = typeof settings.label === 'function' ? settings.label : d => d.datum.value;\n\n  let bandInstance = bandScale(stgns);\n\n  const {\n    values, labels, items, ticks\n  } = flattenTree(data.root, stgns, ctx);\n\n  /**\n   * @alias h-band\n   * @private\n   * @kind function\n   * @param { Object[] } value - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { number }\n   */\n  const hBand = function fn(val) {\n    const strVal = String(val);\n    const item = items[strVal];\n    if (item) {\n      return bandInstance(stgns.invert ? item.rightEdge : item.leftEdge);\n    }\n\n    return bandInstance(strVal);\n  };\n\n  extend(true, hBand, bandInstance);\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_bandwidth}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, bandwidth for the leaf nodes is return.\n   * @return { number }\n   */\n\n  hBand.bandwidth = function bandwidth(val) {\n    const item = items[String(val)];\n    const bw = bandInstance.bandwidth();\n    if (item && !item.isLeaf) {\n      const left = hBand(item.leftEdge);\n      const right = hBand(item.rightEdge);\n      return Math.abs(left - right) + bw;\n    }\n    return bw;\n  };\n\n  /**\n   * Wrapped {@link https://github.com/d3/d3-scale#band_step}\n   * @param { Object[] } [val] - Array where each value is a reference to a node, going from depth 1 to n. If omitted, step size for the leaf nodes is return.\n   * @return { number }\n   */\n  hBand.step = function step(val) {\n    const item = items[String(val)];\n    const leafCount = item ? item.count : 1;\n    let stepSize = bandInstance.step();\n    stepSize *= leafCount;\n    return stepSize;\n  };\n\n  /**\n   * @return { dataset }\n   */\n  hBand.data = () => data;\n\n  /**\n   * Return datum for a given node\n   * @param { Object[] } val - Array where each value is a reference to a node, going from depth 1 to n.\n   * @return { Object } The datum\n   */\n  hBand.datum = (val) => {\n    const item = items[String(val)];\n    if (item) {\n      return item.node.data;\n    }\n    return null;\n  };\n\n  hBand.copy = () => scaleHierarchicalBand(settings, data, resources);\n\n  /**\n   * @return { Object[] } Labels for each leaf node\n   */\n  hBand.labels = () => labels;\n\n  /**\n   * Generate discrete ticks\n   * @return { Object[] } Ticks for each leaf node\n   */\n  hBand.ticks = () => { // eslint-disable-line arrow-body-style\n    return ticks.map((item) => {\n      const start = hBand(item.key);\n      const bandwidth = hBand.bandwidth(item.key);\n      return {\n        position: start + (bandwidth / 2),\n        label: item.label,\n        data: item.node.data,\n        start,\n        end: start + bandwidth\n      };\n    });\n  };\n\n  const orgPxScale = bandInstance.pxScale;\n  hBand.pxScale = function pxScale(size) {\n    bandInstance = orgPxScale(size);\n    return hBand;\n  };\n\n  hBand.domain(values);\n\n  return hBand;\n}\n","import { isNumber as numericFilter } from './is-number';\n\nconst minAccessor = v => v.min();\nconst maxAccessor = v => v.max();\n\n/**\n * Calculate the min/max value based on various inputs.\n *\n * Provided min/max setting takes presedence over all other inputs. If not provided, the respective values are calculated\n * from the given arr input, where each item in the array is expected to have a min/max accessor.\n *\n * @private\n * @param {object} [settings]\n * @param {number} [settings.min] The minimum value. Defaults to 0 if not provided.\n * @param {number} [settings.max] The maximum value. Defaults to 1 if not provided.\n * @param {object} [arr]\n * @returns { object[] } An array containing the min and max values.\n *\n * @example\n * minmax(); // [0, 1]\n *\n * minmax({}, [\n * { min: () => 13, max: () => 15 },\n * { min: () => NaN, max: () => 17 },\n * ]); // [13, 17]\n *\n * minmax({ min: -5, max: 4 }, [\n * { min: () => -20, max: () => 15 },\n * ]); // [-5, 4]\n */\nexport default function minmax(settings, arr) {\n  // const definedMin = settings && typeof settings.min !== 'undefined';\n  // const definedMax = settings && typeof settings.max !== 'undefined';\n  const definedMin = settings && !isNaN(settings.min);\n  const definedMax = settings && !isNaN(settings.max);\n\n  let min = definedMin ? +settings.min : 0;\n  let max = definedMax ? +settings.max : 1;\n\n  if (arr && arr.length) {\n    if (!definedMin) {\n      const arrMin = arr.map(minAccessor).filter(numericFilter);\n      min = arrMin.length ? Math.min(...arrMin) : min;\n    }\n\n    if (!definedMax) {\n      const arrMax = arr.map(maxAccessor).filter(numericFilter);\n      max = arrMax.length ? Math.max(...arrMax) : max;\n    }\n  }\n\n  return [min, max];\n}\n","import { interpolateRgb } from 'd3-interpolate';\nimport extend from 'extend';\nimport minmax from '../../utils/min-max';\nimport linear from '../linear';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min, max];\n  }\n  const domain = [];\n  const part = (max - min) / (len - 1);\n\n  domain.push(min);\n  for (let i = 1; i < len - 1; i++) {\n    domain.push(min + (part * i));\n  }\n  domain.push(max);\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--sequential-color\n * @property {string} [type='sequential-color']\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n */\n\n/**\n * @alias scaleSequentialColor\n * @private\n * @param { Object } [settings] Settings for this scale. If both range and domain are specified, they have to fulfill range.length === domain.length, otherwise they will be overriden.\n * @param { number[] } [settings.domain] Numeric values indicating stop limits between start and end values.\n * @param { color[] } [settings.range] CSS color values indicating stop colors between start and end values.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent.\n * @return { sequentialColor }\n *\n * @example\n * picasso.scaleSequentialColor({\n *  range: ['red', '#fc6', 'green'],\n *  domain: [-40, 0, 100]\n * });\n */\n\nexport default function scaleSequentialColor(settings = {}, data = {}, resources = {}) {\n  const s = linear(settings, data, resources).clamp(true).interpolate(interpolateRgb);\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias sequentialColor\n   * @private\n   * @kind function\n   * @param { Object } v Object containing a 'value' property\n   * @return { string } The blended color\n   */\n  const fn = s;\n\n  extend(true, fn, s);\n  const [min, max] = minmax(stgns, data ? data.fields : []);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  const range = isRange ? stgns.range : DEFAULT_COLORS;\n  fn.range(stgns.invert ? range.slice().reverse() : range.slice());\n  fn.domain(isDomain ? stgns.domain : generateDomain(fn.range(), min, max));\n\n  return fn;\n}\n","import { scaleThreshold, scaleLinear } from 'd3-scale';\nimport { notNumber } from '../../utils/is-number';\nimport minmax from '../../utils/min-max';\nimport sequential from './sequential';\nimport resolveSettings from '../settings-resolver';\n\n// const DEFAULT_COLORS = ['rgb(180,221,212)', 'rgb(34, 83, 90)'];\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  invert: false,\n  min: NaN,\n  max: NaN,\n  nice: false\n};\n\nfunction generateDomain(range, min, max) {\n  const len = range.length;\n  if (len === 2) {\n    return [min + ((max - min) / 2)];\n  }\n  const domain = [];\n  const part = (max - min) / len;\n\n  for (let i = 1; i < len; i++) {\n    domain.push(min + (part * i));\n  }\n  return domain;\n}\n\nfunction getBreaks(domain) {\n  const ret = [];\n  for (let i = 0; i < domain.length - 1; i++) {\n    ret.push((domain[i] + domain[i + 1]) / 2);\n  }\n  return ret;\n}\n\nfunction generateRange(domain, colors, min, max) {\n  min = domain[0];\n  max = domain && domain.length >= 2 ? domain[domain.length - 1] : max;\n  const seq = sequential().domain([min, max]).range(colors);\n  const values = [min, ...getBreaks(domain), max];\n  return values.map(v => seq(v));\n}\n\nfunction generateNiceDomain(range, min, max) {\n  const numPoints = range.length === 2 ? 10 : Math.max(1, range.length);\n  const lin = scaleLinear().domain([min, max]).nice(numPoints);\n  const domain = lin.ticks(numPoints);\n\n  if (!range || !range.length) {\n    return domain;\n  }\n\n  // remove values from endpoints\n  const num = Math.max(0, range.length - 1);\n  while (domain.length > num) {\n    if (domain[0] - min <= max - domain[domain.length - 1]) {\n      domain.shift();\n    } else {\n      domain.pop();\n    }\n  }\n\n  return domain;\n}\n\n/**\n * @typedef {object} scale--threshold-color\n * @property {string} [type='threshold-color']\n * @property {number[]} [domain] Values defining the thresholds\n * @property {string[]} [range] - CSS color values of the output range\n * @property {boolean} [invert=false] - Invert range\n * @property {number} [min] - Set an explicit minimum value\n * @property {number} [max] - Set an explicit maximum value\n * @property {boolean} [nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n */\n\n/**\n * @alias scaleThresholdColor\n * @private\n * @param { object } [settings] Settings for this scale. If both domain and range are specified, they have to fulfill domain.length === range.length + 1,  otherwise they will be overriden.\n * @param { number[] } [settings.domain] Values defining the thresholds.\n * @param { color[] } [settings.range] CSS color values of the output range.\n * @param { boolean } [settings.nice=false] If set to true, will generate 'nice' domain values. Ignored if domain is set.\n * @param { number } [settings.min] Minimum value to generate domain extent from. Ignored if domain is set.\n * @param { number } [settings.max] Maximum value to generate domain extend from. Ignored if domain is set.\n * @param { field[] } [fields] Fields to dynamically calculate the domain extent from. Ignored if min/max are set.\n * @return { thresholdColor }\n *\n * @example\n * let t = threshold({\n *   range: ['black', 'white'],\n *   domain: [25,50,75],\n *   max: 100,\n *   min: 0\n * });\n * t.domain(); // [25,50,75]\n * t.range(); // Generates from colors and domain: ['rgb(0,0,0)','rgb(85,85,85)','rgb(170,170,170)','rgb(255,255,255)']\n */\n\nexport default function scaleThresholdColor(settings = {}, data = {}, resources = {}) {\n  const d3Scale = scaleThreshold();\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  const isDomain = Array.isArray(stgns.domain) && stgns.domain.length;\n  const isRange = Array.isArray(stgns.range) && stgns.range.length;\n\n  /**\n   * @alias thresholdColor\n   * @private\n   * @param { object } v Object literal containing a 'value' property.\n   * @return { string } A CSS color from the scale's range.\n   */\n  function fn(v) {\n    if (notNumber(v)) {\n      return NaN;\n    }\n    return d3Scale(v);\n  }\n\n  Object.keys(d3Scale).forEach(key => (fn[key] = d3Scale[key]));\n\n  const fields = data.fields;\n\n  const [min, max] = minmax(stgns, fields);\n  const num = isDomain ? stgns.domain.length : -1;\n  const DEFAULT_COLORS = resources.theme ? resources.theme.palette('sequential', num > 0 ? num : 2) : [];\n\n  let range = isRange ? stgns.range : DEFAULT_COLORS;\n  let domain = [];\n\n  if (isDomain) {\n    domain = stgns.domain;\n  } else if (stgns.nice) {\n    domain = generateNiceDomain(range, min, max);\n  } else {\n    domain = [min + ((max - min) / 2)];\n  }\n\n  if (range.length > domain.length + 1) {\n    // Generate limits from range\n    domain = generateDomain(range, min, max);\n  } else if (range.length < domain.length + 1) {\n    // Generate additional colors\n    range = generateRange(domain, range, min, max);\n  }\n\n  fn.data = () => data;\n\n  fn.range(stgns.invert ? range.slice().reverse() : range);\n  fn.domain(domain);\n\n  return fn;\n}\n","import { scaleOrdinal } from 'd3-scale';\nimport extend from 'extend';\nimport resolveSettings from './settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: []\n};\n\n/**\n * @alias scaleOrdinal\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } data\n * @return { ordinal }\n */\nexport default function ordinal(settings = {}, data = {}, resources = {}) {\n  /**\n   * An augmented {@link https://github.com/d3/d3-scale#_ordinal|d3 ordinal scale}\n   * @private\n   * @alias ordinal\n   * @param { Object }\n   * @return { number }\n   */\n  const fn = scaleOrdinal();\n\n  const ctx = { data, resources };\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, ctx);\n\n  const valueFn = typeof settings.value === 'function' ? settings.value : d => d.datum.value;\n  const labelFn = typeof settings.label === 'function' ? settings.label : d => d.datum.label;\n  const items = data.items || [];\n  const domainToDataMapping = {};\n  const values = [];\n  const labels = [];\n\n  for (let i = 0; i < items.length; i++) {\n    const arg = extend({ datum: items[i] }, ctx);\n    const v = valueFn(arg, i);\n    if (values.indexOf(v) === -1) {\n      values.push(v);\n      labels.push(labelFn(arg, i));\n      domainToDataMapping[v] = i;\n    }\n  }\n\n  fn.data = () => data;\n\n  fn.labels = () => labels;\n\n  fn.label = domainValue => labels[values.indexOf(domainValue)];\n\n  fn.datum = domainValue => items[domainToDataMapping[domainValue]];\n\n  fn.range(stgns.range);\n\n  if (Array.isArray(stgns.domain) && stgns.domain.length) {\n    fn.domain(stgns.domain);\n  } else {\n    fn.domain(values);\n  }\n  return fn;\n}\n","import ordinal from '../ordinal';\nimport resolveSettings from '../settings-resolver';\n\nconst DEFAULT_SETTINGS = {\n  domain: [],\n  range: [],\n  unknown: undefined\n};\n\nconst DEFAULT_EXPLICIT_SETTINGS = {\n  domain: [],\n  range: [],\n  override: false\n};\n\n/**\n * @typedef {object} scale--categorical-color\n * @property {string} [type='categorical-color']\n * @property {string[]} [range=false] - CSS color values of the output range\n * @property {string} [unknown] - {@link https://github.com/d3/d3-scale#ordinal_unknown}\n * @property {object} [explicit] - Explicitly bind values to an output\n * @property {object[]} [explicit.domain[]] - Values to bind\n * @property {string[]} [explicit.range[]] - Output range\n */\n\n/**\n * An ordinal scale with the output range set to default colors, as defined by *scaleCategorical.range*\n * @alias scaleCategorical\n * @private\n * @param { Object } settings\n * @param { field[] } [fields]\n * @param { dataset } [dataset]\n * @return { ordinal }\n */\nexport default function scaleCategorical(settings = {}, data = {}, resources = {}) {\n  const s = ordinal(settings, data, resources);\n  const theme = resources.theme;\n  const stgns = resolveSettings(settings, DEFAULT_SETTINGS, { data, resources });\n  stgns.explicit = resolveSettings(settings.explicit, DEFAULT_EXPLICIT_SETTINGS, { data, resources });\n\n  let range;\n  if (!Array.isArray(stgns.range) || stgns.range.length === 0) {\n    range = theme ? theme.palette('categorical', s.domain().length).slice() : [];\n  } else {\n    range = stgns.range.slice();\n  }\n\n  if (stgns.unknown) {\n    s.unknown(stgns.unknown);\n  } else if (theme && theme.palette('unknown')) {\n    let un = theme.palette('unknown');\n    s.unknown(un[0]);\n  }\n\n  if (Array.isArray(stgns.explicit.domain) && stgns.explicit.domain.length) {\n    const domain = s.domain().slice();\n    const explicitDomain = stgns.explicit.domain;\n    const explicitRange = Array.isArray(stgns.explicit.range) ? stgns.explicit.range : [];\n\n    // duplicate range values to cover entire domain\n    const numCopies = Math.floor(domain.length / range.length);\n    for (let i = 1; i < numCopies + 1; i *= 2) {\n      range = range.concat(range);\n    }\n\n    if (stgns.explicit.override) {\n      for (let i = 0; i < explicitDomain.length; i++) {\n        const index = domain.indexOf(explicitDomain[i]);\n        if (index > -1) {\n          range[index] = explicitRange[i];\n        }\n      }\n    } else {\n      // inject explicit colors\n      const order = explicitDomain.map((d, i) => [domain.indexOf(d), d, explicitRange[i]]).sort((a, b) => a[0] - b[0]);\n      order.forEach((v) => {\n        const idx = domain.indexOf(v[1]);\n        if (idx !== -1) {\n          range.splice(idx, 0, v[2]);\n        }\n      });\n    }\n\n    // cutoff excess range values\n    range.length = domain.length;\n  }\n\n  s.range(range);\n  return s;\n}\n","import registry from '../../utils/registry';\nimport linear from '../../scales/linear';\nimport band from '../../scales/band';\nimport hBand from '../../scales/h-band';\nimport sequential from '../../scales/color/sequential';\nimport threshold from '../../scales/color/threshold';\nimport categorical from '../../scales/color/categorical';\nimport extractData from '../../data/extractor';\n\nconst scaleRegistry = registry();\n\nscaleRegistry('linear', linear);\nscaleRegistry('band', band);\nscaleRegistry('h-band', hBand);\nscaleRegistry('sequential-color', sequential);\nscaleRegistry('threshold-color', threshold);\nscaleRegistry('categorical-color', categorical);\n\nexport { scaleRegistry as default };\n\nfunction getTypeFromMeta(fields) {\n  const types = fields.map(field => (field.type() === 'dimension' ? 'band' : 'linear'));\n  return types.indexOf('linear') !== -1 ? 'linear' : 'band';\n}\n\nfunction deduceScaleTypeFromData(data) {\n  if (data.root) {\n    return 'h-band';\n  }\n\n  if (data.fields && data.fields[0]) {\n    return getTypeFromMeta(data.fields);\n  }\n  return 'linear';\n}\n\nexport function create(options, d, deps) {\n  let dataSourceConfig = options.data;\n  if (options.source) { // DEPRECATION\n    deps.logger.warn('Deprecated: Scale data source configuration');\n    dataSourceConfig = {\n      extract: []\n    };\n    (Array.isArray(options.source) ? options.source : [options.source]).forEach((source) => {\n      dataSourceConfig.extract.push({\n        field: source\n      });\n    });\n  }\n\n  const data = extractData(dataSourceConfig, d, deps);\n  let type = options.type || deduceScaleTypeFromData(data);\n  let s;\n\n  if (type === 'color') {\n    if (data.fields && data.fields[0] && data.fields[0].type() === 'dimension') {\n      type = 'categorical-color';\n    } else {\n      type = 'sequential-color';\n    }\n  }\n\n  if (deps.scale.has(type)) {\n    s = deps.scale.get(type);\n    s = s(options, data, { theme: deps.theme, logger: deps.logger });\n    s.type = type;\n  }\n  return s;\n}\n\nexport function collection(scalesConfig, data, deps, fn = create) {\n  const scales = {};\n\n  return {\n    get(def) {\n      let key;\n      if (typeof def === 'string' && scalesConfig[def]) {\n        key = def;\n      } else if (typeof def === 'object' && 'scale' in def && scalesConfig[def.scale]) {\n        key = def.scale;\n      }\n\n      if (key) {\n        scales[key] = scales[key] || fn(scalesConfig[key], data, deps);\n        return scales[key];\n      }\n\n      return fn(def, data, deps);\n    },\n    all() {\n      Object.keys(scalesConfig).forEach(this.get);\n      return scales;\n    }\n  };\n}\n","/**\n * Utility functions\n */\n\nvar util = {};\n\nutil.isObject = function isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nutil.isNumber = function isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nutil.isUndefined = function isUndefined(arg) {\n  return arg === void 0;\n}\n\nutil.isFunction = function isFunction(arg){\n  return typeof arg === 'function';\n}\n\n\n/**\n * EventEmitter class\n */\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\nEventEmitter.init = function() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!util.isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error' && !this._events.error) {\n    er = arguments[1];\n    if (er instanceof Error) {\n      throw er; // Unhandled 'error' event\n    } else {\n      throw Error('Uncaught, unspecified \"error\" event.');\n    }\n    return false;\n  }\n\n  handler = this._events[type];\n\n  if (util.isUndefined(handler))\n    return false;\n\n  if (util.isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (util.isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              util.isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (util.isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (util.isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!util.isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n\n      if (util.isFunction(console.error)) {\n        console.error('(node) warning: possible EventEmitter memory ' +\n                      'leak detected. %d listeners added. ' +\n                      'Use emitter.setMaxListeners() to increase limit.',\n                      this._events[type].length);\n      }\n      if (util.isFunction(console.trace))\n        console.trace();\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!util.isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (util.isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (util.isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (util.isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (Array.isArray(listeners)) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (util.isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (util.isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n","import EventEmitter from 'node-event-emitter';\n\nexport default {\n  /**\n   * Function used to add event handling to objects passed in.\n   * @private\n   * @param {Object} obj Object instance that will get event handling.\n   */\n  mixin(obj) {\n    Object.keys(EventEmitter.prototype).forEach((key) => {\n      obj[key] = EventEmitter.prototype[key];\n    });\n    EventEmitter.init(obj);\n    return obj;\n  }\n};\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function scrollApi() {\n  let min = 0;\n  let max = 0;\n  let start = 0;\n  let viewSize = 0;\n  start = start || min;\n\n  /**\n   * The scroll api\n   * @private\n   * @alias scroll\n   */\n  const s = {\n    /**\n     * Move the current scroll\n     * @param {number} value\n     * @emits update\n     */\n    move(value) {\n      this.moveTo(start + value);\n    },\n\n    /**\n     * Change the current scroll to a specific value\n     * @param {number} value\n     * @emits update\n     */\n    moveTo(value) {\n      const newStart = Math.max(min, Math.min(max - viewSize, value));\n      if (start !== newStart) {\n        start = newStart;\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Update scroll settings\n     * @param {number} [settings.min]\n     * @param {number} [settings.max]\n     * @param {number} [settings.viewSize]\n     * @emits update\n     */\n    update(settings) {\n      let triggerUpdate = false;\n      ({ min = min, max = max } = settings);\n      if (settings.viewSize !== undefined && settings.viewSize !== viewSize) {\n        viewSize = settings.viewSize;\n        triggerUpdate = true;\n      }\n\n      // update scroll to be within the new bounds\n      const newStart = Math.max(min, Math.min(max - viewSize, start));\n      if (start !== newStart) {\n        start = newStart;\n        triggerUpdate = true;\n      }\n\n      if (triggerUpdate) {\n        s.emit('update');\n      }\n    },\n\n    /**\n     * Get the current scroll state\n     * @return {object} with min, max, start & viewSize\n     */\n    getState() {\n      return {\n        min, max, start, viewSize\n      };\n    }\n  };\n\n  EventEmitter.mixin(s);\n\n  return s;\n}\n","import scrollApi from '../../scroll-api';\n\nexport function createOrUpdate(options, oldApi) {\n  const min = options.min || 0;\n  const max = options.max || 0;\n  const viewSize = options.viewSize || 0;\n\n  const s = oldApi || scrollApi();\n  s.update({ min, max, viewSize });\n\n  return s;\n}\n\nexport default function builder(obj, oldScrollApis) {\n  const scrollApis = {};\n  for (const n in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, n)) {\n      scrollApis[n] = createOrUpdate(obj[n], oldScrollApis ? oldScrollApis[n] : null);\n    }\n  }\n  return scrollApis;\n}\n\nexport function getOrCreateScrollApi(v, scrollApis) {\n  if (!scrollApis[v]) {\n    scrollApis[v] = scrollApi();\n  }\n  return scrollApis[v];\n}\n","function lessThanOrEqual(value, limit) {\n  return value <= limit;\n}\n\nfunction lessThan(value, limit) {\n  return value < limit;\n}\n\nfunction index(boundaries, point, after) {\n  let i = 0;\n  while (i < boundaries.length && point > boundaries[i]) {\n    ++i;\n  }\n  if (boundaries[i] === point && after) {\n    ++i;\n  }\n  return i;\n}\n\nfunction contains(boundaries, point, minCondition, maxCondition) {\n  const len = boundaries.length;\n\n  for (let i = 1; i < len; i += 2) {\n    if (minCondition(boundaries[i - 1], point) && maxCondition(point, boundaries[i])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default function rangeCollection(config = {}) {\n  let maxCondition;\n  let minCondition;\n  let boundaries = [];\n\n  function fn() {}\n\n  fn.configure = (c = {}) => {\n    const {\n      includeMax = true,\n      includeMin = true\n    } = c;\n    maxCondition = includeMax ? lessThanOrEqual : lessThan;\n    minCondition = includeMin ? lessThanOrEqual : lessThan;\n  };\n\n  fn.add = ({ min, max }) => {\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 0) {\n      args.push(min);\n    }\n    if (i1 % 2 === 0) {\n      args.push(max);\n    }\n\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.remove = ({ min, max }) => {\n    const i0 = index(boundaries, min);\n    const i1 = index(boundaries, max, true);\n\n    const args = [i0, i1 - i0];\n    if (i0 % 2 === 1) {\n      args.push(min);\n    }\n    if (i1 % 2 === 1) {\n      args.push(max);\n    }\n    const before = boundaries.join(',');\n    boundaries.splice(...args);\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.set = (range) => {\n    const before = boundaries.join(',');\n    boundaries = [];\n    if (Array.isArray(range)) {\n      range.forEach(fn.add);\n    } else {\n      fn.add(range);\n    }\n    const after = boundaries.join(',');\n    return before !== after;\n  };\n\n  fn.clear = () => {\n    const before = boundaries.length > 0;\n    boundaries = [];\n    return before;\n  };\n\n  fn.containsValue = value => contains(boundaries, value, minCondition, maxCondition);\n\n  fn.containsRange = ({ min, max }) => {\n    const i0 = index(boundaries, min, true);\n    const i1 = index(boundaries, max);\n\n    return i0 === i1 && i1 % 2 === 1;\n  };\n\n  fn.toggle = (range) => {\n    if (fn.containsRange(range)) {\n      return fn.remove(range);\n    }\n    return fn.add(range);\n  };\n\n  fn.ranges = () => {\n    const collection = [];\n    for (let i = 1; i < boundaries.length; i += 2) {\n      collection.push({\n        min: boundaries[i - 1],\n        max: boundaries[i]\n      });\n    }\n    return collection;\n  };\n\n  fn.configure(config);\n\n  return fn;\n}\n","export default function valueCollection() {\n  let values = [];\n  function vc() {}\n\n  vc.add = (value) => {\n    if (values.indexOf(value) === -1) {\n      values.push(value);\n      return true;\n    }\n    return false;\n  };\n\n  vc.remove = (value) => {\n    const idx = values.indexOf(value);\n    if (idx !== -1) {\n      values.splice(idx, 1);\n      return true;\n    }\n    return false;\n  };\n\n  vc.contains = value => values.indexOf(value) !== -1;\n\n  vc.values = () => values.slice();\n\n  vc.clear = () => (values = []);\n\n  vc.toString = () => values.join(';');\n\n  return vc;\n}\n","import extend from 'extend';\n\nimport EventEmitter from '../utils/event-emitter';\n\nimport rangeCollection from './range-collection';\nimport valueCollection from './value-collection';\n\n/**\n * @typedef {object} brush-config\n * @property {Array<brush-config--ranges>} [ranges] - Range configurations\n */\n\n/**\n * @typedef {object}\n * @alias brush-config--ranges\n */\nconst DEFAULT_RANGE_CONFIG = {\n  /**\n   * An identifier that represents the data source of the value\n   * @type {string=}\n   */\n  key: undefined,\n  /**\n   * Whether or not the minimum value of a range should be included when determening if a value is brushed.\n   * @type {boolean=} */\n  includeMin: true,\n  /**\n   * Whether or not the maximum value of a range should be included when determening if a value is brushed.\n   * @type {boolean=} */\n  includeMax: true\n};\n\nfunction add({\n  items,\n  collection,\n  vc\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      collection[key] = vc();\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].add(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction remove({\n  items,\n  collection\n}) {\n  const changedMap = {};\n  const changed = [];\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    if (!collection[key]) {\n      continue;\n    }\n    values = items[i].values || [items[i].value];\n    for (let vi = 0; vi < values.length; vi++) {\n      if (collection[key].remove(values[vi])) {\n        changedMap[key] = changedMap[key] || [];\n        changedMap[key].push(values[vi]);\n      }\n    }\n  }\n\n  const keys = Object.keys(changedMap);\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    changed.push({ id: key, values: changedMap[key] });\n  }\n\n  return changed;\n}\n\nfunction collectUnique(items) {\n  const filteredSet = {};\n  let key;\n  let values;\n\n  for (let i = 0, num = items.length; i < num; i++) {\n    key = items[i].key;\n    values = items[i].values || [items[i].value];\n    if (!filteredSet[key]) {\n      filteredSet[key] = [];\n    }\n    for (let vi = 0; vi < values.length; vi++) {\n      const idx = filteredSet[key].indexOf(values[vi]);\n      if (idx === -1) {\n        filteredSet[key].push(values[vi]);\n      }\n    }\n  }\n\n  return filteredSet;\n}\n\nfunction createValueCollection({\n  key,\n  collection,\n  obj,\n  fn,\n  value\n}) {\n  if (!collection[key]) {\n    collection[key] = fn();\n  }\n  obj[key] = obj[key] || [];\n  obj[key].push(value);\n  collection[key].add(value);\n}\n\nexport function toggle({\n  items,\n  values,\n  vc\n}) {\n  const addedMap = {};\n  const removedMap = {};\n  const added = [];\n  const removed = [];\n  const filteredSet = collectUnique(items);\n  let key;\n  let value;\n  let fs;\n\n  const setKeys = Object.keys(filteredSet);\n  for (let i = 0, num = setKeys.length; i < num; i++) {\n    key = setKeys[i];\n    fs = filteredSet[key];\n\n    for (let k = 0, len = fs.length; k < len; k++) {\n      value = fs[k];\n      if (!values[key] || !values[key].contains(value)) {\n        createValueCollection({\n          key,\n          value,\n          collection: values,\n          obj: addedMap,\n          fn: vc\n        });\n      } else if (values[key] && values[key].contains(value)) {\n        removedMap[key] = removedMap[key] || [];\n        removedMap[key].push(value);\n        values[key].remove(value);\n      }\n    }\n  }\n\n  const addedKeys = Object.keys(addedMap);\n  for (let i = 0, num = addedKeys.length; i < num; i++) {\n    key = addedKeys[i];\n    added.push({ id: key, values: addedMap[key] });\n  }\n\n  const removedKeys = Object.keys(removedMap);\n  for (let i = 0, num = removedKeys.length; i < num; i++) {\n    key = removedKeys[i];\n    removed.push({ id: key, values: removedMap[key] });\n  }\n\n  return [added, removed];\n}\n\nfunction diff(old, current) {\n  const changed = [];\n  const keys = Object.keys(old);\n  let key;\n  let changedValues;\n  const filterFn = v => current[key].indexOf(v) === -1;\n\n  for (let i = 0, num = keys.length; i < num; i++) {\n    key = keys[i];\n    if (!current[key]) {\n      changed.push({ id: key, values: old[key] });\n    } else {\n      changedValues = old[key].filter(filterFn);\n      if (changedValues.length) {\n        changed.push({ id: key, values: changedValues });\n      }\n    }\n  }\n\n  return changed;\n}\n\nexport function set({\n  items,\n  vCollection,\n  vc\n}) {\n  const addedMap = {};\n  const filteredSet = collectUnique(items);\n  let added = [];\n  let removed = [];\n  let key;\n\n  const oldMap = {};\n  const vcKeys = Object.keys(vCollection);\n  for (let i = 0, num = vcKeys.length; i < num; i++) {\n    key = vcKeys[i];\n    oldMap[key] = vCollection[key].values().slice();\n    delete vCollection[key];\n  }\n\n  const createValueCollectionFn = (value) => {\n    if (!vCollection[key] || !vCollection[key].contains(value)) {\n      createValueCollection({\n        key,\n        value,\n        collection: vCollection,\n        obj: addedMap,\n        fn: vc\n      });\n    }\n  };\n\n  const fsKeys = Object.keys(filteredSet);\n  for (let i = 0, num = fsKeys.length; i < num; i++) {\n    key = fsKeys[i];\n    filteredSet[key].forEach(createValueCollectionFn);\n  }\n\n  removed = diff(oldMap, addedMap);\n  added = diff(addedMap, oldMap);\n\n  return [added, removed];\n}\n\n\nfunction applyAliases(items, aliases) {\n  if (!Object.keys(aliases).length) {\n    return items;\n  }\n  const len = items.length;\n  const its = Array(len);\n  for (let i = 0; i < len; i++) {\n    its[i] = items[i].key in aliases ? extend({}, items[i], { key: aliases[items[i].key] }) : items[i];\n  }\n  return its;\n}\n\nfunction intercept(handlers, items, aliases) {\n  const its = applyAliases(items, aliases);\n  return handlers && handlers.length ? handlers.reduce((value, interceptor) => interceptor(value), its) : its;\n}\n\nfunction toCamelCase(s) {\n  return s.replace(/(-[a-z])/g, $1 => $1.toUpperCase().replace('-', ''));\n}\n\nfunction toSnakeCase(s) {\n  return s.replace(/([A-Z])/g, $1 => `-${$1.toLowerCase()}`);\n}\n\nfunction updateRange(items, action, {\n  ranges,\n  interceptors,\n  rc,\n  aliases,\n  rangeConfig\n}) {\n  const inter = `${action}Ranges`;\n  const its = intercept(interceptors[inter], items, aliases);\n  let changed = false;\n  its.forEach((item) => {\n    const key = item.key;\n    if (!ranges[key]) {\n      ranges[key] = rc(rangeConfig.sources[key] || rangeConfig.default);\n    }\n    if (action === 'set') {\n      changed = ranges[key][action](item.ranges || item.range) || changed;\n    } else {\n      const rangeValues = item.ranges || [item.range];\n      for (let i = 0; i < rangeValues.length; i++) {\n        changed = ranges[key][action](rangeValues[i]) || changed;\n      }\n    }\n  });\n\n  return changed;\n}\n\nexport default function brush({\n  vc = valueCollection,\n  rc = rangeCollection\n} = {}) {\n  let activated = false;\n  let ranges = {};\n  let values = {};\n  let aliases = {};\n  let rangeConfig = {\n    sources: {},\n    default: extend({}, DEFAULT_RANGE_CONFIG)\n  };\n  const interceptors = {\n    addValues: [],\n    removeValues: [],\n    toggleValues: [],\n    setValues: [],\n    addRanges: [],\n    setRanges: [],\n    removeRanges: [],\n    toggleRanges: []\n  };\n\n  const getState = () => {\n    const state = {\n      values: {},\n      ranges: {}\n    };\n    Object.keys(values).forEach((key) => { state.values[key] = values[key].values(); });\n    Object.keys(ranges).forEach((key) => { state.ranges[key] = ranges[key].ranges(); });\n    return state;\n  };\n\n  const links = {\n    ls: [],\n    clear() {\n      this.ls.forEach(b => b.clear());\n    },\n    start() {\n      this.ls.forEach(b => b.start());\n    },\n    end() {\n      this.ls.forEach(b => b.end());\n    },\n    update() {\n      const s = getState();\n      this.ls.forEach(b => b._state(s));\n    },\n    updateValues() {\n      const s = getState();\n      this.ls.forEach(b => b._state({\n        values: s.values\n      }));\n    },\n    updateRanges() {\n      const s = getState();\n      this.ls.forEach(b => b._state({\n        ranges: s.ranges\n      }));\n    }\n  };\n\n  /**\n   * A brush context\n   * @alias brush\n   * @interface\n   */\n  const fn = {};\n\n  /**\n   * Triggered when this brush is activated\n   * @event brush#start\n   * @type {string}\n   */\n\n  /**\n   * Triggered when this brush is updated\n   * @event brush#update\n   * @type {string}\n   * @param {Array<object>} added - The added items\n   * @param {Array<object>} removed - The removed items\n   */\n\n  /**\n   * Triggered when this brush is deactivated\n   * @event brush#end\n   * @type {string}\n   */\n\n\n  /**\n    * Configure the brush instance.\n    *\n    * @param {brush-config} config\n    * @example\n    * brushInstance.configure({\n    *   ranges: [\n    *     { key: 'some key', includeMax: false },\n    *     { includeMax: true, includeMin: true },\n    *   ]\n    * })\n    */\n  fn.configure = (config = {}) => {\n    if (Array.isArray(config.ranges) && config.ranges.length) {\n      rangeConfig = {\n        sources: {},\n        default: extend({}, DEFAULT_RANGE_CONFIG)\n      };\n\n      config.ranges.forEach((cfg) => {\n        const c = {};\n        Object.keys(DEFAULT_RANGE_CONFIG)\n          .filter(attr => attr !== 'key')\n          .forEach((attr) => {\n            c[attr] = typeof cfg[attr] !== 'undefined' ? cfg[attr] : DEFAULT_RANGE_CONFIG[attr];\n          });\n\n        if (typeof cfg.key !== 'undefined') {\n          rangeConfig.sources[cfg.key] = c;\n        } else {\n          rangeConfig.default = c;\n        }\n      });\n\n      Object.keys(ranges).forEach(key => ranges[key].configure(rangeConfig.sources[key] || rangeConfig.default));\n\n      // TODO only emit update if config has changed\n      fn.emit('update', [], []);\n    }\n  };\n\n  /**\n   * Link this brush to another brush instance.\n   *\n   * When linked, the `target` will receive updates whenever this brush changes.\n   * @param {brush} target - The brush instance to link to\n   */\n  fn.link = (target) => {\n    if (fn === target) {\n      throw new Error('Can\\'t link to self');\n    }\n    links.ls.push(target);\n    target._state(getState());\n  };\n\n  fn._state = (s) => {\n    if (!s) {\n      return getState();\n    }\n    if (s.values) {\n      const arr = [];\n      Object.keys(s.values).forEach((key) => {\n        if (!values[key] || s.values[key].join(';') !== values[key].toString()) {\n          arr.push({\n            key,\n            values: s.values[key]\n          });\n        }\n      });\n      Object.keys(values).forEach((key) => {\n        if (!s.values[key]) {\n          arr.push({\n            key,\n            values: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setValues(arr);\n      }\n    }\n    if (s.ranges) {\n      const arr = [];\n      Object.keys(s.ranges).forEach((key) => {\n        if (!ranges[key] || s.ranges[key].join(';') !== ranges[key].toString()) {\n          arr.push({\n            key,\n            ranges: s.ranges[key]\n          });\n        }\n      });\n      Object.keys(ranges).forEach((key) => {\n        if (!s.ranges[key]) {\n          arr.push({\n            key,\n            ranges: []\n          });\n        }\n      });\n      if (arr.length) {\n        fn.setRanges(arr);\n      }\n    }\n    return undefined;\n  };\n\n  /**\n   * Starts this brush context\n   *\n   * Starts this brush context and emits a 'start' event if it is not already started.\n   * @emits brush#start\n   */\n  fn.start = () => {\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n      links.start();\n    }\n  };\n\n  /**\n   * Ends this brush context\n   *\n   * Ends this brush context and emits an 'end' event if it is not already ended.\n   * @emits brush#end\n   */\n  fn.end = () => {\n    if (!activated) {\n      return;\n    }\n    activated = false;\n    ranges = {};\n    values = {};\n    fn.emit('end');\n    links.end();\n  };\n\n  /**\n   * Checks if this brush is activated\n   *\n   * Returns true if started, false otherwise\n   * @return {boolean}\n   */\n  fn.isActive = () => activated;\n\n  /**\n   * Clears this brush context\n   */\n  fn.clear = () => {\n    const removed = fn.brushes().filter(b => b.type === 'value' && b.brush.values().length).map(b => ({ id: b.id, values: b.brush.values() }));\n    const hasChanged = Object.keys(ranges).length > 0 || removed.length;\n    ranges = {};\n    values = {};\n    if (hasChanged) {\n      fn.emit('update', [], removed); // TODO - do not emit update if state hasn't changed\n      links.clear();\n    }\n  };\n\n  /**\n   * Returns all brushes within this context\n   * @return {object}\n   */\n  fn.brushes = () => {\n    let result = [];\n    result = result.concat(Object.keys(ranges).map(key => ({\n      type: 'range',\n      id: key,\n      brush: ranges[key]\n    })));\n\n    result = result.concat(Object.keys(values).map(key => ({\n      type: 'value',\n      id: key,\n      brush: values[key]\n    })));\n\n    return result;\n  };\n\n  /**\n   * Adds a primitive value to this brush context\n   *\n   * If this brush context is not started, a 'start' event is emitted.\n   * If the state of the brush changes, ie. if the added value does not already exist, an 'update' event is emitted.\n   *\n   * @param {string} key  An identifier that represents the data source of the value\n   * @param {string|number} value The value to add\n   * @emits brush#start\n   * @emits brush#update\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.addValue('/qHyperCube/qDimensionInfo/0', 3);\n   */\n  fn.addValue = (key, value) => {\n    fn.addValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to add\n   */\n  fn.addValues = (items) => {\n    const its = intercept(interceptors.addValues, items, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: its\n    });\n\n    fn.emit('add-values', its);\n\n    if (added.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, []);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * @param {object[]} items Items to set\n   */\n  fn.setValues = (items) => {\n    const its = intercept(interceptors.setValues, items, aliases);\n    const changed = set({\n      items: its,\n      vCollection: values,\n      vc\n    });\n\n    fn.emit('set-values', its);\n\n    if (changed[0].length > 0 || changed[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', changed[0], changed[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Removes a primitive values from this brush context\n   *\n   * If the state of the brush changes, ie. if the removed value does exist, an 'update' event is emitted.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to remove\n   * @example\n   * brush.removeValue('countries', 'Sweden');\n   */\n  fn.removeValue = (key, value) => {\n    fn.removeValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to remove\n   */\n  fn.removeValues = (items) => {\n    const its = intercept(interceptors.removeValues, items, aliases);\n    const removed = remove({\n      collection: values,\n      items: its\n    });\n\n    fn.emit('remove-values', its);\n\n    if (removed.length) {\n      fn.emit('update', [], removed);\n      links.updateValues();\n      // TODO - emit 'end' event if there are no remaining active brushes\n    }\n  };\n\n  /**\n   * Add and remove values in a single operation\n   * almost the same as calling addValues and removeValues but only triggers one 'update' event\n   *\n   * If the state of the brush changes, an 'update' event is emitted.\n   *\n   * @param {object[]} addItems Items to add\n   * @param {object[]} removeItems Items to remove\n   */\n  fn.addAndRemoveValues = (addItems, removeItems) => {\n    const addIts = intercept(interceptors.addValues, addItems, aliases);\n    const removeIts = intercept(interceptors.removeValues, removeItems, aliases);\n    const added = add({\n      vc,\n      collection: values,\n      items: addIts\n    });\n    const removed = remove({\n      collection: values,\n      items: removeIts\n    });\n\n    fn.emit('add-values', addIts);\n    fn.emit('remove-values', removeIts);\n\n    if (added.length || removed.length) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', added, removed);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Toggles a primitive value in this brush context\n   *\n   * If the given value exist in this brush context, it will be removed. If it does not exist it will be added.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to toggle\n   * @example\n   * brush.toggleValue('countries', 'Sweden');\n   */\n  fn.toggleValue = (key, value) => {\n    fn.toggleValues([{ key, value }]);\n  };\n\n  /**\n   * @param {object[]} items Items to toggle\n   */\n  fn.toggleValues = (items) => {\n    const its = intercept(interceptors.toggleValues, items, aliases);\n    const toggled = toggle({\n      items: its,\n      values,\n      vc\n    });\n\n    fn.emit('toggle-values', its);\n\n    if (toggled[0].length > 0 || toggled[1].length > 0) {\n      if (!activated) {\n        activated = true;\n        fn.emit('start');\n      }\n      fn.emit('update', toggled[0], toggled[1]);\n      links.updateValues();\n    }\n  };\n\n  /**\n   * Checks if a certain value exists in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key  An identifier that represents the data source of the value\n   * @param  {string|number} value The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addValue('countries', 'Sweden');\n   * brush.containsValue('countries', 'Sweden'); // true\n   * brush.toggleValue('countries', 'Sweden'); // remove 'Sweden'\n   * brush.containsValue('countries', 'Sweden'); // false\n   */\n  fn.containsValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!values[k]) {\n      return false;\n    }\n    return values[k].contains(value);\n  };\n\n  /**\n   * Adds a numeric range to this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to add to this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @example\n   * brush.addRange('Sales', { min: 20, max: 50 });\n   */\n  fn.addRange = (key, range) => {\n    fn.addRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.addRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   * @param {string} items[].key\n   * @param {object} items[].range\n   */\n  fn.addRanges = (items) => {\n    const changed = updateRange(items, 'add', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Removes a numeric range from this brush context\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to remove from this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.removeRange = (key, range) => {\n    fn.removeRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.removeRange}\n   * @param {object[]} items - Items containing the ranges to remove\n   */\n  fn.removeRanges = (items) => {\n    const changed = updateRange(items, 'remove', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Sets a numeric range to this brush context\n   *\n   * Overwrites any active ranges identified by `key`\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to set on this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.setRange = (key, range) => {\n    fn.setRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.setRange}\n   * @param {object[]} items - Items containing the ranges to set\n   */\n  fn.setRanges = (items) => {\n    const changed = updateRange(items, 'set', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Toggles a numeric range in this brush context\n   *\n   * Removes the range if it's already contained within the given identifier,\n   * otherwise the given range is added to the brush.\n   *\n   * @param {string} key - An identifier that represents the data source of the range\n   * @param {object} range - The range to toggle in this brush\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   */\n  fn.toggleRange = (key, range) => {\n    fn.toggleRanges([{ key, range }]);\n  };\n\n  /**\n   * @see {brush.toggleRange}\n   * @param {object[]} items - Items containing the ranges to toggle\n   */\n  fn.toggleRanges = (items) => {\n    const changed = updateRange(items, 'toggle', {\n      ranges,\n      rc,\n      interceptors,\n      aliases,\n      rangeConfig\n    });\n\n    if (!changed) {\n      return;\n    }\n\n    if (!activated) {\n      activated = true;\n      fn.emit('start');\n    }\n    fn.emit('update', [], []);\n    links.updateRanges();\n  };\n\n  /**\n   * Checks if a value is contained within a range in this brush context\n   *\n   * Returns true if the values exists for the provided key, returns false otherwise.\n   *\n   * @param  {string} key - An identifier that represents the data source of the value\n   * @param  {number} value - The value to check for\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRangeValue('Sales', 30); // true\n   * brush.containsRangeValue('Sales', 5); // false\n   */\n  fn.containsRangeValue = (key, value) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsValue(value);\n  };\n\n  /**\n   * Checks if a range segment is contained within this brush context\n   *\n   * Returns true if the range segment exists for the provided key, returns false otherwise.\n   *\n   * @param {string} key - An identifier that represents the data source of the value\n   * @param {object} range - The range to check for\n   * @param {number} range.min - Min value of the range\n   * @param {number} range.max - Max value of the range\n   * @return {boolean}\n   * @example\n   * brush.addRange('Sales', { min: 10, max: 50 });\n   * brush.containsRange('Sales', { min: 15, max: 20 }); // true - the range segment is fully contained within [10, 50]\n   * brush.containsRange('Sales', { min: 5, max: 20 }); // false - part of the range segment is outside [10, 50]\n   * brush.containsRange('Sales', { min: 30, max: 80 }); // false - part of the range segment is outside [10, 50]\n   */\n  fn.containsRange = (key, range) => {\n    let k = aliases[key] || key;\n    if (!ranges[k]) {\n      return false;\n    }\n    return ranges[k].containsRange(range);\n  };\n\n  fn.containsMappedData = (d, props, mode) => {\n    let status = [];\n    const keys = Object.keys(d);\n    let key;\n    let item;\n    let source;\n    let value;\n\n    for (let i = 0, num = keys.length; i < num; i++) {\n      key = keys[i];\n      if (key === 'value') {\n        item = d;\n        status[i] = { key: '', i, bool: false };\n      } else if (key === 'source') {\n        continue;\n      } else {\n        item = d[key];\n        status[i] = { key, i, bool: false };\n      }\n      source = item.source && item.source.field;\n      if (typeof source === 'undefined') {\n        continue;\n      }\n      if (typeof item.source.key !== 'undefined') {\n        source = `${item.source.key}/${source}`;\n      }\n\n      if (source in aliases) {\n        source = aliases[source];\n      }\n\n      value = item.value;\n      if (ranges[source]) {\n        status[i].bool = Array.isArray(value) ? ranges[source].containsRange({ min: value[0], max: value[1] }) : ranges[source].containsValue(value);\n      } else if (values[source] && values[source].contains(value)) {\n        status[i].bool = true;\n      }\n    }\n\n    if (props) {\n      status = status.filter(b => props.indexOf(b.key) !== -1);\n      if (mode === 'and') {\n        return !!status.length && !status.some(s => s.bool === false);\n      }\n      if (mode === 'xor') {\n        return !!status.length && status.some(s => s.bool) && status.some(s => s.bool === false);\n      }\n      // !mode || mode === 'or'\n      return status.some(s => s.bool);\n    }\n    return status.some(s => s.bool);\n  };\n\n  /**\n   * Adds an event interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to call before event is triggered\n   * @example\n   * brush.intercept('add-values', items => {\n   *  console.log('about to add the following items', items);\n   *  return items;\n   * });\n   */\n  fn.intercept = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    interceptors[s].push(ic);\n  };\n\n  /**\n   * Removes an interceptor\n   *\n   * @param {string} name Name of the event to intercept\n   * @param {function} ic Handler to remove\n   */\n  fn.removeInterceptor = (name, ic) => {\n    const s = toCamelCase(name);\n    if (!interceptors[s]) {\n      return;\n    }\n    const idx = interceptors[s].indexOf(ic);\n    if (idx !== -1) {\n      interceptors[s].splice(idx, 1);\n    }\n  };\n\n  /**\n   * Removes all interceptors\n   *\n   * @param {string} [name] Name of the event to remove interceptors for. If not provided, removes all interceptors.\n   */\n  fn.removeAllInterceptors = (name) => {\n    const toRemove = [];\n    if (name) {\n      const s = toCamelCase(name);\n      if (interceptors[s] && interceptors[s].length) {\n        toRemove.push({ name, handlers: interceptors[s] });\n      }\n    } else {\n      Object.keys(interceptors).forEach((n) => {\n        if (interceptors[n].length) {\n          toRemove.push({ name: toSnakeCase(n), handlers: interceptors[n] });\n        }\n      });\n    }\n\n    toRemove.forEach((ic) => {\n      const interceptorHandlers = ic.handlers.slice();\n      interceptorHandlers.forEach(handler => fn.removeInterceptor(ic.name, handler));\n    });\n  };\n\n  /**\n   * Adds an alias to the given key\n   *\n   * @param {string} key - Value to be replaced\n   * @param {string} alias - Value to replace key with\n   * @example\n   * brush.addKeyAlias('BadFieldName', 'Region');\n   * brush.addValue('BadFieldName', 'Sweden'); // 'BadFieldName' will be stored as 'Region'\n   * brush.containsValue('Region', 'Sweden'); // true\n   * brush.containsValue('BadFieldName', 'Sweden'); // true\n   */\n  fn.addKeyAlias = (key, alias) => {\n    aliases[key] = alias;\n  };\n\n  /**\n   * Removes an alias\n   *\n   * This will only remove the key to alias mapping for new manipulations of the brush,\n   * no changes will be made to the current state of this brush.\n   *\n   * @param {string} key - Value to remove as alias\n   * @example\n   * brush.removeKeyAlias('BadFieldName');\n   */\n  fn.removeKeyAlias = (key) => {\n    delete aliases[key];\n  };\n\n  EventEmitter.mixin(fn);\n\n  return fn;\n}\n","import brush from './brush';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nexport function register(type, b) {\n  if (b) {\n    reg.add(type, b);\n  }\n  return reg.get(type);\n}\n\nexport default brush;\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import extend from 'extend';\nimport { interpolateObject } from 'd3-interpolate';\nimport {\n  easeCubic,\n  easeElasticOut\n} from 'd3-ease';\n\n/* globals window */\n\nfunction nodeId(node, i) {\n  if (node.data) {\n    return node.data.value;\n  }\n  if (node.type === 'text') {\n    return node.text;\n  }\n  return i;\n}\n\nfunction tween({\n  old,\n  current\n}, {\n  renderer\n}, config) {\n  let ticker;\n  // let staticNodes = [];\n  let toBeUpdated = [];\n  let entered = { nodes: [], ips: [] };\n  let exited = { nodes: [], ips: [] };\n  let updated = { nodes: [], ips: [] };\n  let stages = [];\n  const trackBy = config.trackBy || nodeId;\n\n  const tweener = {\n    start() {\n      let ids = {};\n      old.forEach((node, i) => {\n        let id = trackBy(node, i);\n        ids[id] = node;\n      });\n      current.forEach((node, i) => {\n        let id = trackBy(node, i);\n        if (ids[id]) {\n          updated.ips.push(interpolateObject(ids[id], node));\n          updated.nodes.push(node);\n          toBeUpdated.push(ids[id]);\n          ids[id] = false;\n        } else {\n          entered.nodes.push(node);\n          entered.ips.push(interpolateObject({\n            r: 0.001,\n            opacity: 0\n          }, node));\n        }\n      });\n      Object.keys(ids).forEach((key) => {\n        if (ids[key]) {\n          exited.nodes.push(ids[key]);\n          exited.ips.push(interpolateObject(ids[key], extend({}, ids[key], { r: 0.0001, opacity: 0 })));\n        }\n      });\n      if (exited.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 200,\n          tweens: exited.ips,\n          nodes: [...toBeUpdated]\n        });\n      }\n      if (updated.ips.length) {\n        stages.push({\n          easing: easeCubic,\n          duration: 400,\n          tweens: updated.ips,\n          nodes: []\n        });\n      }\n      if (entered.ips.length) {\n        stages.push({\n          easing: easeElasticOut,\n          duration: 1200,\n          tweens: entered.ips,\n          nodes: [...updated.nodes]\n        });\n      }\n      // console.log(stages);\n      if (stages.length) {\n        stages[0].started = Date.now();\n        if (typeof window !== 'undefined') {\n          ticker = window.requestAnimationFrame(tweener.tick);\n        }\n      }\n    },\n    tick() {\n      let currentStage = stages[0];\n      if (!currentStage) {\n        tweener.stop();\n      }\n      if (!currentStage.started) {\n        currentStage.started = Date.now();\n      }\n      let t = (Date.now() - currentStage.started) / currentStage.duration;\n      let currentNodes = [];\n      let tweenedNodes = currentStage.tweens.map(ip => ip(currentStage.easing(Math.min(1, t))));\n      currentNodes.push(...tweenedNodes);\n      currentNodes.push(...currentStage.nodes);\n      // currentNodes.push(...staticNodes);\n      // stages.slice(1).forEach(stage => currentNodes.push(...stage.nodes));\n      renderer.render(currentNodes);\n      if (t >= 1) {\n        // staticNodes.push(...currentStage.nodes);\n        stages.shift();\n        if (!stages.length) {\n          tweener.stop();\n        }\n      }\n      if (ticker) {\n        ticker = window.requestAnimationFrame(tweener.tick);\n      }\n    },\n    stop() {\n      if (ticker) {\n        window.cancelAnimationFrame(ticker);\n        ticker = false;\n      }\n    }\n  };\n\n  return tweener;\n}\n\nexport { tween as default };\n","import extend from 'extend';\n\nconst GLOBAL_DEFAULTS = {\n  fontFamily: 'Arial',\n  fontSize: '13px',\n  color: '#595959',\n  backgroundColor: '#ffffff',\n  stroke: '#000000',\n  strokeWidth: 0,\n  $fill: '#333333'\n};\n\nconst REF_RX = /^\\$/;\n\nfunction isPrimitive(x) {\n  const type = typeof x;\n  return type !== 'object' && type !== 'function' && type !== 'undefined';\n}\n\n/**\n * @callback datum-accessor\n * @param {datum-extract} d\n */\n\n/**\n * @typedef {object} datum-config\n * @property {string} [scale]\n * @property {datum-accessor} fn\n * @property {string} ref - A reference to a datum-extract property\n */\n\n/**\n * @typedef {string|datum-config|datum-accessor} datum-string\n */\n\n/**\n * @typedef {number|datum-config|datum-accessor} datum-number\n */\n\n/**\n * Normalizes property settings\n *\n * @ignore\n * @export\n * @param {any} settings\n * @param {any} defaults\n * @param {any} chart\n * @returns {any}\n */\nexport function normalizeSettings(settings, defaults, chart) {\n  const composition = extend({}, settings);\n  const defs = extend({}, defaults);\n  Object.keys(composition).forEach((key) => {\n    defs[key] = {};\n    const v = composition[key];\n    const vType = typeof v;\n    if (typeof v === 'function') {\n      defs[key].fn = v;\n    } else if (isPrimitive(v)) {\n      let defaultValue = defaults[key];\n      if (typeof defaultValue === 'string' && REF_RX.test(defaultValue)) {\n        defaultValue = GLOBAL_DEFAULTS[defaultValue];\n      }\n      const defaultType = typeof defaultValue;\n      if (defaultType === 'undefined') { // if property has no default, assign provided value\n        defs[key] = v;\n      } else { // assign provided value if it's of same type as default, otherwise use default\n        defs[key] = defaultType === vType ? v : defaultValue;\n      }\n    } else if (v && typeof v === 'object') {\n      if (typeof v.fn === 'function') {\n        defs[key].fn = v.fn;\n      }\n      if (typeof v.scale !== 'undefined') {\n        defs[key].scale = chart.scale(v.scale);\n      }\n      if (typeof v.ref === 'string') {\n        defs[key].ref = v.ref;\n      }\n    }\n  });\n\n  Object.keys(defaults).forEach((key) => {\n    if (key in composition) { // don't process same props again\n      return;\n    }\n    const v = defaults[key];\n    const defaultType = typeof v;\n    if (defaultType === 'string' && REF_RX.test(v)) {\n      defs[key] = GLOBAL_DEFAULTS[v];\n    } else {\n      defs[key] = v;\n    }\n  });\n\n  return defs;\n}\n\nexport function resolveForItem(context, normalized, idx) {\n  const ret = {};\n  const keys = Object.keys(normalized);\n  const len = keys.length;\n  const fallbackData = context.datum;\n  const datum = context.datum;\n  for (let i = 0; i < len; i++) {\n    const key = keys[i];\n    const normalizedProp = normalized[key];\n    const exists = typeof datum === 'object' && typeof normalizedProp !== 'undefined';\n    const hasExplicitDataProp = exists && typeof normalizedProp.ref === 'string';\n    const hasImplicitDataProp = exists && key in datum;\n    const propData = hasExplicitDataProp ? datum[normalizedProp.ref] : hasImplicitDataProp ? datum[key] : fallbackData; // eslint-disable-line\n    if (isPrimitive(normalizedProp)) {\n      ret[key] = normalizedProp;\n    } else if (exists && normalizedProp.fn) { // callback function\n      if (normalizedProp.scale) {\n        context.scale = normalizedProp.scale;\n      }\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else if (exists && normalizedProp.scale && propData) {\n      ret[key] = normalizedProp.scale(propData.value);\n      if (normalizedProp.scale.bandwidth) {\n        ret[key] += normalizedProp.scale.bandwidth() / 2;\n      }\n    } else if (hasExplicitDataProp && propData) {\n      ret[key] = propData.value;\n    } else if (normalizedProp.fn) {\n      ret[key] = normalizedProp.fn.call(null, context, idx);\n    } else {\n      ret[key] = normalizedProp;\n    }\n  }\n  return ret;\n}\n","\nexport function updateScaleSize(object, path, size) {\n  const o = object[path];\n  if (o && o.scale && o.scale.pxScale) {\n    o.scale = o.scale.pxScale(size);\n  } else if (o && o.pxScale) {\n    object[path] = o.pxScale(size);\n  }\n}\n\nexport function scaleWithSize(scale, size) {\n  return scale.pxScale ? scale.pxScale(size) : scale;\n}\n","import { normalizeSettings, resolveForItem } from '../chart-components/property-resolver';\nimport { updateScaleSize } from '../scales';\n\nconst externals = {\n  normalizeSettings,\n  resolveForItem,\n  updateScaleSize\n};\n\nexport default function (resources, deps = externals) {\n  let cache = {};\n\n  function resolve({\n    data,\n    settings,\n    defaults = {},\n    scaled\n  }) {\n    const norm = cache.norm = deps.normalizeSettings(settings, defaults, resources.chart);\n\n    const res = {\n      scale: resources.chart.scale,\n      formatter: resources.chart.formatter\n    };\n\n    if (scaled) {\n      Object.keys(scaled).forEach((key) => {\n        if (norm[key]) {\n          deps.updateScaleSize(norm, key, scaled[key]);\n        }\n      });\n    }\n\n    const resolved = [];\n    if (data && Array.isArray(data.items)) {\n      let context;\n      for (let i = 0, len = data.items.length; i < len; i++) {\n        context = {\n          datum: data.items[i],\n          data,\n          resources: res\n        };\n        let obj = deps.resolveForItem(context, cache.norm, i);\n        obj.data = data.items[i];\n        resolved.push(obj);\n      }\n    } else {\n      const context = {\n        data,\n        resources: res\n      };\n      let obj = deps.resolveForItem(context, cache.norm, -1);\n      return {\n        settings: cache.norm,\n        item: obj\n      };\n    }\n    return {\n      settings: cache.norm,\n      items: resolved\n    };\n  }\n\n  return {\n    resolve\n  };\n}\n","import extend from 'extend';\nimport { isTouchEvent } from '../utils/event-type';\n\n/**\n * Flatten the array of nodes by removing any containers as they do not support styling, thus unable to brush them.\n * @param {array} nodes\n * @ignore\n */\nexport function reduceToLeafNodes(nodes = []) {\n  return nodes.reduce((ary, node) => {\n    if (Array.isArray(node.children)) {\n      ary.push(...reduceToLeafNodes(node.children));\n      return ary;\n    }\n    ary.push(node);\n    return ary;\n  }, []);\n}\n\nexport function styler(obj, {\n  context,\n  data,\n  style,\n  filter,\n  mode\n}) {\n  const brusher = obj.chart.brush(context);\n  const dataProps = data;\n  const active = style.active || {};\n  const inactive = style.inactive || {};\n  const styleProps = [];\n  Object.keys(active).forEach((key) => {\n    styleProps.push(key);\n  });\n\n  Object.keys(inactive).forEach((key) => {\n    if (styleProps.indexOf(key) === -1) {\n      styleProps.push(key);\n    }\n  });\n\n  const activeNodes = [];\n  let globalActivation = false; // track when we need to loop through all nodes, not just the active ones\n\n  const getNodes = () => {\n    let nodes = reduceToLeafNodes(obj.nodes);\n    if (typeof filter === 'function') {\n      nodes = nodes.filter(filter);\n    }\n    return nodes;\n  };\n\n  const update = () => {\n    // TODO - render nodes only once, i.e. don't render for each brush, update nodes for all brushes and then render\n    const nodes = getNodes();\n    const len = nodes.length;\n    let nodeData;\n    let globalChanged = false;\n\n    for (let i = 0; i < len; i++) { // TODO - update only added and removed nodes\n      nodeData = nodes[i].data;\n      if (!nodeData) {\n        continue;\n      }\n\n      if (!nodes[i].__style) {\n        nodes[i].__style = {};\n        styleProps.forEach((s) => {\n          nodes[i].__style[s] = nodes[i][s]; // store original value\n        });\n      }\n\n      const isActive = brusher.containsMappedData(nodeData, dataProps, mode);\n      const activeIdx = activeNodes.indexOf(nodes[i]);\n      let changed = false;\n      if (isActive && activeIdx === -1) { // activated\n        activeNodes.push(nodes[i]);\n        changed = true;\n      } else if (!isActive && activeIdx !== -1) { // was active\n        activeNodes.splice(activeIdx, 1);\n        changed = true;\n      }\n      if (changed || globalActivation) {\n        const original = extend({}, nodes[i], nodes[i].__style);\n        styleProps.forEach((s) => {\n          if (isActive && s in active) {\n            nodes[i][s] = typeof active[s] === 'function' ? active[s].call(null, original) : active[s];\n          } else if (!isActive && s in inactive) {\n            nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, original) : inactive[s];\n          } else {\n            nodes[i][s] = nodes[i].__style[s];\n          }\n        });\n        globalChanged = true;\n      }\n    }\n    globalActivation = false;\n    return globalChanged;\n  };\n\n  const onStart = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n    for (let i = 0; i < len; i++) {\n      if (!nodes[i].data) {\n        continue;\n      }\n\n      nodes[i].__style = nodes[i].__style || {};\n      styleProps.forEach((s) => {\n        nodes[i].__style[s] = nodes[i][s]; // store original value\n        if (s in inactive) {\n          nodes[i][s] = typeof inactive[s] === 'function' ? inactive[s].call(null, nodes[i]) : inactive[s];\n        }\n      });\n    }\n    globalActivation = true;\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n\n  const onEnd = () => {\n    const nodes = getNodes();\n    const len = nodes.length;\n\n    for (let i = 0; i < len; i++) {\n      if (nodes[i].__style) {\n        Object.keys(nodes[i].__style).forEach((s) => {\n          nodes[i][s] = nodes[i].__style[s];\n        });\n        nodes[i].__style = undefined;\n      }\n    }\n    activeNodes.length = 0;\n    obj.renderer.render(obj.nodes);\n  };\n  const onUpdate = (/* added, removed */) => {\n    const changed = update();\n    if (changed) {\n      obj.renderer.render(obj.nodes);\n    }\n  };\n\n  const externalUpdate = () => {\n    activeNodes.length = 0;\n    globalActivation = true;\n    update();\n  };\n\n  brusher.on('start', onStart);\n  brusher.on('end', onEnd);\n  brusher.on('update', onUpdate);\n\n  function cleanUp() {\n    brusher.removeListener('start', onStart);\n    brusher.removeListener('end', onEnd);\n    brusher.removeListener('update', onUpdate);\n  }\n\n  return {\n    isActive() {\n      return brusher.isActive();\n    },\n    update: externalUpdate,\n    cleanUp\n  };\n}\n\nexport function brushDataPoints({\n  dataPoints,\n  action,\n  chart,\n  trigger\n}) {\n  if (!trigger) {\n    return;\n  }\n\n  const dataProps = trigger.data || [''];\n\n  let rangeBrush = {\n    items: [],\n    actionFn: 'toggleRanges'\n  };\n  let valueBrush = {\n    items: [],\n    actionFn: 'toggleValues'\n  };\n\n  if (['add', 'remove', 'set', 'toggle'].indexOf(action) !== -1) {\n    rangeBrush.actionFn = `${action}Ranges`;\n    valueBrush.actionFn = `${action}Values`;\n  }\n\n  for (let i = 0; i < dataPoints.length; i++) {\n    const dataPoint = dataPoints[i];\n    if (!dataPoint) {\n      continue;\n    }\n    dataProps.forEach((p) => {\n      let d = dataPoint && !p ? dataPoint : dataPoint[p];\n      if (d) {\n        let it = { key: d.source.field };\n        if (typeof d.source.key !== 'undefined') {\n          it.key = `${d.source.key}/${d.source.field}`;\n        }\n        if (Array.isArray(d.value)) {\n          it.range = { min: d.value[0], max: d.value[1] };\n          rangeBrush.items.push(it);\n        } else {\n          it.value = d.value;\n          valueBrush.items.push(it);\n        }\n      }\n    });\n  }\n\n  trigger.contexts.forEach((c) => {\n    if (rangeBrush.items.length) {\n      chart.brush(c)[rangeBrush.actionFn](rangeBrush.items);\n    } else {\n      chart.brush(c)[valueBrush.actionFn](valueBrush.items); // call action even if there are items to potentially clear what is currently in the brush\n    }\n  });\n}\n\nexport function brushFromSceneNodes({\n  nodes,\n  action,\n  chart,\n  trigger\n}) {\n  const dataPoints = [];\n  for (let i = 0; i < nodes.length; i++) {\n    const node = nodes[i];\n    let nodeData = node.data;\n    if (nodeData !== null) {\n      dataPoints.push(nodeData);\n    }\n  }\n\n  brushDataPoints({\n    dataPoints,\n    action,\n    chart,\n    trigger\n  });\n}\n\nexport function resolveEvent({\n  collisions, t, config, action\n}) {\n  let brushCollisions = [];\n  let resolved = false;\n\n  if (collisions.length > 0) {\n    brushCollisions = collisions;\n    resolved = true;\n\n    if (t.propagation === 'stop') {\n      brushCollisions = [collisions[collisions.length - 1]];\n    }\n  }\n\n  const nodes = brushCollisions.map(c => c.node);\n  brushFromSceneNodes({\n    nodes,\n    action,\n    chart: config.chart,\n    data: config.data,\n    trigger: t\n  });\n\n  return resolved;\n}\n\nfunction touchSingleContactPoint(e, rect) {\n  if (e.changedTouches.length !== 1) {\n    return null;\n  }\n\n  return {\n    x: e.changedTouches[0].clientX - rect.left,\n    y: e.changedTouches[0].clientY - rect.top\n  };\n}\n\nfunction singleContactPoint(e, rect) {\n  return {\n    x: e.clientX - rect.left,\n    y: e.clientY - rect.top\n  };\n}\n\nfunction resolveCollisions(e, t, renderer) {\n  const rect = renderer.element().getBoundingClientRect();\n  let p = isTouchEvent(e) ? touchSingleContactPoint(e, rect) : singleContactPoint(e, rect);\n\n  if (p === null || p.x < 0 || p.y < 0 || p.x > rect.width || p.y > rect.height) { // TODO include radius in this check?\n    return [];\n  }\n\n  if (t.touchRadius > 0 && isTouchEvent(e)) {\n    p = {\n      cx: p.x,\n      cy: p.y,\n      r: t.touchRadius // TODO Use touch event radius/width value (Need to handle dpi scaling as well)\n    };\n  }\n\n  return renderer.itemsAt(p);\n}\n\nfunction resolveAction(action, e, def) {\n  if (action) {\n    if (typeof action === 'function') {\n      return action(e);\n    }\n    return action;\n  }\n  return def;\n}\n\nexport function resolveTapEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'toggle')\n  });\n}\n\nexport function resolveOverEvent({ e, t, config }) {\n  const collisions = resolveCollisions(e, t, config.renderer);\n\n  return resolveEvent({\n    collisions, t, config, action: resolveAction(t.action, e, 'set')\n  });\n}\n","/**\n * A list of supported attributes in lower camelCase notation mapped to corresponding kebab-case notation.\n * The kebab-case notations are a sub-set of SVG attributes (https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute).\n * @ignore\n */\nconst mappedAttributes = {\n  fill: 'fill',\n  stroke: 'stroke',\n  opacity: 'opacity',\n  strokeWidth: 'stroke-width',\n  strokeLinejoin: 'stroke-linejoin',\n  fontFamily: 'font-family',\n  fontSize: 'font-size',\n  baseline: 'dominant-baseline', // Special case where we have defined our own attribute name\n  dominantBaseline: 'dominant-baseline',\n  anchor: 'text-anchor', // Special case where we have defined our own attribute name\n  textAnchor: 'text-anchor',\n  maxWidth: 'maxWidth',\n  transform: 'transform',\n  strokeDasharray: 'stroke-dasharray',\n  id: 'id'\n};\n\n/**\n * Takes a target object and assign each supported attribute from a source object to that target.\n * Each supported attributes is converted to a mapped kebab-case notation.\n * @ignore\n *\n * @param {object} target - Target object on which to assign mapped attribute values\n * @param {object} source - Source object\n */\nfunction assignMappedAttribute(target, source) {\n  Object.keys(mappedAttributes).forEach((key) => {\n    const sourceValue = source[key];\n    if (typeof sourceValue !== 'undefined') {\n      const mappedKey = mappedAttributes[key];\n      target[mappedKey] = sourceValue;\n    }\n  });\n}\n\nexport { mappedAttributes, assignMappedAttribute };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--circle\n */\nfunction circle(options) {\n  return {\n    type: 'circle',\n    fill: 'black',\n    cx: options.x,\n    cy: options.y,\n    r: options.size / 2\n  };\n}\n\nexport { circle as default };\n","export default function pointsToPath(points, close = true) {\n  let d = '';\n\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    if (i === 0) {\n      d += `M${p.x} ${p.y}`;\n    } else {\n      d += `L${p.x} ${p.y}`;\n    }\n\n    d += ' ';\n  }\n\n  if (close) {\n    d += 'Z';\n  }\n\n  return d;\n}\n","import pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--diamond\n */\nfunction diamond(options) {\n  const size = options.size;\n  const left = options.x - (size / 2);\n  const top = options.y - (size / 2);\n  const points = [\n    { x: left, y: top + (size / 2) },\n    { x: left + (size / 2), y: top },\n    { x: left + size, y: top + (size / 2) },\n    { x: left + (size / 2), y: top + size },\n    { x: left, y: top + (size / 2) }\n  ];\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { diamond as default };\n","import pointsToPath from '../utils/points-to-path';\n\nexport function generateCrossPoints(x, y, size, barWidth) {\n  const r = size / 2;\n  const innerLeft = x - (barWidth / 2);\n  const innerTop = y - (barWidth / 2);\n  const left = x - r;\n  const top = y - r;\n\n  return [\n    { x: innerLeft, y: innerTop }, // Top\n    { x: innerLeft, y: top },\n    { x: innerLeft + barWidth, y: top },\n    { x: innerLeft + barWidth, y: innerTop }, // Right\n    { x: left + size, y: innerTop },\n    { x: left + size, y: innerTop + barWidth },\n    { x: innerLeft + barWidth, y: innerTop + barWidth }, // Bottom\n    { x: innerLeft + barWidth, y: top + size },\n    { x: innerLeft, y: top + size },\n    { x: innerLeft, y: innerTop + barWidth }, // Left\n    { x: left, y: innerTop + barWidth },\n    { x: left, y: innerTop }\n  ];\n}\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--cross\n * @property {number} [width] - Width of the diagonals\n */\nfunction cross(options) {\n  const x = options.x;\n  const y = options.y;\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n\n  const points = generateCrossPoints(x, y, options.size, barWidth);\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { cross as default };\n","/**\n * Get x1, y1, x2, y2 point from angle\n * Source: {@link https://codepen.io/NV/pen/jcnmK}\n * @private\n *\n * @param  {number} angle Radians\n * @return {object}       Point with x1, y2, x2, y2.\n */\nexport function angleToPoints(angle) {\n  let segment = Math.floor((angle / Math.PI) * 2) + 2;\n  let diagonal = ((0.5 * segment) + 0.25) * Math.PI;\n  let op = Math.cos(Math.abs(diagonal - angle)) * Math.sqrt(2);\n  let x = op * Math.cos(angle);\n  let y = op * Math.sin(angle);\n\n  return {\n    x1: x < 0 ? 1 : 0,\n    y1: y < 0 ? 1 : 0,\n    x2: x >= 0 ? x : x + 1,\n    y2: y >= 0 ? y : y + 1\n  };\n}\n\n/**\n * Turns degrees into radians\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toRadians(d) {\n  return ((-d) / 180) * Math.PI;\n}\n\n/**\n * Turns radians into degrees\n * @private\n *\n * @param  {number} degrees Degrees\n * @return {number}         Radians\n */\nexport function toDegrees(r) {\n  return r * (180 / Math.PI);\n}\n\n/**\n * Get x1, y1, x2, y2 point from degree\n * @private\n *\n * @param  {number} d Degree\n * @return {object}   Point with x1, y2, x2, y2.\n */\nexport function degreesToPoints(d) {\n  return angleToPoints(toRadians(d));\n}\n","export function add(v1, v2) {\n  return {\n    x: v1.x + v2.x,\n    y: v1.y + v2.y\n  };\n}\n\nexport function sub(v1, v2) {\n  return {\n    x: v1.x - v2.x,\n    y: v1.y - v2.y\n  };\n}\n\nexport function scalarMultiply(v, s) {\n  return {\n    x: v.x * s,\n    y: v.y * s\n  };\n}\n\nexport function sqrMagnitude(v) {\n  return Math.pow(v.x, 2) + Math.pow(v.y, 2);\n}\n\nexport function magnitude(v) {\n  return Math.sqrt(sqrMagnitude(v));\n}\n\nexport function distanceX(v1, v2) {\n  return v1.x - v2.x;\n}\n\nexport function distanceY(v1, v2) {\n  return v1.y - v2.y;\n}\n\nexport function sqrDistance(v1, v2) {\n  return Math.pow(distanceX(v1, v2), 2) + Math.pow(distanceY(v1, v2), 2);\n}\n\nexport function distance(v1, v2) {\n  return Math.sqrt(sqrDistance(v1, v2));\n}\n\nexport function determinant(v1, v2) {\n  return (v1.x * v2.y) - (v2.x * v1.y);\n}\n\nexport function dot(v1, v2) {\n  return (v1.x * v2.x) + (v1.y * v2.y);\n}\n\nexport function projectOnto(v1, v2) {\n  const m = dot(v1, v2) / dot(v2, v2) || 1;\n  return {\n    x: v2.x * m,\n    y: v2.y * m\n  };\n}\n\nexport function rotate(v, radians, origin = { x: 0, y: 0 }) {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n\n  const t1 = sub(v, origin);\n\n  const t2 = {\n    x: (cos * t1.x) - (sin * t1.y),\n    y: (sin * t1.x) + (cos * t1.y)\n  };\n\n  return add(t2, origin);\n}\n\nexport function unit(v) {\n  const m = magnitude(v);\n  return { x: v.x / m, y: v.y / m };\n}\n\nexport function cross(u, v, a) {\n  return ((v.x - u.x) * (a.y - u.y)) - ((v.y - u.y) * (v.x - u.x));\n}\n","import { generateCrossPoints } from './cross';\nimport { toRadians } from '../math/angles';\nimport { rotate } from '../math/vector';\nimport pointsToPath from '../utils/points-to-path';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--saltire\n * @property {number} [width] - Width of the diagonals\n */\nfunction saltire(options) {\n  const radians = toRadians(45);\n  const r = options.size / 2;\n  const width = isNaN(options.width) ? r / 2 : options.width;\n  const barWidth = Math.min(width, r);\n  let adjustedSize = options.size;\n\n  // Adjust for the barwidth and rotation angle, so that the visual part is always inside the symbol area\n  const h = Math.sin(Math.asin(-radians)) * (barWidth / 2);\n  const c = r / Math.sin(-radians);\n  adjustedSize += (c - r) * 2;\n  adjustedSize -= h * 2;\n\n  const centroid = { x: options.x, y: options.y };\n  const points = generateCrossPoints(options.x, options.y, adjustedSize, barWidth)\n    .map(p => rotate(p, radians, centroid));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { saltire as default };\n","/**\n * @extends symbol-config\n * @typedef {object} symbol--square\n */\nfunction square(options) {\n  const size = options.size;\n\n  return {\n    type: 'rect',\n    fill: 'black',\n    x: options.x - (size / 2),\n    y: options.y - (size / 2),\n    width: size,\n    height: size\n  };\n}\n\nexport { square as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { rotate } from '../math/vector';\nimport { toRadians } from '../math/angles';\n\nconst DIRECTION_TO_ANGLE = {\n  up: 0,\n  down: 180,\n  left: 90,\n  right: -90\n};\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--triangle\n * @property {string} [direction='up'] - Direction of the triangle ('up'|'down'|'left'|'right')\n */\nfunction triangle(options) {\n  const size = options.size;\n  const p = { x: options.x, y: options.y };\n  const directionAngle = DIRECTION_TO_ANGLE[options.direction] || 0;\n  const halfSize = (size / 2);\n  const left = options.x - halfSize;\n  const top = options.y - halfSize;\n  let points = [\n    { x: left, y: top + size },\n    { x: left + halfSize, y: top },\n    { x: left + size, y: top + size },\n    { x: left, y: top + size }\n  ];\n\n  const radians = toRadians(directionAngle);\n  points = points.map(pp => rotate(pp, radians, p));\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { triangle as default };\n","function createRectCollider({ x, y, size }) {\n  const r = size / 2;\n  return {\n    type: 'rect',\n    x: x - r,\n    y: y - r,\n    width: size,\n    height: size\n  };\n}\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--line\n * @property {string} [direction='horizontal'] - Direction of line ('horizontal'|'vertical').\n */\nfunction line(options) {\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const x = options.x;\n  const y = options.y;\n\n  return {\n    type: 'line',\n    stroke: 'black',\n    strokeWidth: 1,\n    x1: x - (isVertical ? 0 : r),\n    y1: y - (isVertical ? r : 0),\n    x2: x + (isVertical ? 0 : r),\n    y2: y + (isVertical ? r : 0),\n    collider: createRectCollider(options) // TODO Use visual collider?\n  };\n}\n\nexport { line as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--star\n * @property {number} [points=5] - Number of points on the star\n * @property {number} [startAngle=90] - Start drawing angle\n * @property {number} [innerRadius=size/2] - Size of the star core. My not exceed size of symbol.\n */\nfunction star(options) {\n  const size = options.size;\n  const points = [];\n  const outerRadius = size / 2;\n  const drawPoints = options.points || 5;\n  const innerRadius = (Math.min(options.innerRadius || size / 2, size) / 2);\n  const startAngle = isNaN(options.startAngle) ? 90 : options.startAngle;\n  const angle = 360 / drawPoints;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const pAngle = (angle * i) + startAngle;\n    const radians = toRadians(pAngle);\n    const innerRadians = toRadians(pAngle + (angle / 2));\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    const iy = Math.sin(innerRadians);\n    const ix = Math.cos(innerRadians);\n\n    points.push({\n      x: options.x + (x * outerRadius),\n      y: options.y + (y * outerRadius)\n    });\n\n    points.push({\n      x: options.x + (ix * innerRadius),\n      y: options.y + (iy * innerRadius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { star as default };\n","import pointsToPath from '../utils/points-to-path';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--n-polygon\n * @property {object} [sides=6] - Number of sides on the regular polygon\n * @property {object} [startAngle=0] - Start drawing angle\n */\nfunction nPolygon(options) {\n  const points = [];\n  const radius = options.size / 2;\n  const drawPoints = Math.max(isNaN(options.sides) ? 6 : options.sides, 3);\n  const angle = 360 / drawPoints;\n  const startAngle = isNaN(options.startAngle) ? 0 : options.startAngle;\n\n  for (let i = 1; i <= drawPoints; i++) {\n    const radians = toRadians((angle * i) + startAngle);\n    const y = Math.sin(radians);\n    const x = Math.cos(radians);\n    points.push({\n      x: options.x + (x * radius),\n      y: options.y + (y * radius)\n    });\n  }\n\n  return {\n    type: 'path',\n    fill: 'black',\n    d: pointsToPath(points)\n  };\n}\n\nexport { nPolygon as default };\n","import { rotate } from '../math/vector';\nimport { pointsToRect } from '../geometry/util';\nimport { toRadians } from '../math/angles';\n\n/**\n * @extends symbol-config\n * @typedef {object} symbol--bar\n * @property {string} [direction='horizontal'] - Direction of bar ('horizontal'|'vertical').\n */\nfunction bar(options) {\n  const p = { x: options.x, y: options.y };\n  const isVertical = options.direction === 'vertical';\n  const r = options.size / 2;\n  const width = r / 2;\n  const halfWidth = width / 2;\n\n  let points = [\n    { x: p.x - r, y: p.y + halfWidth },\n    { x: p.x - r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y - halfWidth },\n    { x: p.x + r, y: p.y + halfWidth }\n  ];\n\n  if (isVertical) {\n    const radians = toRadians(90);\n    points = points.map(pp => rotate(pp, radians, p));\n  }\n\n  const rect = pointsToRect(points);\n  rect.type = 'rect';\n  rect.fill = 'black';\n\n  return rect;\n}\n\nexport { bar as default };\n","import { mappedAttributes } from '../scene-graph/attributes';\nimport circle from './circle';\nimport diamond from './diamond';\nimport saltire from './saltire';\nimport square from './square';\nimport triangle from './triangle';\nimport line from './line';\nimport star from './star';\nimport nPolygon from './n-polygon';\nimport cross from './cross';\nimport bar from './bar';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nreg.add('circle', circle);\nreg.add('diamond', diamond);\nreg.add('saltire', saltire);\nreg.add('square', square);\nreg.add('triangle', triangle);\nreg.add('line', line);\nreg.add('star', star);\nreg.add('n-polygon', nPolygon);\nreg.add('cross', cross);\nreg.add('bar', bar);\n\nfunction applyOpts(obj, opts = {}) {\n  Object.keys(opts).forEach((key) => {\n    if (typeof mappedAttributes[key] !== 'undefined' && key !== 'transform') {\n      obj[key] = opts[key];\n    }\n  });\n}\n\n/**\n * Factory function for symbols.\n * Options object is passed to symbols function.\n * @private\n * @param {symbol--bar|symbol--circle|symbol--cross|symbol--diamond|symbol--line|symbol--n-polygon|symbol--saltire|symbol--square|symbol--star|symbol--triangle} options - Options definition may contain any of the supported display-object attributes\n * @returns {object} A node definition\n */\nfunction create(options = {}) { // TODO handle reserverd properties x, y, size, data, etc..\n  const fn = reg.get(options.type);\n  if (fn) {\n    const s = fn(options);\n    applyOpts(s, options);\n\n    if (typeof options.data !== 'undefined') {\n      s.data = options.data;\n    }\n\n    return s;\n  }\n  return fn;\n}\n\nconst symbols = {\n  add: (type, fn) => reg.add(type, fn),\n  get: type => reg.get(type),\n  remove: type => reg.remove(type),\n  create\n};\n\nexport {\n  create as default,\n  symbols,\n  reg as symbolRegistry\n};\n\n/**\n * Mandatory symbol config\n * @typedef {object} symbol-config\n * @property {object} options - Options definition may contain any of the supported display-object attributes\n * @property {string} options.type - Type of symbol\n * @property {number} options.x - x-coordinate\n * @property {number} options.y - y-coordinate\n * @property {number} options.size\n * @property {object} [options.data]\n */\n","/* eslint camelcase: 1 */\nimport extend from 'extend';\nimport EventEmitter from '../utils/event-emitter';\nimport extractData from '../data/extractor';\nimport tween from './tween';\nimport settingsResolver from './settings-resolver';\nimport {\n  styler as brushStyler,\n  resolveTapEvent,\n  resolveOverEvent,\n  brushFromSceneNodes\n} from './brushing';\nimport symbolFactory from '../symbols';\nimport createDockConfig from '../layout/dock/config';\n\nconst isReservedProperty = prop => [\n  'on', 'preferredSize', 'created', 'beforeMount', 'mounted', 'resize',\n  'beforeUpdate', 'updated', 'beforeRender', 'render', 'beforeUnmount', 'beforeDestroy',\n  'destroyed', 'defaultSettings', 'data', 'settings', 'formatter',\n  'scale', 'chart', 'dockConfig', 'mediator', 'style', 'resolver', 'registries',\n  '_DO_NOT_USE_getInfo', 'symbol', 'isVisible'\n].some(name => name === prop);\n\nfunction prepareContext(ctx, definition, opts) {\n  const {\n    require = []\n  } = definition;\n  const mediatorSettings = definition.mediator || {};\n  const {\n    settings,\n    formatter,\n    scale,\n    data,\n    renderer,\n    chart,\n    dockConfig,\n    mediator,\n    instance,\n    rect,\n    style,\n    registries,\n    resolver,\n    update,\n    _DO_NOT_USE_getInfo,\n    symbol,\n    isVisible\n  } = opts;\n\n  ctx.emit = () => {};\n\n  if (isVisible) {\n    ctx.isVisible = isVisible;\n  }\n\n  // TODO add setters and log warnings / errors to console\n  Object.defineProperty(ctx, 'settings', {\n    get: settings\n  });\n  Object.defineProperty(ctx, 'data', {\n    get: data\n  });\n  Object.defineProperty(ctx, 'formatter', {\n    get: formatter\n  });\n  Object.defineProperty(ctx, 'scale', {\n    get: scale\n  });\n  Object.defineProperty(ctx, 'mediator', {\n    get: mediator\n  });\n  Object.defineProperty(ctx, 'style', {\n    get: style\n  });\n  Object.defineProperty(ctx, 'registries', {\n    get: registries\n  });\n  if (rect) {\n    Object.defineProperty(ctx, 'rect', {\n      get: rect\n    });\n  }\n\n  // TODO _DO_NOT_USE_getInfo is a temporary solution to expose info from a component\n  // It should replace ASAP with a proper solution.\n  // The only component activaly in need of it is the legend-cat\n  if (_DO_NOT_USE_getInfo) {\n    ctx._DO_NOT_USE_getInfo = _DO_NOT_USE_getInfo;\n  }\n\n  Object.keys(definition).forEach((key) => {\n    if (!isReservedProperty(key)) {\n      // Add non-lifecycle methods to the context\n      if (typeof definition[key] === 'function') {\n        ctx[key] = definition[key].bind(ctx);\n      } else {\n        ctx[key] = definition[key];\n      }\n    }\n  });\n\n  // Add properties to context\n  require.forEach((req) => {\n    if (req === 'renderer') {\n      Object.defineProperty(ctx, 'renderer', {\n        get: renderer\n      });\n    } else if (req === 'chart') {\n      Object.defineProperty(ctx, 'chart', {\n        get: chart\n      });\n    } else if (req === 'dockConfig') {\n      Object.defineProperty(ctx, 'dockConfig', {\n        get: dockConfig\n      });\n    } else if (req === 'instance') {\n      Object.defineProperty(ctx, 'instance', {\n        get: instance\n      });\n    } else if (req === 'update' && update) {\n      Object.defineProperty(ctx, 'update', {\n        get: update\n      });\n    } else if (req === 'resolver') {\n      Object.defineProperty(ctx, 'resolver', {\n        get: resolver\n      });\n    } else if (req === 'symbol') {\n      Object.defineProperty(ctx, 'symbol', {\n        get: symbol\n      });\n    }\n  });\n\n  Object.keys(mediatorSettings).forEach((eventName) => {\n    ctx.mediator.on(eventName, mediatorSettings[eventName].bind(ctx));\n  });\n}\n\nfunction createDockDefinition(settings, preferredSize, logger) {\n  const getLayoutProperty = (propName) => {\n    if (settings[propName]) {\n      logger.warn(`Deprecation Warning the ${propName} property should be moved into layout: {} property`); // eslint-disable-line no-console\n      return settings[propName];\n    }\n    return settings.layout ? settings.layout[propName] : undefined;\n  };\n\n  const def = {};\n  def.displayOrder = getLayoutProperty('displayOrder');\n  def.dock = getLayoutProperty('dock');\n  def.prioOrder = getLayoutProperty('prioOrder');\n  def.minimumLayoutMode = getLayoutProperty('minimumLayoutMode');\n\n  // move layout properties to layout object\n  settings.layout = settings.layout || {};\n  settings.layout.displayOrder = typeof def.displayOrder !== 'undefined' ? def.displayOrder : settings.layout.displayOrder;\n  settings.layout.prioOrder = typeof def.prioOrder !== 'undefined' ? def.prioOrder : settings.layout.prioOrder;\n  settings.layout.dock = def.dock || settings.layout.dock;\n  settings.layout.minimumLayoutMode = def.minimumLayoutMode || settings.layout.minimumLayoutMode;\n\n  // not directly a dock layout property\n  def.show = settings.show;\n  def.preferredSize = preferredSize;\n  return def;\n}\n\nfunction setUpEmitter(ctx, emitter, settings) {\n  // Object.defineProperty(ctx, 'emitter', )\n  Object.keys(settings.on || {}).forEach((event) => {\n    ctx.eventListeners = ctx.eventListeners || [];\n    const listener = settings.on[event].bind(ctx);\n    ctx.eventListeners.push({ event, listener });\n    emitter.on(event, listener);\n  });\n  ctx.emit = (name, ...event) => emitter.emit(name, ...event);\n}\n\nfunction tearDownEmitter(ctx, emitter) {\n  if (ctx.eventListeners) {\n    ctx.eventListeners.forEach(({ event, listener }) => {\n      emitter.removeListener(event, listener);\n    });\n    ctx.eventListeners.length = 0;\n  }\n  ctx.emit = () => {};\n}\n\n// First render\n// preferredSize -> resize -> beforeRender -> render -> mounted\n\n// Normal update\n// beforeUpdate -> preferredSize -> resize -> beforeRender -> render -> updated\n\n// Update without relayout\n// beforeUpdate -> beforeRender -> render -> updated\n\n// TODO support es6 classes\nfunction componentFactory(definition, context = {}) {\n  const {\n    defaultSettings = {},\n    _DO_NOT_USE_getInfo = () => ({})\n  } = definition;\n  const {\n    chart,\n    container,\n    mediator,\n    registries,\n    theme,\n    renderer // Used by tests\n  } = context;\n  const emitter = EventEmitter.mixin({});\n  let config = context.settings || {};\n  let settings = extend(true, {}, defaultSettings, config);\n  let data = [];\n  let scale;\n  let formatter;\n  let element;\n  let size;\n  let style;\n  let resolver = settingsResolver({\n    chart\n  });\n  let isVisible = false;\n\n  const brushArgs = {\n    nodes: [],\n    chart,\n    config: settings.brush || {},\n    renderer: null\n  };\n  const brushTriggers = {\n    tap: [],\n    over: []\n  };\n  const brushStylers = [];\n  const definitionContext = {};\n  const instanceContext = extend({}, config);\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => { }, canBeValue = false) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] !== 'undefined';\n      const inConfig = typeof config[method] !== 'undefined';\n\n      let returnValue;\n      if (inDefinition) {\n        if (typeof definition[method] === 'function') {\n          returnValue = definition[method].call(definitionContext, ...args);\n        } else if (canBeValue) {\n          returnValue = definition[method];\n        }\n      }\n\n      if (inConfig) {\n        if (typeof config[method] === 'function') {\n          returnValue = config[method].call(instanceContext, ...args);\n        } else if (canBeValue) {\n          returnValue = config[method];\n        }\n      }\n\n      if (!inDefinition && !inConfig) {\n        returnValue = defaultMethod.call(definitionContext, ...args);\n      }\n\n      return returnValue;\n    };\n  }\n\n  const preferredSize = createCallback('preferredSize', () => 0, true);\n  const resize = createCallback('resize', ({ inner }) => inner);\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUnmount = createCallback('beforeUnmount');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n  const render = definition.render; // Do not allow overriding of this function\n\n  const addBrushStylers = () => {\n    if (settings.brush) {\n      (settings.brush.consume || []).forEach((b) => {\n        if (b.context && b.style) {\n          brushStylers.push(brushStyler(brushArgs, b));\n        }\n      });\n    }\n  };\n\n  const addBrushTriggers = () => {\n    if (settings.brush) {\n      (settings.brush.trigger || []).forEach((t) => {\n        if (t.on === 'over') {\n          brushTriggers.over.push(t);\n        } else {\n          brushTriggers.tap.push(t);\n        }\n      });\n    }\n  };\n\n  Object.defineProperty(brushArgs, 'data', {\n    get: () => data\n  });\n\n  const rendString = settings.renderer || definition.renderer;\n  const rend = rendString ? renderer || registries.renderer(rendString)() : renderer || registries.renderer()();\n  brushArgs.renderer = rend;\n\n  const dockConfigCallbackContext = { resources: chart.logger ? { logger: chart.logger() } : {} };\n  let dockConfig = createDockConfig(createDockDefinition(settings, preferredSize, chart.logger()), dockConfigCallbackContext);\n\n  const appendComponentMeta = (node) => {\n    node.key = settings.key;\n    node.element = rend.element();\n  };\n\n  const fn = () => {};\n\n  fn.dockConfig = () => dockConfig;\n\n  // Set new settings - will trigger mapping of data and creation of scale / formatter.\n  fn.set = (opts = {}) => {\n    if (opts.settings) {\n      config = opts.settings;\n      settings = extend(true, {}, defaultSettings, opts.settings);\n      dockConfig = createDockConfig(createDockDefinition(settings, preferredSize, chart.logger()), dockConfigCallbackContext);\n    }\n\n    if (settings.scale) {\n      scale = chart.scale(settings.scale);\n    }\n\n    if (settings.data) {\n      data = extractData(settings.data, { dataset: chart.dataset, collection: chart.dataCollection }, { logger: chart.logger() }, chart.dataCollection);\n    } else if (scale) {\n      data = scale.data();\n    } else {\n      data = [];\n    }\n\n    if (typeof settings.formatter === 'string') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (typeof settings.formatter === 'object') {\n      formatter = chart.formatter(settings.formatter);\n    } else if (scale && scale.data().fields) {\n      formatter = scale.data().fields[0].formatter();\n    }\n\n    style = theme.style(settings.style || {});\n  };\n\n  fn.resize = (inner = {}, outer = {}) => {\n    const newSize = resize({\n      inner,\n      outer\n    });\n    if (newSize) {\n      size = rend.size(newSize);\n    } else {\n      size = rend.size(inner);\n    }\n    instanceContext.rect = extend(true, {\n      computedPhysical: size.computedPhysical,\n      computedOuter: outer.computed || outer,\n      computedInner: inner.computed || inner\n    }, inner);\n    size = extend(true, {\n      computedOuter: outer.computed || outer,\n      computedInner: inner.computed || inner\n    }, size);\n  };\n\n  fn.getRect = () => instanceContext.rect;\n\n  const getRenderArgs = () => {\n    const renderArgs = rend.renderArgs ? rend.renderArgs.slice(0) : [];\n    renderArgs.push({\n      data\n    });\n    return renderArgs;\n  };\n\n  fn.beforeMount = beforeMount;\n\n  fn.beforeRender = () => {\n    beforeRender({\n      size\n    });\n  };\n\n  let currentNodes;\n\n  fn.render = () => {\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n    rend.render(nodes);\n    currentNodes = nodes;\n  };\n\n  fn.hide = () => {\n    fn.unmount();\n    rend.size({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    rend.clear();\n  };\n\n  fn.beforeUpdate = () => {\n    beforeUpdate({\n      settings,\n      data\n    });\n  };\n\n  let currentTween;\n  fn.update = () => {\n    if (currentTween) {\n      currentTween.stop();\n    }\n    const nodes = brushArgs.nodes = render.call(definitionContext, ...getRenderArgs());\n\n    // Reset brush stylers and triggers\n    brushStylers.forEach(b => b.cleanUp());\n    brushStylers.length = 0;\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n\n    if (currentNodes && settings.animations && settings.animations.enabled) {\n      currentTween = tween({\n        old: currentNodes,\n        current: nodes\n      }, { renderer: rend }, settings.animations);\n      currentTween.start();\n    } else {\n      rend.render(nodes);\n    }\n    currentNodes = nodes;\n\n    if (rend.setKey && typeof config.key === 'string') {\n      rend.setKey(config.key);\n    }\n  };\n\n  fn.updated = updated;\n\n  fn.destroy = () => {\n    fn.unmount();\n    beforeDestroy(element);\n    rend.destroy();\n    destroyed();\n    element = null;\n  };\n\n  /**\n   * Update active nodes. For now this can be used as a way update and apply brushing on nodes.\n   * Ex: if a component have changed the nodes since its initial render.\n   * @param {Nodes[]} nodes\n   * @deprecated\n   * @ignore\n   */\n  const updateNodes = (nodes) => {\n    brushArgs.nodes = nodes;\n    brushStylers.forEach((bs) => {\n      if (bs.isActive()) {\n        bs.update();\n      }\n    });\n    rend.render(nodes);\n  };\n\n  // Set contexts, note that the definition and instance need different contexts (for example if they have different 'require' props)\n  prepareContext(definitionContext, definition, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    instance: () => instanceContext,\n    rect: () => instanceContext.rect,\n    style: () => style,\n    update: () => updateNodes,\n    registries: () => registries,\n    resolver: () => resolver,\n    symbol: () => symbolFactory\n  });\n\n  prepareContext(instanceContext, config, {\n    settings: () => settings,\n    data: () => data,\n    scale: () => scale,\n    formatter: () => formatter,\n    renderer: () => rend,\n    chart: () => chart,\n    dockConfig: () => dockConfig,\n    mediator: () => mediator,\n    style: () => style,\n    _DO_NOT_USE_getInfo: _DO_NOT_USE_getInfo.bind(definitionContext),\n    isVisible: () => isVisible\n  });\n\n  fn.getBrushedShapes = function getBrushedShapes(brushCtx, mode, props) {\n    const shapes = [];\n    if (settings.brush && settings.brush.consume) {\n      const brusher = chart.brush(brushCtx);\n      const sceneNodes = rend.findShapes('*');\n      settings.brush.consume\n        .filter(t => t.context === brushCtx)\n        .forEach((consume) => {\n          for (let i = 0; i < sceneNodes.length; i++) {\n            const node = sceneNodes[i];\n            if (node.data && brusher.containsMappedData(node.data, props || consume.data, mode)) {\n              appendComponentMeta(node);\n              shapes.push(node);\n              sceneNodes.splice(i, 1);\n              i--;\n            }\n          }\n        });\n    }\n    return shapes;\n  };\n\n  fn.findShapes = (selector) => {\n    const shapes = rend.findShapes(selector);\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.shapesAt = (shape, opts = {}) => {\n    const items = rend.itemsAt(shape);\n    let shapes;\n\n    if (opts && opts.propagation === 'stop' && items.length > 0) {\n      shapes = [items.pop().node];\n    } else {\n      shapes = items.map(i => i.node);\n    }\n\n    for (let i = 0, num = shapes.length; i < num; i++) {\n      appendComponentMeta(shapes[i]);\n    }\n\n    return shapes;\n  };\n\n  fn.brushFromShapes = (shapes, trigger = {}) => {\n    trigger.contexts = Array.isArray(trigger.contexts) ? trigger.contexts : [];\n    const action = trigger.action || 'toggle';\n\n    brushFromSceneNodes({\n      nodes: shapes,\n      action,\n      trigger,\n      chart,\n      data: brushArgs.data\n    });\n  };\n\n  fn.mount = () => {\n    element = rend.element && rend.element() ? element : rend.appendTo(container);\n    if (rend.setKey && typeof config.key === 'string') {\n      rend.setKey(config.key);\n    }\n\n    if (settings.brush) {\n      addBrushStylers();\n      addBrushTriggers();\n    }\n\n    setUpEmitter(instanceContext, emitter, config);\n    setUpEmitter(definitionContext, emitter, definition);\n\n    isVisible = true;\n  };\n\n  fn.mounted = () => mounted(element);\n\n  fn.unmount = () => {\n    [instanceContext, definitionContext].forEach((ctx) => {\n      tearDownEmitter(ctx, emitter);\n    });\n    brushTriggers.tap = [];\n    brushTriggers.over = [];\n    brushStylers.forEach((bs) => {\n      bs.cleanUp();\n    });\n    brushStylers.length = 0;\n    beforeUnmount();\n\n    isVisible = false;\n  };\n\n  fn.onBrushTap = (e) => {\n    brushTriggers.tap.forEach((t) => {\n      if (resolveTapEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  fn.onBrushOver = (e) => {\n    brushTriggers.over.forEach((t) => {\n      if (resolveOverEvent({ e, t, config: brushArgs }) && t.globalPropagation === 'stop') {\n        chart.toggleBrushing(true);\n      }\n    });\n  };\n\n  /**\n   * Expose definition on instance\n   * @private\n   * @experimental\n   */\n  fn.def = definitionContext;\n\n  /**\n   * Expose instanceCtx on \"instance\"\n   * @private\n   * @experimental\n   */\n  fn.ctx = instanceContext;\n\n  fn.renderer = () => rend;\n\n  fn.set({ settings: config });\n  created();\n\n  return fn;\n}\n\nexport default componentFactory;\n","import EventEmitter from '../utils/event-emitter';\n\nexport default function mediator() {\n  const instance = {};\n  EventEmitter.mixin(instance);\n  return instance;\n}\n","import {\n  add, sub, projectOnto, distance\n} from './vector';\n\nconst EPSILON = 1e-12;\n\nexport function closestPointToLine(start, end, p) {\n  const startToPoint = sub(p, start);\n  const startToEnd = sub(end, start);\n  const pointOnLine = add(projectOnto(startToPoint, startToEnd), start);\n  return pointOnLine;\n}\n\nexport function isPointOnLine(start, end, p) {\n  return (distance(start, p) + distance(end, p)) - distance(start, end) < EPSILON;\n}\n\nexport function isCollinear(p1, p2, p3, e = EPSILON) {\n  const t = Math.abs((p1.x * (p2.y - p3.y)) + (p2.x * (p3.y - p1.y)) + (p3.x * (p1.y - p2.y)));\n  return t < e;\n}\n\n/**\n * Check if rectangle a is located inside rectangle b or if they are the same rectangle.\n * @param {rect} a - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @param {rect} b - An rect containing (x,y) coordinates, width and height. The origin is assumed to be top left.\n * @ignore\n */\nexport function rectContainsRect(a, b) {\n  return a.x >= b.x\n        && a.x + a.width <= b.x + b.width\n        && a.y >= b.y\n        && a.y + a.height <= b.y + b.height;\n}\n","/* eslint no-use-before-define: [\"error\", { \"functions\": false }] */\n\nimport {\n  sqrDistance,\n  distanceX,\n  distanceY\n} from './vector';\nimport {\n  closestPointToLine,\n  isPointOnLine\n} from './intersection';\nimport {\n  lineToPoints,\n  rectToPoints,\n  pointsToLine\n} from '../geometry/util';\n\nfunction lineHasNoLength(line) {\n  return line.x1 === line.x2 && line.y1 === line.y2;\n}\n\nfunction rectHasNoSize(rect) {\n  return rect.width <= 0 || rect.height <= 0;\n}\n\nfunction circleHasNoSize(circle) {\n  return circle.r <= 0;\n}\n\nfunction toFewEdges(polygon) {\n  return polygon.edges.length <= 2;\n}\n\n/**\n   * Test if a Circle contains a point. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if circle contains point\n   */\nexport function testCirclePoint(circle, point) {\n  if (circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const sqrDist = sqrDistance(center, point);\n\n  if (sqrDist <= Math.pow(circle.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with a rectangle. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if circle collide with rectangle\n  */\nexport function testCircleRect(circle, rect) {\n  if (rectHasNoSize(rect) || circleHasNoSize(circle)) {\n    return false;\n  }\n  const rX = rect.width / 2;\n  const rY = rect.height / 2;\n  const rcX = rect.x + rX;\n  const rcY = rect.y + rY;\n  const r = circle.r;\n  const cx = circle.cx;\n  const cy = circle.cy;\n  const dX = Math.abs(cx - rcX);\n  const dY = Math.abs(cy - rcY);\n\n  if (dX > rX + r || dY > rY + r) { return false; }\n\n  if (dX <= rX || dY <= rY) { return true; }\n\n  const sqrDist = Math.pow(dX - rX, 2) + Math.pow(dY - rY, 2);\n\n  return sqrDist <= Math.pow(r, 2);\n}\n\n/**\n   * Test if a Circle collide with a line segment. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Line must have a length greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if circle collide with line\n  */\nexport function testCircleLine(circle, line) {\n  if (circleHasNoSize(circle) || lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  if (testCirclePoint(circle, p1) || testCirclePoint(circle, p2)) {\n    return true;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  const pointOnLine = closestPointToLine(p1, p2, center);\n  const dist = sqrDistance(pointOnLine, center);\n\n  return dist <= Math.pow(circle.r, 2) && isPointOnLine(p1, p2, pointOnLine);\n}\n\n/**\n   * Test if a Circle collide with another Circle. If so, returns true and false otherwise.\n   * Both circles muse have a radius greater then 0.\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @return {boolean} true if circle collide with circle\n  */\nexport function testCircleCircle(circle1, circle2) {\n  if (circleHasNoSize(circle1) || circleHasNoSize(circle2)) { return false; }\n\n  const dx = circle1.cx - circle2.cx;\n  const dy = circle1.cy - circle2.cy;\n  const sqrDist = Math.pow(dx, 2) + Math.pow(dy, 2);\n\n  if (sqrDist <= Math.pow(circle1.r + circle2.r, 2)) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Circle collide with Polygon. If so, returns true and false otherwise.\n   * Circle muse have a radius greater then 0.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} circle\n   * @param {number} circle.cx - center x-coordinate\n   * @param {number} circle.cy - center y-coordinate\n   * @param {number} circle.r - circle radius\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @return {boolean} true if circle collide with polygon\n  */\nexport function testCirclePolygon(circle, polygon) {\n  // TODO handle polygon that is a straight line, current impl will interrept it is a true, if radius is extended onto any of the edges\n  if (toFewEdges(polygon) || circleHasNoSize(circle)) {\n    return false;\n  }\n\n  const center = { x: circle.cx, y: circle.cy };\n  if (testPolygonPoint(polygon, center)) {\n    return true;\n  }\n\n  const num = polygon.edges.length;\n\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testCircleLine(circle, edge)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n   * Test if a Polygon contains a Point. If so, returns true and false otherwise.\n   * Polygon must contain at least 2 vertices\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if polygon conatins point\n  */\nexport function testPolygonPoint(polygon, point) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon) || !testRectPoint(polygon.boundingRect(), point)) {\n    return false;\n  }\n\n  let even = true;\n  const num = polygon.vertices.length;\n  const rayStart = { x: polygon.xMin - 1, y: point.y };\n\n  for (let i = 0; i < num - 1; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (!(edge.y1 < point.y && edge.y2 < point.y) && !(edge.y1 > point.y && edge.y2 > point.y)) { // filterout any edges that does not cross the ray\n      even = testLineLine(edge, pointsToLine([rayStart, point])) ? !even : even;\n    }\n  }\n  return !even;\n}\n\n/**\n   * Test if a Polygon collider with a line. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if polygon collider with line\n  */\nexport function testPolygonLine(polygon, line) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testLineLine(line, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2] = lineToPoints(line);\n\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2);\n}\n\n/**\n   * Test if a Polygon collider with a rectangle. If so, returns true and false otherwise.\n   * Polygon must contain at least 3 edges.\n   * Rectangle must width and height greater then 0.\n   * @private\n   * @param {object} polygon\n   * @param {Array} polygon.vertices - Array of vertices\n   * @param {object} polygon.vertices.vertex\n   * @param {number} polygon.vertices.vertex.x - x-coordinate\n   * @param {number} polygon.vertices.vertex.y - y-coordinate\n   * @param {Array} polygon.edges - Array of edges\n   * @param {Array} polygon.edges.edge - Array of points\n   * @param {object} polygon.edges.edge.point\n   * @param {number} polygon.edges.edge.point.x - x-coordinate\n   * @param {number} polygon.edges.edge.point.y - y-coordinate\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if polygon collider with rect\n  */\nexport function testPolygonRect(polygon, rect) {\n  // TODO handle polygon that is a straight line, current impl gives a non-deterministic output, that is depending on number of vertices\n  if (toFewEdges(polygon)) {\n    return false;\n  }\n\n  for (let i = 0, num = polygon.edges.length; i < num; i++) {\n    const edge = pointsToLine(polygon.edges[i]);\n    if (testRectLine(rect, edge)) {\n      return true;\n    }\n  }\n\n  const [p1, p2, p3, p4] = rectToPoints(rect);\n  return testPolygonPoint(polygon, p1)\n    || testPolygonPoint(polygon, p2)\n    || testPolygonPoint(polygon, p3)\n    || testPolygonPoint(polygon, p4);\n}\n\n/**\n   * Test if a Rectangle collide with another rectangle. If so, returns true and false otherwise.\n   * Both rectangles must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @return {boolean} true if rectangle collide with rectangle\n  */\nexport function testRectRect(rect1, rect2) {\n  if (rectHasNoSize(rect1) || rectHasNoSize(rect2)) {\n    return false;\n  }\n\n  return rect1.x <= rect2.x + rect2.width\n    && rect2.x <= rect1.x + rect1.width\n    && rect1.y <= rect2.y + rect2.height\n    && rect2.y <= rect1.y + rect1.height;\n}\n\n/**\n   * Test if a Rectangle contains a Point. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if rectangle contains point\n  */\nexport function testRectPoint(rect, point) {\n  if (rectHasNoSize(rect)) { return false; }\n\n  return point.x >= rect.x\n    && point.x <= rect.x + rect.width\n    && point.y >= rect.y\n    && point.y <= rect.y + rect.height;\n}\n\n/**\n   * Test if a Rectangle collider with a line. If so, returns true and false otherwise.\n   * Rectangle must have a width and height greather then 0.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} rect\n   * @param {number} rect.x - x-coordinate\n   * @param {number} rect.y - y-coordinate\n   * @param {number} rect.width - width\n   * @param {number} rect.height - height\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if rectangle collide with line\n  */\nexport function testRectLine(rect, line) {\n  if (lineHasNoLength(line) || rectHasNoSize(rect)) { return false; }\n\n  const [p1, p2] = lineToPoints(line);\n\n  if (testRectPoint(rect, p1) || testRectPoint(rect, p2)) {\n    return true;\n  }\n\n  const rectEdges = rectToPoints(rect);\n  let num = rectEdges.length;\n  for (let i = 0; i < num; i++) {\n    const edge = pointsToLine([rectEdges[i], rectEdges[i !== 3 ? i + 1 : 0]]);\n    if (testLineLine(edge, line)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n   * Test if a Line collider with another line. If so, returns true and false otherwise.\n   * Both lines must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @return {boolean} true if line collide with line\n  */\nexport function testLineLine(line1, line2) {\n  const [p1, p2] = lineToPoints(line1);\n  const [p3, p4] = lineToPoints(line2);\n  const dx1 = distanceX(p2, p1);\n  const dy1 = distanceY(p2, p1);\n  const dx2 = distanceX(p4, p3);\n  const dy2 = distanceY(p4, p3);\n  const dx3 = distanceX(p1, p3);\n  const dy3 = distanceY(p1, p3);\n  let ub = (dy2 * dx1) - (dx2 * dy1);\n  const uat = (dx2 * dy3) - (dy2 * dx3);\n  const ubt = (dx1 * dy3) - (dy1 * dx3);\n  let t1;\n  let t2;\n\n  if (dx1 === 0 && dy1 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (dx2 === 0 && dy2 === 0) { // Line segment has no length\n    return false;\n  }\n\n  if (ub === 0) {\n    if (uat === 0 && ubt === 0) { // COINCIDENT;\n      if (dx1 === 0) {\n        if (dy1 === 0) { // p1 = p2\n          return p1.x === p2.x && p1.y === p2.y;\n        }\n        t1 = distanceY(p3, p1) / dy1;\n        t2 = distanceY(p4, p1) / dy1;\n      } else {\n        t1 = (p3.x - p1.x) / dx1;\n        t2 = (p4.x - p1.x) / dx1;\n      }\n      if ((t1 < 0 && t2 < 0) || (t1 > 1 && t2 > 1)) {\n        return false;\n      }\n      return true;\n    }\n    return false; // PARALLEL;\n  }\n  const ua = uat / ub;\n  ub = ubt / ub;\n  if (ua >= 0.0 && ua <= 1.0 && ub >= 0.0 && ub <= 1.0) {\n    return true;\n  }\n  return false;\n}\n\n/**\n   * Test if a Line contains a Point. If so, returns true and false otherwise.\n   * Line must have length greater then 0.\n   * @private\n   * @param {object} line\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {number} line.x1 - x-coordinate\n   * @param {number} line.y1 - y-coordinate\n   * @param {object} point\n   * @param {number} point.x - x-coordinate\n   * @param {number} point.y - y-coordinate\n   * @return {boolean} true if line contains point\n  */\nexport function testLinePoint(line, point) {\n  if (lineHasNoLength(line)) {\n    return false;\n  }\n\n  const [p1, p2] = lineToPoints(line);\n  return isPointOnLine(p1, p2, point);\n}\n","import extend from 'extend';\n\nconst VARIABLE_RX = /^\\$/;\nconst EXTEND = '@extend';\n\nfunction throwCyclical(s) {\n  throw new Error(`Cyclical reference for \"${s}\"`);\n}\n\nfunction res(style, references, path) {\n  if (typeof style === 'string') {\n    let value = references[style];\n    if (path.indexOf(style) !== -1) {\n      throwCyclical(style);\n    }\n    if (VARIABLE_RX.test(value)) {\n      path.push(style);\n      return res(value, references, path);\n    }\n    return value;\n  }\n  let computed = style;\n  const refs = extend(true, {}, references, style);\n  const s = {};\n\n  if (style[EXTEND]) {\n    const extendFrom = style[EXTEND];\n    if (path.indexOf(extendFrom) !== -1) {\n      throwCyclical(extendFrom);\n    }\n    let pext = path.slice();\n    pext.push(extendFrom);\n    computed = extend(true, {}, res(refs[extendFrom], references, pext), style);\n  }\n\n  Object.keys(computed).forEach((key) => {\n    let p = path.slice();\n    if (key === EXTEND || VARIABLE_RX.test(key)) {\n      return;\n    }\n    s[key] = computed[key];\n    let value = s[key];\n    if (VARIABLE_RX.test(value) && value in refs) {\n      if (path.indexOf(value) !== -1) {\n        throwCyclical(value);\n      }\n      p.push(value);\n      value = refs[value];\n      if (typeof value === 'object') {\n        s[key] = res(value, refs, p);\n      } else if (VARIABLE_RX.test(value) && value in refs) {\n        s[key] = res(value, refs, p);\n      } else {\n        s[key] = value;\n      }\n    } else if (typeof value === 'object') {\n      s[key] = res(value, refs, p);\n    }\n  });\n  return s;\n}\n\n/**\n * Resolve style references\n * @private\n * @param {style-object} style\n * @param {style-object} references\n * @returns {object} The resolved style\n * @example\n * resolve({\n *   label: '$label--big'\n * }, {\n *   '$size--m': '12px',\n *   '$label--big': {\n *     fontFamily: 'Arial',\n *     fontSize: '$size--m'\n *   }\n * }); // { label: { fontFamily: 'Arial', fontSize: '12px' } }\n */\nfunction resolve(style, references) {\n  return res(style, references, []);\n}\n\nexport { resolve as default };\n","import styleResolver from '../style/resolver';\n\nfunction themeFn(style = {}, palettes = []) {\n  let pals = {};\n  const setPalettes = (p) => {\n    p.forEach((palette) => {\n      const pal = Array.isArray(palette.colors[0]) ? palette.colors : [palette.colors];\n      pals[palette.key] = {\n        colors: pal,\n        sizes: pal.map(colors => (colors ? colors.length : 0))\n      };\n    });\n  };\n\n  const getPalette = (key, num) => {\n    const palette = pals[key];\n    if (!palette) {\n      return [];\n    }\n    const sizes = palette.sizes;\n    // find the first color set containing at least 'num' colors\n    for (let i = 0; i < sizes.length; i++) {\n      if (num <= sizes[i]) {\n        return palette.colors[i];\n      }\n    }\n    return palette.colors[sizes.length - 1];\n  };\n\n  /**\n   * Theme API\n   * @private\n   * @experimental\n   */\n  const theme = {\n    /**\n     * Get an array of colors\n     * @param {string} name - Name of the color palette\n     * @param {number} [num] - The minimum number of colors to get from the palette\n     */\n    palette: (name, num) => getPalette(name, num),\n\n    setPalettes,\n\n    /**\n     * Resolve style references\n     * @param {style-object} s - Object containing\n     */\n    style: s => styleResolver(s, style)\n  };\n\n  setPalettes(palettes);\n\n  return theme;\n}\n\nexport { themeFn as default };\n","import extend from 'extend';\n\nimport createDockLayout from '../layout/dock/docker';\nimport {\n  detectTouchSupport,\n  isValidTapEvent\n} from '../utils/event-type';\nimport { getShapeType } from '../geometry/util';\nimport datasources from '../data/data';\nimport dataCollections from '../data/collections';\nimport { collection as formatterCollection } from './formatter';\nimport { collection as scaleCollection } from './scales';\nimport buildScroll, { getOrCreateScrollApi } from './scroll-api';\nimport brush from '../brush';\nimport componentFactory from '../component/component-factory';\nimport mediatorFactory from '../mediator';\nimport { testRectPoint } from '../math/narrow-phase-collision';\nimport themeFn from '../theme';\n\n/**\n * @typedef {object} component-settings\n * @property {string} type - Component type (ex: axis, point, ...)\n * @property {function} [preferredSize] - Function returning the preferred size\n * @property {function} [created]\n * @property {function} [beforeMount]\n * @property {function} [mounted]\n * @property {function} [beforeUpdate]\n * @property {function} [updated]\n * @property {function} [beforeRender]\n * @property {function} [beforeDestroy]\n * @property {function} [destroyed]\n * @property {brush-setting} [brush] see [brushing](./brushing.md)\n * @property {object} [layout] Layout settings\n * @property {number} [layout.displayOrder = 0]\n * @property {number} [layout.prioOrder = 0]\n * @property {string | {width: string, height: string}} [layout.minimumLayoutMode] Refer to layout sizes defined by layoutModes in `strategy`\n * @property {string} [layout.dock] left, right, top or bottom\n * @property {boolean} [show = true] If the component should be rendered\n * @property {string} [scale] Named scale. Will be provided to the component if it ask for it.\n * @property {string} [formatter] Named formatter. Fallback to create formatter from scale. Will be provided to the component if it ask for it.\n */\n\nfunction addComponentDelta(shape, containerBounds, componentBounds) {\n  const dx = containerBounds.left - componentBounds.left;\n  const dy = containerBounds.top - componentBounds.top;\n  const type = getShapeType(shape);\n  const deltaShape = extend(true, {}, shape);\n\n  switch (type) {\n    case 'circle':\n      deltaShape.cx += dx;\n      deltaShape.cy += dy;\n      break;\n    case 'polygon':\n      for (let i = 0, num = deltaShape.vertices.length; i < num; i++) {\n        const v = deltaShape.vertices[i];\n        v.x += dx;\n        v.y += dy;\n      }\n      break;\n    case 'line':\n      deltaShape.x1 += dx;\n      deltaShape.y1 += dy;\n      deltaShape.x2 += dx;\n      deltaShape.y2 += dy;\n      break;\n    case 'point':\n    case 'rect':\n      deltaShape.x += dx;\n      deltaShape.y += dy;\n      break;\n    default:\n      break;\n  }\n\n  return deltaShape;\n}\n\nconst moveToPosition = (element, comp, index) => {\n  const el = comp.instance.renderer().element();\n  if (isNaN(index) || !el || !element || !element.children) { return; }\n  const nodes = element.children;\n  const i = Math.max(0, index);\n  const node = nodes[i];\n  if (el === node) { return; }\n  const additionalEl = comp.instance.def.additionalElements && comp.instance.def.additionalElements().filter(Boolean);\n  if (element.insertBefore && typeof node !== 'undefined') {\n    element.insertBefore(el, node);\n    if (additionalEl) {\n      additionalEl.forEach((ae) => {\n        element.insertBefore(ae, el);\n      });\n    }\n  } else {\n    if (additionalEl) {\n      additionalEl.forEach((ae) => {\n        element.appendChild(ae, el);\n      });\n    }\n    element.appendChild(el);\n  }\n};\n\nexport function orderComponents(element, visibleComponents, order) {\n  const elToIdx = [];\n  let numElements = 0;\n  const ordered = order ? visibleComponents.slice().sort((a, b) => order[visibleComponents.indexOf(a)] - order[visibleComponents.indexOf(b)]) : visibleComponents;\n  ordered.forEach((comp) => {\n    elToIdx.push(numElements);\n\n    // assume each component has at least one element\n    numElements++;\n\n    // check additional elements\n    const additionalEl = comp.instance.def.additionalElements && comp.instance.def.additionalElements();\n    if (additionalEl) {\n      numElements += additionalEl.length;\n    }\n  });\n\n  ordered.forEach((comp, i) => moveToPosition(element, comp, elToIdx[i]));\n}\n\nfunction chartFn(definition, context) {\n  /**\n   * @typedef {object} chart-definition\n   */\n  let {\n    /**\n     * @type {HTMLElement}\n     * @memberof chart-definition\n     */\n    element,\n    /**\n     * @type {Array<data-source>}\n     * @memberof chart-definition\n     */\n    data = [],\n    /**\n     * @type {chart-settings}\n     * @memberof chart-definition\n     */\n    settings = {},\n    on = {}\n  } = definition;\n\n  const registries = context.registries;\n  const logger = context.logger;\n  const theme = themeFn(context.style, context.palettes);\n\n  const listeners = [];\n  /**\n   * @alias chart\n   * @interface\n   */\n  const instance = extend(\n    {},\n    definition\n  );\n  const mediator = mediatorFactory();\n  let currentComponents = []; // Augmented components\n  let visibleComponents = [];\n\n  let currentScales = null; // Built scales\n  let currentFormatters = null; // Built formatters\n  let currentScrollApis = null; // Build scroll apis\n  let currentInteractions = [];\n\n  let dataset = () => {};\n  let dataCollection = () => {};\n  const brushes = {};\n  let stopBrushing = false;\n\n  const createComponent = (compSettings, container) => {\n    if (!registries.component.has(compSettings.type)) {\n      logger.warn(`Unknown component: ${compSettings.type}`);\n      return false;\n    }\n    const componentDefinition = registries.component(compSettings.type);\n    const compInstance = componentFactory(componentDefinition, {\n      settings: compSettings,\n      chart: instance,\n      mediator,\n      registries,\n      theme,\n      container\n    });\n    return {\n      instance: compInstance,\n      settings: extend(true, {}, compSettings),\n      key: compSettings.key,\n      hasKey: typeof compSettings.key !== 'undefined'\n    };\n  };\n\n  // Create a callback that calls lifecycle functions in the definition and config (if they exist).\n  function createCallback(method, defaultMethod = () => {}) {\n    return function cb(...args) {\n      const inDefinition = typeof definition[method] === 'function';\n\n      let returnValue;\n      if (inDefinition) {\n        returnValue = definition[method].call(instance, ...args);\n      } else {\n        returnValue = defaultMethod.call(instance, ...args);\n      }\n      return returnValue;\n    };\n  }\n\n  const findComponent = (componentInstance) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      if (currentComponents[i].instance === componentInstance) {\n        return currentComponents[i];\n      }\n    }\n    return null;\n  };\n\n  const findComponentIndexByKey = (key) => {\n    for (let i = 0; i < currentComponents.length; i++) {\n      const currComp = currentComponents[i];\n      if (currComp.hasKey && currComp.key === key) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n  function getElementRect(el) {\n    if (typeof el.getBoundingClientRect === 'function') {\n      const { width, height } = el.getBoundingClientRect();\n      return {\n        x: 0, y: 0, width, height\n      };\n    }\n    return {\n      x: 0, y: 0, width: 0, height: 0\n    };\n  }\n\n  const layout = (components) => {\n    const vcomponents = components.map((c) => {\n      const dockConfig = c.instance.dockConfig();\n      return {\n        instance: c.instance,\n        resize: c.instance.resize,\n        preferredSize: dockConfig.computePreferredSize.bind(dockConfig),\n        settings: c.settings,\n        layoutComponents: () => {}\n      };\n    });\n    let layoutSettings;\n    if (settings.dockLayout) {\n      logger.warn('Deprecation Warning: \"dockLayout\" property should be renamed to \"strategy\"');\n      layoutSettings = settings.dockLayout;\n    } else {\n      layoutSettings = settings.strategy;\n    }\n\n    const dockLayout = createDockLayout(layoutSettings);\n\n    const rect = getElementRect(element);\n\n    const { visible, hidden, order } = dockLayout.layout(rect, vcomponents);\n    return {\n      visible: visible.map(v => findComponent(v.instance)),\n      hidden: hidden.map(h => findComponent(h.instance)),\n      order\n    };\n  };\n\n  const created = createCallback('created');\n  const beforeMount = createCallback('beforeMount');\n  const mounted = createCallback('mounted');\n  const beforeUpdate = createCallback('beforeUpdate');\n  const updated = createCallback('updated');\n  const beforeRender = createCallback('beforeRender');\n  const beforeDestroy = createCallback('beforeDestroy');\n  const destroyed = createCallback('destroyed');\n\n  const set = (_data, _settings, { partialData } = {}) => {\n    const {\n      formatters = {},\n      scales = {},\n      scroll = {}\n    } = _settings;\n\n    dataset = datasources(_data, { logger, types: registries.data });\n    if (!partialData) {\n      Object.keys(brushes).forEach(b => brushes[b].clear());\n    }\n    if (_settings.palettes) {\n      theme.setPalettes(_settings.palettes);\n    }\n    dataCollection = dataCollections(_settings.collections, { dataset }, { logger });\n\n    const deps = {\n      theme,\n      logger\n    };\n    currentScales = scaleCollection(scales, { dataset, collection: dataCollection }, { ...deps, scale: registries.scale });\n    currentFormatters = formatterCollection(formatters, { dataset, collection: dataCollection }, { ...deps, formatter: registries.formatter });\n    currentScrollApis = buildScroll(scroll, currentScrollApis);\n  };\n\n  const render = () => {\n    const {\n      components = []\n    } = settings;\n\n    beforeRender();\n\n    set(data, settings);\n\n    currentComponents = components.map(compSettings => (\n      createComponent(compSettings, element)\n    )).filter(c => !!c);\n\n    const { visible, hidden, order } = layout(currentComponents);\n    visibleComponents = visible;\n\n    hidden.forEach((comp) => {\n      comp.instance.hide();\n      comp.visible = false;\n    });\n\n    visible.forEach(comp => comp.instance.beforeMount());\n    visible.forEach(comp => comp.instance.mount());\n    visible.forEach(comp => comp.instance.beforeRender());\n\n    visible.forEach(comp => comp.instance.render());\n    visible.forEach(comp => comp.instance.mounted());\n    visible.forEach((comp) => { comp.visible = true; });\n    orderComponents(element, visibleComponents, order);\n  };\n\n  function setInteractions(interactions = []) {\n    const current = {};\n    const newKeys = interactions.filter(it => !!it.key).map(it => it.key);\n    currentInteractions.forEach((cit) => {\n      if (cit.key && newKeys.indexOf(cit.key) !== -1) { // keep old instance\n        current[cit.key] = cit;\n      } else {\n        cit.destroy();\n      }\n    });\n    currentInteractions = interactions.map((intSettings) => {\n      const intDefinition = intSettings.key && current[intSettings.key] ? current[intSettings.key] : registries.interaction(intSettings.type)(instance, mediator, element);\n      intDefinition.set(intSettings);\n      return intDefinition;\n    });\n  }\n\n  const componentsFromPoint = (p) => {\n    const br = element.getBoundingClientRect();\n    const x = 'clientX' in p ? p.clientX : p.x;\n    const y = 'clientY' in p ? p.clientY : p.y;\n    const tp = { x: x - br.left, y: y - br.top };\n    const ret = [];\n    visibleComponents.forEach((c) => {\n      const r = c.instance.getRect();\n      // Do test on physical rect and use computed rect if available, otherwise fallback to computing a new rect for legacy support\n      if (testRectPoint(r.computedPhysical ? r.computedPhysical : {\n        x: r.margin.left + (r.x * r.scaleRatio.x),\n        y: r.margin.top + (r.y * r.scaleRatio.y),\n        width: r.width * r.scaleRatio.x,\n        height: r.height * r.scaleRatio.y\n      }, tp)) {\n        ret.push(c);\n      }\n    });\n    return ret;\n  };\n\n  const addDefaultEventListeners = () => {\n    if (listeners.length || !element) {\n      return;\n    }\n    Object.keys(on).forEach((key) => {\n      const listener = on[key].bind(instance);\n      element.addEventListener(key, listener);\n      listeners.push({\n        key,\n        listener\n      });\n    });\n\n    const eventInfo = {};\n    const onTapDown = (e) => {\n      if (e.touches) {\n        eventInfo.x = e.touches[0].clientX;\n        eventInfo.y = e.touches[0].clientY;\n        eventInfo.multiTouch = e.touches.length > 1;\n      } else {\n        eventInfo.x = e.clientX;\n        eventInfo.y = e.clientY;\n        eventInfo.multiTouch = false;\n      }\n      eventInfo.time = Date.now();\n      eventInfo.comps = componentsFromPoint(eventInfo);\n    };\n\n    const onBrushTap = (e) => {\n      const comps = eventInfo.comps || componentsFromPoint(e);\n      if (comps.every(c => c.instance.def.disableTriggers)) {\n        return;\n      }\n\n      if (e.type === 'touchend') {\n        e.preventDefault();\n      }\n      if (!isValidTapEvent(e, eventInfo)) {\n        return;\n      }\n\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushTap(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const onBrushOver = (e) => {\n      const comps = componentsFromPoint(e);\n      for (let i = comps.length - 1; i >= 0; i--) {\n        const comp = comps[i];\n        comp.instance.onBrushOver(e);\n        if (stopBrushing) {\n          stopBrushing = false;\n          break;\n        }\n      }\n    };\n\n    const brushEventList = [];\n\n    brushEventList.push({ key: 'mousedown', listener: onTapDown });\n    brushEventList.push({ key: 'mouseup', listener: onBrushTap });\n\n    if (detectTouchSupport(element)) {\n      brushEventList.push({ key: 'touchstart', listener: onTapDown });\n      brushEventList.push({ key: 'touchend', listener: onBrushTap });\n    }\n\n    brushEventList.push({ key: 'mousemove', listener: onBrushOver });\n\n    brushEventList.forEach((event) => {\n      element.addEventListener(event.key, event.listener);\n      listeners.push(event);\n    });\n  };\n\n  const removeDefaultEventListeners = () => {\n    listeners.forEach(({ key, listener }) => element.removeEventListener(key, listener));\n    listeners.length = 0;\n  };\n\n  // Browser only\n  const mount = () => {\n    element.innerHTML = '';\n\n    render();\n\n    addDefaultEventListeners();\n    setInteractions(settings.interactions);\n  };\n\n  const unmount = () => {\n    removeDefaultEventListeners();\n    setInteractions();\n  };\n\n  /**\n   * Update the chart with new settings and / or data\n   * @param {chart-definition} [chart] - Chart definition\n   */\n  instance.update = (newProps = {}) => {\n    const { partialData, excludeFromUpdate = [] } = newProps;\n    let visibleOrder;\n    if (newProps.data) {\n      data = newProps.data;\n    }\n    if (newProps.settings) {\n      settings = newProps.settings;\n      setInteractions(newProps.settings.interactions);\n    }\n\n    beforeUpdate();\n\n    set(data, settings, { partialData });\n\n    const {\n      formatters,\n      scales,\n      components = []\n    } = settings;\n\n    for (let i = currentComponents.length - 1; i >= 0; i--) {\n      const currComp = currentComponents[i];\n      // TODO warn when there is no key\n      if (!components.some(c => currComp.hasKey && currComp.key === c.key)) {\n        // Component is removed\n        currentComponents.splice(i, 1);\n        currComp.instance.destroy();\n      }\n    }\n\n    // Let the \"components\" array determine order of components\n    currentComponents = components.map((comp) => {\n      const idx = findComponentIndexByKey(comp.key);\n\n      // Component should not be updated\n      if (excludeFromUpdate.indexOf(comp.key) > -1) {\n        return currentComponents[idx];\n      }\n\n      if (idx === -1) {\n        // Component is added\n        return createComponent(comp, element);\n      }\n      // Component is (potentially) updated\n      currentComponents[idx].updateWith = {\n        formatters,\n        scales,\n        data,\n        settings: comp\n      };\n      return currentComponents[idx];\n    }).filter(c => !!c);\n\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.set(comp.updateWith);\n      }\n    });\n    currentComponents.forEach((comp) => {\n      if (comp.updateWith) {\n        comp.instance.beforeUpdate();\n      }\n    });\n\n    const toUpdate = [];\n    const toRender = [];\n    let toRenderOrUpdate;\n    if (partialData) {\n      currentComponents.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        }\n      });\n      toRenderOrUpdate = toUpdate;\n    } else {\n      const { visible, hidden, order } = layout(currentComponents); // Relayout\n      visibleComponents = visible;\n      toRenderOrUpdate = visible;\n      visibleOrder = order;\n\n      visible.forEach((comp) => {\n        if (comp.updateWith && comp.visible) {\n          toUpdate.push(comp);\n        } else {\n          toRender.push(comp);\n        }\n      });\n\n      hidden.forEach((comp) => {\n        comp.instance.hide();\n        comp.visible = false;\n        delete comp.updateWith;\n      });\n    }\n\n    toRender.forEach(comp => comp.instance.beforeMount());\n    toRender.forEach(comp => comp.instance.mount());\n\n    toRenderOrUpdate.forEach(comp => comp.instance.beforeRender());\n\n    toRenderOrUpdate.forEach((comp) => {\n      if (comp.updateWith && comp.visible) {\n        comp.instance.update();\n      } else {\n        comp.instance.render();\n      }\n    });\n\n    // Ensure that displayOrder is keept, only do so on re-layout update.\n    // Which is only the case if partialData is false.\n    if (!partialData) {\n      orderComponents(element, visibleComponents, visibleOrder);\n    }\n\n    toRender.forEach(comp => comp.instance.mounted());\n    toUpdate.forEach(comp => comp.instance.updated());\n\n    visibleComponents.forEach((comp) => {\n      delete comp.updateWith;\n      comp.visible = true;\n    });\n\n    updated();\n  };\n\n  /**\n   * Destroy the chart instance.\n   */\n  instance.destroy = () => {\n    beforeDestroy();\n    currentComponents.forEach(comp => comp.instance.destroy());\n    currentComponents = [];\n    unmount();\n    delete instance.update;\n    delete instance.destroy;\n    destroyed();\n  };\n\n  /**\n   * Get all shapes associated with the provided context\n   * @param {string} context The brush context\n   * @param {string} mode Property comparasion mode.\n   * @param {Array<string>} props Which specific data properties to compare\n   * @param {string} key Which component to get shapes from. Default gives shapes from all components.\n   * @return {Array<object>} Array of objects containing shape and parent element\n   */\n  instance.getAffectedShapes = (ctx, mode = 'and', props, key) => {\n    const shapes = [];\n    currentComponents.filter(comp => key === undefined || key === null || comp.key === key).forEach((comp) => {\n      shapes.push(...comp.instance.getBrushedShapes(ctx, mode, props));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get all nodes matching the provided selector\n   * @param {string} selector CSS selector [type, attribute, universal, class]\n   * @returns {Array<SceneNode>} Array of objects containing matching nodes\n   *\n   * @example\n   * chart.findShapes('Circle') // [<CircleNode>, <CircleNode>]\n   * chart.findShapes('Circle[fill=\"red\"][stroke!=\"black\"]') // [CircleNode, CircleNode]\n   * chart.findShapes('Container Rect') // [Rect, Rect]\n   */\n  instance.findShapes = (selector) => {\n    const shapes = [];\n    visibleComponents.forEach((c) => {\n      shapes.push(...c.instance.findShapes(selector));\n    });\n    return shapes;\n  };\n\n  /**\n   * Get components overlapping a point.\n   * @param {point} p - Point with x- and y-cooridnate. The coordinate is relative to the browser viewport.\n   * @returns {Array<component-context>} Array of component contexts\n   */\n  instance.componentsFromPoint = p => componentsFromPoint(p).map(comp => comp.instance.ctx);\n\n  /**\n   * Get all nodes colliding with a geometrical shape (circle, line, rectangle, point, polygon).\n   *\n   * The input shape is identified based on the geometrical attributes in the following order: circle => line => rectangle => point => polygon.\n   * Note that not all nodes on a scene have collision detection enabled.\n   * @param {line|rect|point|circle} shape - A geometrical shape. Coordinates are relative to the top-left corner of the chart instance container.\n   * @param {object} opts - Options\n   * @param {object[]} [opts.components] - Array of components to include in the lookup. If no components are specified, all components will be included.\n   * @param {string} [opts.components[].component.key] - Component key\n   * @param {string} [opts.components[].component.propagation] - if set to `stop`, will start lookup on top visible shape and propagate downwards until a shape is found.\n   * @param {string} [opts.propagation] - if set to `stop`, will start lookup on top visible component and propagate downwards until a component has at least a match.\n   * @returns {Array<SceneNode>} Array of objects containing colliding nodes\n   *\n   * @example\n   * chart.shapesAt(\n   *  {\n   *    x: 0,\n   *    y: 0,\n   *    width: 100,\n   *    height: 100\n   *  },\n   *  {\n   *    components: [\n   *      { key: 'key1', propagation: 'stop' },\n   *      { key: 'key2' }\n   *    ],\n   *    propagation: 'stop'\n   *  }\n   * );\n   */\n  instance.shapesAt = (shape, opts = {}) => {\n    const result = [];\n    const containerBounds = element.getBoundingClientRect();\n    let comps = visibleComponents; // Assume that visibleComponents is ordererd according to displayOrder\n\n    if (Array.isArray(opts.components) && opts.components.length > 0) {\n      const compKeys = opts.components.map(c => c.key);\n      comps = visibleComponents\n        .filter(c => compKeys.indexOf(c.key) !== -1)\n        .map(c => ({\n          instance: c.instance,\n          opts: opts.components[compKeys.indexOf(c.key)]\n        }));\n    }\n\n    for (let i = comps.length - 1; i >= 0; i--) {\n      const c = comps[i];\n      const componentBounds = c.instance.renderer().element().getBoundingClientRect();\n      const deltaShape = addComponentDelta(shape, containerBounds, componentBounds);\n      const shapes = c.instance.shapesAt(deltaShape, c.opts);\n      const stopPropagation = shapes.length > 0 && opts.propagation === 'stop';\n\n      result.push(...shapes);\n\n      if (result.length > 0 && stopPropagation) {\n        return result;\n      }\n    }\n    return result;\n  };\n\n\n  /**\n   * Brush data by providing a collection of data bound shapes.\n   * @param {SceneNode[]} shapes - An array of data bound shapes.\n   * @param {object} config - Options\n   * @param {Array<object>} opts.components - Array of components to include in the lookup.\n   * @param {string} [opts.components.component.key] - Component key\n   * @param {Array<string>} [opts.components.component.contexts] - Name of the brushing contexts to affect\n   * @param {Array<string>} [opts.components.component.data] - The mapped data properties to add to the brush\n   * @param {string} [opts.components.component.action] - Type of action to respond with\n   *\n   * @example\n   * const shapes = chartInstance.shapesAt(...);\n   * const config = {\n   *  components:[\n   *    {\n   *      key: 'key1',\n   *      contexts: ['myContext'],\n   *      data: [''],\n   *      action: 'add'\n   *    }\n   *  ]\n   * };\n   * chartInstance.brushFromShapes(shapes, config);\n   */\n  instance.brushFromShapes = (shapes, config = { components: [] }) => {\n    const configKeys = config.components.map(conf => conf.key);\n    visibleComponents.forEach((c) => {\n      const configIndex = configKeys.indexOf(c.key);\n      if (configIndex !== -1) {\n        const compShapes = [];\n        for (let i = 0, num = shapes.length; i < num; i++) {\n          const shape = shapes[i];\n          if (shape.key === c.key) {\n            compShapes.push(shape);\n          }\n        }\n        c.instance.brushFromShapes(compShapes, config.components[configIndex]);\n      }\n    });\n  };\n\n  /**\n   * @param {string} name - Name of scroll api\n   * @returns {scroll}\n   */\n  instance.scroll = function scroll(name = 'default') {\n    return getOrCreateScrollApi(name, currentScrollApis);\n  };\n\n  /**\n   * Get\n   * @param {string} key - Get the dataset identified by `key`\n   * @returns {dataset}\n   */\n  instance.dataset = key => dataset(key);\n\n  instance.dataCollection = key => dataCollection(key);\n\n  /**\n   * Get all registered scales\n   * @returns {Object<string,scale>}\n   */\n  instance.scales = function scales() {\n    return currentScales.all();\n  };\n\n  /**\n   * Get all registered formatters\n   * @returns {Object<string,formatter>}\n   */\n  instance.formatters = function formatters() {\n    return currentFormatters.all();\n  };\n\n  /**\n   * Get or create brush context for this chart\n   * @param {string} name - Name of the brush context. If no match is found, a new brush context is created and returned.\n   * @returns {brush}\n   */\n  instance.brush = function brushFn(name = 'default') {\n    if (!brushes[name]) {\n      brushes[name] = brush();\n    }\n    return brushes[name];\n  };\n\n  /**\n   * Get or create a scale for this chart\n   * @param {string|object} v - Scale reference or scale options\n   * @returns {scale}\n   * @example\n   * instance.scale('nameOfMyScale'); // Fetch an existing scale by name\n   * instance.scale({ scale: 'nameOfMyScale' }); // Fetch an existing scale by name\n   * instance.scale({ source: '0/1', type: 'linear' }); // Create a new scale\n   */\n  instance.scale = function scale(v) {\n    return currentScales.get(v);\n  };\n\n  /**\n   * Get or create a formatter for this chart\n   * @param {string|object} v - Formatter reference or formatter options\n   * @returns {formatter}\n   * @example\n   * instance.formatter('nameOfMyFormatter'); // Fetch an existing formatter by name\n   * instance.formatter({ formatter: 'nameOfMyFormatter' }); // Fetch an existing formatter by name\n   * instance.formatter({ type: 'q' }); // Fetch an existing formatter by type\n   * instance.formatter({\n   *  formatter: 'd3',\n   *  type: 'number',\n   *  format: '1.0.%'\n   * }); // Create a new formatter\n   */\n  instance.formatter = function formatter(v) {\n    return currentFormatters.get(v);\n  };\n\n  /**\n   * @param {boolean} [val] - Toggle brushing on or off. If value is omitted, a toggle action is applied to the current state.\n   */\n  instance.toggleBrushing = function toggleBrushing(val) {\n    if (typeof val !== 'undefined') {\n      stopBrushing = val;\n    } else {\n      stopBrushing = !stopBrushing;\n    }\n  };\n\n  /**\n   * Get a component context\n   * @param {string} key - Component key\n   * @returns {component-context} Component context\n   */\n  instance.component = (key) => {\n    const idx = findComponentIndexByKey(key);\n    if (idx !== -1) {\n      return currentComponents[idx].instance.ctx;\n    }\n    return undefined;\n  };\n\n  instance.logger = () => logger;\n\n  instance.theme = () => theme;\n\n  /**\n   * Get the all interactions instances\n   * @name chart.interactions\n   * @type {object}\n   * @example\n   * chart.interactions.instances; // Array of all interaction instances\n   * chart.interactions.on(); // Toggle on all interactions instances\n   * chart.interactions.off(); // Toggle off all interactions instances\n   */\n  Object.defineProperty(instance, 'interactions', {\n    get() {\n      return /** @lends chart.interactions */ {\n        /** @type Array<interaction> */\n        instances: currentInteractions,\n        /** Enable all interaction instances */\n        on() {\n          addDefaultEventListeners();\n          currentInteractions.forEach(i => i.on());\n        },\n        /** Disable all interaction instances */\n        off() {\n          removeDefaultEventListeners();\n          currentInteractions.forEach(i => i.off());\n        }\n      };\n    }\n  });\n\n  created();\n\n  if (element) {\n    beforeMount();\n    mount(element);\n    mounted(element);\n    instance.element = element;\n  }\n\n  return instance;\n}\n\nexport default chartFn;\n","import registry from '../utils/registry';\n\nconst rendererRegistry = (reg) => {\n  let f = registry(reg);\n  f.prio = p => (p ? f.default(p[0]) : [f.default()]);\n  f.types = () => f.getKeys();\n  return f;\n};\n\nexport { rendererRegistry as default };\n","import registry from '../utils/registry';\n\nconst componentRegistry = registry();\nexport { componentRegistry as default };\n","export function findField(query, { cache }) {\n  if (typeof query === 'number') {\n    return cache.fields[query];\n  }\n\n  // Find by key first\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].key() === query) {\n      return cache.fields[i];\n    }\n  }\n  // find by title\n  for (let i = 0; i < cache.fields.length; i++) {\n    if (cache.fields[i].title() === query) {\n      return cache.fields[i];\n    }\n  }\n  return null;\n}\n\nconst filters = {\n  numeric: values => values.filter(v => typeof v === 'number' && !isNaN(v))\n};\n\nconst unfilteredReducers = {\n  sum: values => values.reduce((a, b) => a + b, 0)\n};\n\n// function isPrimitive(x) {\n//   const type = typeof x;\n//   return (type !== 'object' && type !== 'function');\n// }\n\n/**\n * [reducers description]\n * @type {Object}\n * @private\n */\nexport const reducers = {\n  first: values => values[0],\n  last: values => values[values.length - 1],\n  min: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.min.apply(null, filtered);\n  },\n  max: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : Math.max.apply(null, filtered);\n  },\n  sum: (values) => {\n    const filtered = filters.numeric(values);\n    return !filtered.length ? NaN : filtered.reduce((a, b) => a + b, 0);\n  },\n  avg: (values) => {\n    const filtered = filters.numeric(values);\n    const len = filtered.length;\n    return !len ? NaN : unfilteredReducers.sum(filtered) / len;\n  }\n};\n\nfunction normalizeProperties(cfg, dataset, dataProperties, main) {\n  // console.log('======', cfg, main, dataset);\n  const props = {};\n  const mainField = main.field || (typeof cfg.field !== 'undefined' ? dataset.field(cfg.field) : null);\n  Object.keys(dataProperties).forEach((key) => {\n    const pConfig = dataProperties[key];\n    const prop = props[key] = {};\n    if (['number', 'string', 'boolean'].indexOf(typeof pConfig) !== -1) {\n      prop.type = 'primitive';\n      prop.value = pConfig;\n    } else if (typeof pConfig === 'function') {\n      prop.type = 'function';\n      prop.value = pConfig;\n      prop.label = pConfig;\n      prop.field = mainField;\n    } else if (typeof pConfig === 'object') {\n      if (pConfig.fields) {\n        prop.fields = pConfig.fields.map(ff => normalizeProperties(cfg, dataset, { main: ff }, main).main);\n      } else if (typeof pConfig.field !== 'undefined') {\n        prop.type = 'field';\n        prop.field = dataset.field(pConfig.field);\n        prop.value = prop.field.value;\n        prop.label = prop.field.label;\n      } else if (mainField) {\n        prop.value = mainField.value;\n        prop.label = mainField.label;\n        prop.field = mainField;\n      }\n\n      if (typeof pConfig.filter === 'function') {\n        prop.filter = pConfig.filter;\n      }\n      if (typeof pConfig.value !== 'undefined') {\n        prop.value = pConfig.value;\n      }\n      if (typeof pConfig.label !== 'undefined') {\n        prop.label = pConfig.label;\n      }\n      if (typeof pConfig.reduce === 'function') {\n        prop.reduce = pConfig.reduce;\n      } else if (pConfig.reduce) {\n        prop.reduce = reducers[pConfig.reduce];\n      } else if (prop.field && prop.field.reduce) {\n        prop.reduce = typeof prop.field.reduce === 'string' ? reducers[prop.field.reduce] : prop.field.reduce;\n      }\n\n      if (typeof pConfig.reduceLabel === 'function') {\n        prop.reduceLabel = pConfig.reduceLabel;\n      } else if (pConfig.reduceLabel) {\n        prop.reduceLabel = reducers[pConfig.reduceLabel];\n      } else if (prop.field && prop.field.reduceLabel) {\n        prop.reduceLabel = typeof prop.field.reduceLabel === 'string' ? reducers[prop.field.reduceLabel] : prop.field.reduceLabel;\n      }\n    }\n  });\n\n  return props;\n}\n\n/*\nexample of configuration input\ncfg = {\n  field: 'State', // the 'top level' values are extracted from field state\n  value: d => d.qText, // the value of the output\n  props: { // additional data properties ammended to each item\n    a: 3, // constant value\n    b: d => d.qElemNumber, // function will receive the original field value\n    c: {\n      field: 'Country', // reference to another field\n      value: d => d.qText // extract the qText value from the referenced field\n    },\n    d: {\n      value: d => d.qRow //  extract qRow from field 'State'\n    }\n  }\n}\n\n// output\n[{\n  value: 'CA', source: { field: 'State' },\n  a: { value: 3 },\n  b: { value: 26, source: 'State' },\n  c: { value: 'USA', source: 'Country' },\n  d: { value: 131, source: 'State' }\n},\n...]\n*/\nexport function getPropsInfo(cfg, dataset) {\n  // console.log('222', cfg);\n  const { main } = normalizeProperties(cfg, dataset, {\n    main: {\n      value: cfg.value, label: cfg.label, reduce: cfg.reduce, filter: cfg.filter\n    }\n  }, {});\n  const props = normalizeProperties(cfg, dataset, cfg.props || {}, main);\n  return { props, main };\n}\n\nfunction collectItems(items, cfg, formatter, prop) {\n  const values = Array(items.length);\n  const labels = Array(items.length);\n  let it;\n  for (let i = 0; i < items.length; i++) {\n    it = prop ? items[i][prop] : items[i];\n    values[i] = it.value;\n    labels[i] = it.label;\n  }\n\n  const reduce = cfg.reduce;\n  const reduceLabel = cfg.reduceLabel;\n  const v = reduce ? reduce(values) : values;\n  const b = reduceLabel ? reduceLabel(labels, v) : (formatter ? formatter(v) : String(v)); // eslint-disable-line no-nested-ternary\n\n  // // ret[prop].label = String(propsFormatters[prop](ret[prop].value));\n\n  const ret = {\n    value: v,\n    label: b\n  };\n  if (prop && items[0][prop].source) {\n    ret.source = items[0][prop].source;\n    return ret;\n  }\n  if (!prop && items[0].source) {\n    ret.source = items[0].source;\n    return ret;\n  }\n\n  return ret;\n}\n\n// collect items that have been grouped and reduce per group and property\nexport function collect(trackedItems, {\n  main,\n  propsArr,\n  props\n}) {\n  let dataItems = [];\n  const mainFormatter = main.field.formatter(); // || (v => v);\n  const propsFormatters = {};\n  propsArr.forEach((prop) => {\n    propsFormatters[prop] = props[prop].field ? props[prop].field.formatter() : v => v;\n  });\n  dataItems.push(...trackedItems.map((t) => {\n    const ret = collectItems(t.items, main, mainFormatter);\n\n    propsArr.forEach((prop) => {\n      ret[prop] = collectItems(t.items, props[prop], propsFormatters[prop], prop);\n    });\n    return ret;\n  }));\n\n  return dataItems;\n}\n\nexport function track({\n  cfg,\n  itemData,\n  obj,\n  target,\n  tracker,\n  trackType\n}) {\n  const trackId = trackType === 'function' ? cfg.trackBy(itemData) : itemData[cfg.trackBy];\n  let trackedItem = tracker[trackId];\n  if (!trackedItem) {\n    trackedItem = tracker[trackId] = {\n      items: [],\n      id: trackId\n    };\n    target.push(trackedItem);\n  }\n  trackedItem.items.push(obj);\n}\n","import {\n  getPropsInfo,\n  collect,\n  track as storeTracked\n} from './util';\n\nfunction datumExtract(propCfg, cell, {\n  key\n}) {\n  const datum = {\n    value: typeof propCfg.value === 'function' ? propCfg.value(cell) : typeof propCfg.value !== 'undefined' ? propCfg.value : cell // eslint-disable-line no-nested-ternary\n  };\n\n  datum.label = typeof propCfg.label === 'function' ? propCfg.label(cell) : typeof propCfg.label !== 'undefined' ? String(propCfg.label) : String(datum.value); // eslint-disable-line no-nested-ternary\n\n  if (propCfg.field) {\n    datum.source = {\n      key,\n      field: propCfg.field.key()\n    };\n  }\n\n  return datum;\n}\n\nexport default function extract(config, dataset) {\n  const cfgs = Array.isArray(config) ? config : [config];\n  let dataItems = [];\n  cfgs.forEach((cfg) => {\n    if (typeof cfg.field !== 'undefined') {\n      const f = dataset.field(cfg.field);\n      const sourceKey = dataset.key();\n      if (!f) {\n        throw Error(`Field '${cfg.field}' not found`);\n      }\n      const { props, main } = getPropsInfo(cfg, dataset);\n      const propsArr = Object.keys(props);\n\n      const track = !!cfg.trackBy;\n      const trackType = typeof cfg.trackBy;\n      const tracker = {};\n      const trackedItems = [];\n\n      const items = f.items();\n      const mapped = [];\n      for (let idx = 0; idx < items.length; idx++) {\n        const mainCell = items[idx];\n        const exclude = main.filter && !main.filter(mainCell);\n        if (exclude) {\n          continue;\n        }\n        const ret = datumExtract(main, mainCell, { key: sourceKey });\n\n        // loop through all props that need to be mapped and\n        // assign 'value' and 'source' to each property\n        propsArr.forEach((prop) => {\n          const p = props[prop];\n          let propCell = p.field ? p.field.items()[idx] : mainCell;\n          ret[prop] = datumExtract(p, propCell, { key: sourceKey });\n        });\n\n        // collect items based on the trackBy value\n        // items with the same trackBy value are placed in an array and reduced later\n        if (track) {\n          storeTracked({\n            cfg,\n            itemData: mainCell,\n            obj: ret,\n            target: trackedItems,\n            tracker,\n            trackType\n          });\n        }\n\n        mapped.push(ret);\n      }\n\n      // reduce if items have been grouped\n      if (track) {\n        dataItems.push(...collect(trackedItems, {\n          main,\n          propsArr,\n          props\n        }));\n      } else {\n        dataItems.push(...mapped);\n      }\n    }\n  });\n  return dataItems;\n}\n","import extend from 'extend';\nimport field from './field';\nimport extract from './extractor-matrix';\n\nimport {\n  findField,\n  getPropsInfo,\n  collect,\n  track\n} from './util';\n\nconst filters = {\n  numeric: values => values.filter(v => typeof v === 'number' && !isNaN(v))\n};\n\nfunction createFields({\n  source, data, cache, config\n}) {\n  let headers;\n  let content = data;\n  const parse = config && config.parse;\n  if (Array.isArray(data[0])) { // assume 2d matrix of data\n    if (parse && parse.headers === false) {\n      headers = data[0].map((v, i) => i);\n    } else {\n      headers = data[0];\n      content = data.slice(1);\n    }\n  } else {\n    headers = Object.keys(data[0]);\n  }\n\n  const rowFn = !!parse && typeof parse.row === 'function' && parse.row;\n  let flds = headers;\n\n  if (parse && typeof parse.fields === 'function') {\n    flds = parse.fields(flds.slice());\n  } else {\n    flds = headers.map(h => ({\n      key: h,\n      title: h\n    }));\n  }\n\n  let fieldValues;\n  if (Array.isArray(data[0])) {\n    fieldValues = flds.map(() => []);\n  } else {\n    fieldValues = {};\n    flds.forEach((f) => { fieldValues[f.key] = []; });\n  }\n\n  for (let r = 0; r < content.length; r++) {\n    const row = rowFn ? rowFn(content[r], r, flds) : content[r];\n    if (!row) {\n      continue;\n    }\n    if (Array.isArray(row)) {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[c].push(row[c]);\n      }\n    } else {\n      for (let c = 0; c < flds.length; c++) {\n        fieldValues[flds[c].key].push(row[flds[c].key]);\n      }\n    }\n  }\n  const fv = Array.isArray(fieldValues) ? (i => fieldValues[i]) : (i => fieldValues[flds[i].key]);\n  for (let c = 0; c < flds.length; c++) {\n    const values = fv(c);\n    const numericValues = filters.numeric(values);\n    const isMeasure = numericValues.length > 0;\n    const type = isMeasure ? 'measure' : 'dimension';\n    const min = isMeasure ? Math.min(...numericValues) : NaN;\n    const max = isMeasure ? Math.max(...numericValues) : NaN;\n\n    cache.fields.push(field(extend({\n      source,\n      key: c,\n      title: flds[c].title,\n      values,\n      min,\n      max,\n      type\n    }, flds[c]), {\n      value: flds[c].value,\n      label: flds[c].label\n    }));\n  }\n}\n\nconst dsv = ({ data, config }) => {\n  const rows = data.split('\\n');\n  const row0 = rows[0];\n  const row1 = rows[1];\n  let delimiter = ',';\n  if (config && config.parse && config.parse.delimiter) {\n    delimiter = config.parse.delimiter;\n  } else if (row0) { // guess delimiter\n    const guesses = [/,/, /\\t/, /;/];\n    for (let i = 0; i < guesses.length; i++) {\n      const d = guesses[i];\n      if (row0 && row1) {\n        if (d.test(row0) && d.test(row1) && row0.split(d).length === row1.split(d).length) {\n          delimiter = d;\n          break;\n        }\n      } else if (d.test(row0)) {\n        delimiter = d;\n      }\n    }\n  }\n  return rows.map(row => row.split(delimiter));\n};\n\nconst parseData = ({\n  key, data, cache, config\n}) => {\n  if (!data) {\n    return;\n  }\n  let dd = data;\n\n  if (typeof dd === 'string') { // assume dsv\n    dd = dsv({ data, config });\n  }\n\n  if (!Array.isArray(dd)) {\n    return; // warn?\n  }\n\n  createFields({\n    data: dd,\n    cache,\n    source: key,\n    config\n  });\n};\n\n/**\n * Create a new dataset with default settings\n * @private\n * @return {dataset}\n */\nfunction ds({\n  key,\n  data,\n  config\n} = {}) {\n  const cache = {\n    fields: []\n  };\n\n  /**\n   * @alias dataset\n   * @interface\n   */\n  const dataset = {\n    /**\n     * Get the key identifying this dataset\n     * @returns {string}\n     */\n    key: () => key,\n\n    /**\n     * Get the raw data\n     * @returns {any}\n     */\n    raw: () => data,\n\n    /**\n     * Find a field within this dataset\n     * @param {string} query - The field to find\n     * @returns {field}\n     */\n    field: query => findField(query, {\n      cache,\n      matrix: data\n    }),\n\n    /**\n     * Get all fields within this dataset\n     * @returns {Array<field>}\n     */\n    fields: () => cache.fields.slice(),\n\n    /**\n     * Extract data items from this dataset\n     * @param {data-extract-config} config\n     * @returns {Array<datum-extract>}\n     */\n    extract: cfg => extract(cfg, dataset, cache),\n\n    /**\n     * @returns {null}\n     */\n    hierarchy: () => null\n  };\n\n  parseData({\n    key, data, config, cache\n  });\n\n  return dataset;\n}\n\nds.util = {\n  normalizeConfig: getPropsInfo,\n  collect,\n  track\n};\n\nexport { ds as default };\n\n/**\n * @typedef {object} data-extract-config\n * @property {string} field - The field to extract data from\n * @property {data-extract-config~valueFn} [value] - The field value accessor\n * @property {data-extract-config~labelFn} [label] - The field label accessor\n * @property {data-extract-config~trackByFn} [trackBy] - Track by value accessor\n * @property {data-extract-config~reduceFn} [reduce] - Reducer function\n * @property {data-extract-config~reduceLabelFn} [reduceLabel] - Label reducer function\n * @property {data-extract-config~filterFn} [filter] - Filter function\n * @property {object} [props] - Additional properties to add to the extracted item\n */\n\n/**\n * @callback data-extract-config~valueFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~labelFn\n * @param {any} cell The field cell\n * @returns {string}\n */\n\n/**\n * @callback data-extract-config~filterFn\n * @param {any} cell The field cell\n * @returns {boolean}\n */\n\n/**\n * @callback data-extract-config~trackByFn\n * @param {any} cell The field cell\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~reduceFn\n * @param {any[]} values The collected values to reduce\n * @returns {any}\n */\n\n/**\n * @callback data-extract-config~reduceLabelFn\n * @param {any[]} labels The collected labels to reduce\n * @param {any} value Reduced value\n * @returns {string}\n */\n\n/**\n * @typedef {object} datum-extract\n * @property {any} value - The extracted value\n * @property {string} label - The extracted value as a string\n * @property {object} source - The data source of the extracted data\n * @property {string} source.key - The data-source key\n * @property {string} source.field - The source field\n */\n","import registry from '../utils/registry';\nimport dataset from './dataset';\n\nconst dataRegistry = registry();\n\ndataRegistry.default('matrix');\n\ndataRegistry('matrix', dataset);\n\ndataRegistry('default', dataset); // deprecated\n\nexport { dataRegistry as default };\n","\n/**\n * Manages event handlers for native events\n * @private\n */\nfunction native(chart, mediator, element) {\n  let instance = { chart, mediator, element };\n  let nativeEvents = [];\n  let settings;\n  let itKey;\n  let isOn = true;\n\n  /**\n   * Set default settings\n   * @private\n   */\n  function setDefaultSettings(newSettings) {\n    itKey = newSettings.key;\n    settings = newSettings;\n    settings.events = settings.events || [];\n    if (settings.enable === undefined) {\n      settings.enable = true;\n    }\n  }\n\n  /**\n   * Add native events based on settings\n   * @private\n   */\n  function addEvents() {\n    if (typeof settings.enable === 'function') {\n      settings.enable = settings.enable.bind(instance)();\n    }\n    if (!settings.enable) {\n      return; // interaction is disabled\n    }\n    Object.keys(settings.events).forEach((key) => {\n      const listener = settings.events[key].bind(instance);\n      element.addEventListener(key, listener);\n      nativeEvents.push({ key, listener });\n    });\n  }\n\n  /**\n   * Removes all added native events\n   * @private\n   */\n  function removeAddedEvents() {\n    // remove added native events\n    nativeEvents.forEach(({ key, listener }) => {\n      element.removeEventListener(key, listener);\n    });\n    nativeEvents = [];\n  }\n\n  return {\n    /**\n     * Getter for the key.\n     * @private\n     */\n    get key() {\n      return itKey;\n    },\n    /**\n     * Updates this with new settings\n     * @private\n     * @param {object} newSettings\n     * @param {string} [newSettings.type] - The interaction type. Is 'native' for this component\n     * @param {boolean|function} [newSettings.enable=true] - Should the interactions defined here be enabled or not.\n     * This is only run when adding event handlers. In effect at startup, update or during on/off.\n     * It does not run during every event loop.\n     * @param {array} [newSettings.gestures] - The keys in this object is the names of native events\n     * that should be added to the chart element and they should all point to function which\n     * will be the corresponding event handler.\n     */\n    set(newSettings) {\n      setDefaultSettings(newSettings);\n      removeAddedEvents();\n      if (isOn) {\n        addEvents();\n      }\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    off() {\n      isOn = false;\n      removeAddedEvents();\n    },\n    /**\n     * Turns off interactions\n     * @private\n     */\n    on() {\n      isOn = true;\n      if (nativeEvents.length === 0) {\n        addEvents();\n      }\n    },\n    /**\n     * Destroys and unbinds all event handlers\n     * @private\n     */\n    destroy() {\n      removeAddedEvents();\n      instance = null;\n      settings = null;\n    }\n  };\n}\n\nexport { native as default };\n","import registry from '../utils/registry';\nimport native from '../../web/interactions/native';\n\nconst reg = registry();\n\nreg('native', native);\n\nexport default reg;\n","/**\n * Short-hand for max(min())\n *\n * @param {number} min Minimum allowed value\n * @param {number} max Maximum allowed value\n * @param {number} value The actual value to cap\n * @ignore\n */\nexport function cap(min, max, value) {\n  return Math.max(min, Math.min(max, value));\n}\n\n/**\n * Resolve a diff, i.e. resolveDiff(0.2, 0.6, 1, 100) = 20\n *\n * @param {object} params parameters\n * @param {number} params.start Normalized start value\n * @param {number} params.end Normalized end value\n * @param {number} params.minPx The minimum number of pixels\n * @param {number} params.maxPx Maximum number of pixels, i.e. the width or height\n * @ignore\n */\nexport function resolveDiff({\n  start, end, minPx = 0.1, maxPx = 1\n}) {\n  const high = Math.max(start, end);\n  const low = Math.min(start, end);\n  const highModified = cap(-0.1, 1.2, high);\n  const lowModified = cap(-0.1, 1.2, low);\n\n  const wantedDiff = (highModified * maxPx) - (lowModified * maxPx);\n  const actualDiff = Math.max(minPx, wantedDiff);\n  const startModifier = (actualDiff - wantedDiff) / 2;\n  const actualLow = (lowModified * maxPx) - startModifier;\n\n  return {\n    actualDiff,\n    startModifier,\n    actualLow\n  };\n}\n","import extend from 'extend';\nimport { resolveDiff } from './box-math';\n\n/**\n * Out of bounds shape\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.value 0 or 1 depending on where to render the oob shape\n * @param {number} params.boxWidth Un-calculated box width in relative/normalized format\n * @param {number} params.boxPadding Un-calculated box padding in relative/normalized format\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY Wether or not to flip X and Y coordinates together with Width and Height\n * @param {function} params.symbol Symbol library function from component\n * @ignore\n */\nexport function oob({\n  item, value, boxCenter, rendWidth, rendHeight, flipXY, symbol\n}) {\n  let x = 'x';\n  let y = 'y';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n  let startAngle = value < 0.5 ? 90 : -90;\n\n  if (flipXY) {\n    x = 'y';\n    y = 'x';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n    startAngle = value < 0.5 ? 180 : 0;\n  }\n\n  return symbol(extend({}, item.oob, {\n    [x]: boxCenter * calcwidth,\n    [y]: Math.max((item.oob.size / 2), Math.min(value * calcheight, calcheight - (item.oob.size / 2))),\n    startAngle\n  }));\n}\n\n/**\n * Box shape calculation function\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.boxWidth Un-calculated box width in relative/normalized format\n * @param {number} params.boxPadding Un-calculated box padding in relative/normalized format\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function box({\n  item, boxWidth, boxPadding, rendWidth, rendHeight, flipXY\n}) {\n  let x = 'x';\n  let y = 'y';\n  let width = 'width';\n  let height = 'height';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x = 'y';\n    y = 'x';\n    width = 'height';\n    height = 'width';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  const { actualDiff, actualLow } = resolveDiff({\n    start: item.start, end: item.end, minPx: item.box.minHeightPx, maxPx: calcheight\n  });\n\n  return extend({}, item.box, {\n    type: 'rect',\n    [x]: (boxPadding + item.major) * calcwidth,\n    [y]: actualLow,\n    [height]: actualDiff,\n    [width]: boxWidth * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A vertical line shape (for start - min, end - max values)\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {number} params.from Normalized from value\n * @param {number} params.to Normalized to value\n * @param {number} params.boxCenter Center coordinate for the box\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function verticalLine({\n  item, from, to, boxCenter, rendWidth, rendHeight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  return extend({}, item.line, {\n    type: 'line',\n    [y2]: Math.floor(from * calcheight),\n    [x1]: boxCenter * calcwidth,\n    [y1]: Math.floor(to * calcheight),\n    [x2]: boxCenter * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A horizontal line shape (for median and whiskers)\n * @param {object} params parameters\n * @param {object} params.item Resolved styling item from box component with item.major\n * @param {string} params.key Which key to use as style base in the item object\n * @param {number} params.position At which \"height\" (X) to position the horizontal line\n * @param {number} params.width Width of the horizontal line (i.e. box width or a multiple of it)\n * @param {number} params.boxCenter Center coordinate for the box\n * @param {number} params.rendWidth The pixel width of the area to render upon\n * @param {number} params.rendHeight The pixel height of the area to render upon\n * @param {boolean} params.flipXY wether or not to flip X and Y coordinates together with Width and Height\n * @ignore\n */\nexport function horizontalLine({\n  item, key, position, width, boxCenter, rendWidth, rendHeight, flipXY\n}) {\n  let x1 = 'x1';\n  let y1 = 'y1';\n  let x2 = 'x2';\n  let y2 = 'y2';\n  let calcwidth = rendWidth;\n  let calcheight = rendHeight;\n\n  if (flipXY) {\n    x1 = 'y1';\n    y1 = 'x1';\n    x2 = 'y2';\n    y2 = 'x2';\n    calcwidth = rendHeight;\n    calcheight = rendWidth;\n  }\n\n  const halfWidth = width / 2;\n\n  return extend({ type: 'line' }, item[key], {\n    [y1]: Math.floor(position * calcheight),\n    [x1]: (boxCenter - halfWidth) * calcwidth,\n    [y2]: Math.floor(position * calcheight),\n    [x2]: (boxCenter + halfWidth) * calcwidth,\n    r: halfWidth * calcwidth,\n    cx: boxCenter * calcwidth,\n    cy: position * calcheight,\n    width: width * calcwidth,\n    data: item.data || {},\n    collider: {\n      type: null\n    }\n  });\n}\n\n/**\n * A horizontal line shape (for median and whiskers)\n * @param {number} bandwidth The current bandwidth for this item\n * @param {object} item A resolved style item to render with major and box width variables, minWidthPx and maxWidthPx\n * @param {number} maxMajorWidth The actual maximum major width\n * @ignore\n */\nexport function getBoxWidth(bandwidth, item, maxMajorWidth) {\n  const { width, maxWidthPx, minWidthPx } = item.box;\n  const sign = bandwidth >= 0 ? 1 : -1;\n  let boxWidth = Math.min(sign * bandwidth * width, isNaN(maxWidthPx) ? maxMajorWidth : maxWidthPx / maxMajorWidth);\n  boxWidth = isNaN(minWidthPx) ? boxWidth : Math.max(minWidthPx / maxMajorWidth, boxWidth);\n  return boxWidth * sign;\n}\n","import extend from 'extend';\nimport * as boxShapesHelper from './box-shapes-helper';\n\nimport { isNumber } from '../../utils/is-number';\n\nexport default function buildShapes({\n  width,\n  height,\n  flipXY,\n  resolved,\n  keys,\n  symbol\n}) {\n  // if (!settings || !settings.major || !settings.major.scale || !settings.minor || !settings.minor.scale) {\n  //   return [];\n  // }\n\n  const output = [];\n  const majorItems = resolved.major.items;\n\n  if (!majorItems.length) {\n    return output;\n  }\n\n  const rendWidth = width;\n  const rendHeight = height;\n  const maxMajorWidth = flipXY ? height : width;\n  const majorSettings = resolved.major.settings;\n  const minorProps = ['start', 'end', 'min', 'max', 'med'].filter(prop => typeof resolved.minor.settings[prop] !== 'undefined');\n  const numMinorProps = minorProps.length;\n  const nonOobKeys = keys.filter(key => key !== 'oob');\n\n  let children;\n  let major;\n  let minorItem;\n  let boxWidth;\n  let boxPadding;\n  let boxCenter;\n  let isLowerOutOfBounds;\n  let isHigherOutOfBounds;\n  let isOutOfBounds;\n  const numKeys = keys ? keys.length : 0;\n  const numNonOobKeys = nonOobKeys ? nonOobKeys.length : 0;\n\n  function addBox() {\n    /* THE BOX */\n    if (minorItem.box && isNumber(minorItem.start) && isNumber(minorItem.end)) {\n      children.push(boxShapesHelper.box({\n        item: minorItem, boxWidth, boxPadding, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addLine() {\n    /* LINES MIN - START, END - MAX */\n    if (isNumber(minorItem.min) && isNumber(minorItem.start)) {\n      children.push(boxShapesHelper.verticalLine({\n        item: minorItem, from: minorItem.min, to: minorItem.start, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n\n    if (isNumber(minorItem.max) && isNumber(minorItem.end)) {\n      children.push(boxShapesHelper.verticalLine({\n        item: minorItem, from: minorItem.max, to: minorItem.end, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addMedian() {\n    /* MEDIAN */\n    if (minorItem.median && isNumber(minorItem.med)) {\n      children.push(boxShapesHelper.horizontalLine({\n        item: minorItem, key: 'median', position: minorItem.med, width: boxWidth, boxCenter, rendWidth, rendHeight, flipXY\n      }));\n    }\n  }\n\n  function addWhisker() {\n    /* WHISKERS */\n    if (minorItem.whisker) {\n      const whiskerWidth = boxWidth * minorItem.whisker.width;\n\n      if (isNumber(minorItem.min)) {\n        children.push(boxShapesHelper.horizontalLine({\n          item: minorItem, key: 'whisker', position: minorItem.min, width: whiskerWidth, boxCenter, rendWidth, rendHeight, flipXY\n        }));\n      }\n\n      if (isNumber(minorItem.max)) {\n        children.push(boxShapesHelper.horizontalLine({\n          item: minorItem, key: 'whisker', position: minorItem.max, width: whiskerWidth, boxCenter, rendWidth, rendHeight, flipXY\n        }));\n      }\n    }\n  }\n\n  function addOutOfBounds() {\n    /* OUT OF BOUNDS */\n    if (isLowerOutOfBounds) {\n      children.push(boxShapesHelper.oob({\n        item: minorItem, value: 0, boxCenter, rendWidth, rendHeight, flipXY, symbol\n      }));\n    } else if (isHigherOutOfBounds) {\n      children.push(boxShapesHelper.oob({\n        item: minorItem, value: 1, boxCenter, rendWidth, rendHeight, flipXY, symbol\n      }));\n    }\n  }\n\n  const addMarkerList = {\n    box: addBox,\n    line: addLine,\n    median: addMedian,\n    whisker: addWhisker\n  };\n\n  function checkOutOfBounds() {\n    let value;\n    let max = -Number.MAX_VALUE;\n    let min = Number.MAX_VALUE;\n    for (let n = 0; n < numMinorProps; n++) {\n      value = minorItem[minorProps[n]];\n      if (isNumber(value)) {\n        if (max < value) {\n          max = value;\n        }\n        if (min > value) {\n          min = value;\n        }\n      }\n    }\n    isLowerOutOfBounds = max < 0 && max !== -Number.MAX_VALUE;\n    isHigherOutOfBounds = min > 1 && min !== Number.MAX_VALUE;\n    isOutOfBounds = isLowerOutOfBounds || isHigherOutOfBounds;\n  }\n\n  for (let i = 0, len = majorItems.length; i < len; i++) {\n    children = [];\n    major = null;\n    const majorItem = majorItems[i];\n    const d = majorItem.data;\n\n    let majorVal = null;\n    let majorEndVal = null;\n\n    if (typeof majorSettings.binStart !== 'undefined') { // if start and end is defined\n      majorVal = majorItem.binStart;\n      majorEndVal = majorItem.binEnd;\n      major = majorSettings.binStart.scale;\n    } else {\n      major = majorSettings.major.scale;\n      majorVal = major ? majorItem.major : 0;\n    }\n\n    let bandwidth = 0;\n    if (!major) {\n      bandwidth = 1;\n    } else if (major.bandwidth) {\n      bandwidth = major.bandwidth();\n      majorVal -= (bandwidth / 2);\n    } else {\n      bandwidth = majorEndVal - majorVal;\n    }\n\n    minorItem = extend({}, {\n      major: majorVal,\n      majorEnd: majorEndVal\n    }, resolved.minor.items[i]);\n\n    for (let j = 0; j < numKeys; j++) {\n      minorItem[keys[j]] = resolved[keys[j]].items[i];\n    }\n\n    boxWidth = boxShapesHelper.getBoxWidth(bandwidth, minorItem, maxMajorWidth);\n    boxPadding = (bandwidth - boxWidth) / 2;\n    boxCenter = boxPadding + minorItem.major + (boxWidth / 2);\n\n    checkOutOfBounds();\n\n    if (!isOutOfBounds) {\n      for (let k = 0; k < numNonOobKeys; k++) {\n        addMarkerList[nonOobKeys[k]]();\n      }\n    } else if (minorItem.oob) {\n      addOutOfBounds();\n    }\n\n    const container = {\n      type: 'container',\n      data: d,\n      collider: { type: 'bounds' },\n      children\n    };\n\n    output.push(container);\n  }\n\n  return output;\n}\n","import extend from 'extend';\n\n/**\n * Resolve a complex object using the built-in resolver from this.resolver in component\n * @ignore\n */\nexport default function complexResolver({\n  keys, data, defaultSettings, style, settings, width, height, resolver\n}) {\n  const defaults = extend(true, {}, defaultSettings || {}, style || {});\n  const scaled = {\n    major: settings.orientation === 'horizontal' ? height : width,\n    minor: settings.orientation === 'horizontal' ? width : height\n  };\n\n  const majorSettings = settings.major;\n\n  let majorResolved;\n\n  if (typeof majorSettings === 'object' && typeof majorSettings.ref === 'object' && (typeof majorSettings.ref.start !== 'undefined' && typeof majorSettings.ref.end !== 'undefined')) {\n    // temporary backwards compatibility\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: settings.major.ref.start },\n        binEnd: { scale: settings.major.scale, ref: settings.major.ref.end }\n      })\n    });\n  } else if (typeof majorSettings === 'object' && (typeof majorSettings.binStart !== 'undefined' && typeof majorSettings.binEnd !== 'undefined')) {\n    majorResolved = resolver.resolve({\n      data,\n      defaults: {\n        start: 0,\n        end: 1\n      },\n      scaled,\n      settings: extend(true, {}, {\n        binStart: { scale: settings.major.scale, ref: 'binStart' },\n        binEnd: { scale: settings.major.scale, ref: 'binEnd' }\n      }, settings.major)\n    });\n  } else {\n    majorResolved = resolver.resolve({\n      data,\n      scaled,\n      defaults: {\n        major: 0.5\n      },\n      settings: {\n        major: settings.major\n      }\n    });\n  }\n\n  const minorSettings = settings.minor || {};\n  const defaultMinorSettings = {};\n  ['start', 'end', 'min', 'max', 'med'].forEach((prop) => {\n    if (minorSettings[prop] || (data.items && data.items.length && data.items[0][prop])) {\n      defaultMinorSettings[prop] = { scale: minorSettings.scale, ref: prop };\n    }\n  });\n\n  const minorResolved = resolver.resolve({\n    data,\n    defaults: {\n      start: 0,\n      end: 1\n    },\n    scaled,\n    settings: extend(true, {}, defaultMinorSettings, minorSettings)\n  });\n\n  let key;\n  let ext = {\n    major: majorResolved,\n    minor: minorResolved\n  };\n\n  for (let ki = 0, len = keys.length; ki < len; ki++) {\n    if (!settings[key] || settings[key].show !== false) {\n      key = keys[ki];\n      ext[key] = resolver.resolve({\n        data,\n        defaults: defaults[key],\n        settings: settings[key],\n        scaled\n      });\n    }\n  }\n\n  return ext;\n}\n","import buildShapes from './box-shapes';\nimport complexResolver from './box-resolver';\n\nconst DEFAULT_DATA_SETTINGS = {\n  line: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  median: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1\n  },\n  whisker: {\n    show: true,\n    stroke: '#000',\n    strokeWidth: 1,\n    fill: '',\n    type: 'line',\n    width: 1\n  },\n  box: {\n    show: true,\n    fill: '#fff',\n    stroke: '#000',\n    strokeWidth: 1,\n    strokeLinejoin: 'miter',\n    width: 1,\n    maxWidthPx: undefined,\n    minWidthPx: 1,\n    minHeightPx: 1\n  },\n  oob: {\n    show: true,\n    type: 'n-polygon',\n    fill: '#999',\n    stroke: '#000',\n    strokeWidth: 0,\n    size: 10,\n    sides: 3,\n    startAngle: -90\n  }\n};\n\nconst dataKeys = Object.keys(DEFAULT_DATA_SETTINGS);\n\nconst component = {\n  require: ['chart', 'resolver', 'symbol'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    style: {\n      box: '$shape',\n      line: '$shape-guide',\n      whisker: '$shape-guide',\n      median: '$shape-guide--inverted'\n    }\n  },\n  created() {\n    this.state = {};\n  },\n  render({ data }) {\n    const { width, height } = this.rect;\n\n    const flipXY = this.settings.settings.orientation === 'horizontal';\n\n    const { style, resolver, symbol } = this;\n\n    const keys = dataKeys.filter(key => !this.settings.settings[key] || this.settings.settings[key].show !== false);\n    const defaultSettings = {};\n\n    keys.forEach(key => defaultSettings[key] = DEFAULT_DATA_SETTINGS[key]);\n\n    const resolved = complexResolver({\n      keys,\n      data,\n      defaultSettings,\n      style,\n      settings: this.settings.settings,\n      width,\n      height,\n      resolver\n    });\n\n    const { settings, items } = resolved;\n\n    const shapes = buildShapes({\n      items,\n      settings,\n      width,\n      height,\n      flipXY,\n      resolved,\n      keys,\n      symbol\n    });\n\n    return shapes;\n  }\n};\n\nexport default component;\n","import component from './box';\n\nexport default function box(picasso) {\n  picasso.component('box', component);\n  picasso.component('box-marker', component); // temporary backwards compatibility - DEPRECATED\n}\n\n/**\n * @typedef {object} component--box\n * @property {string} type - \"box\"\n * @property {component--box~data} data Box data\n * @property {component--box~settings} settings Box settings\n * @example\n * {\n *   type: \"box\",\n *   data: {\n *    mapTo: {\n *      min: { source: \"/qHyperCube/qMeasureInfo/0\" },\n *      start: { source: \"/qHyperCube/qMeasureInfo/1\" },\n *      med: { source: \"/qHyperCube/qMeasureInfo/2\" },\n *      end: { source: \"/qHyperCube/qMeasureInfo/3\" },\n *      max: { source: \"/qHyperCube/qMeasureInfo/4\" },\n *    },\n *    groupBy: {\n *      source: \"/qHyperCube/qDimensionInfo/0\"\n *    }\n *  },\n *  settings: {\n *    major: {\n *      scale: { source: \"/qHyperCube/qDimensionInfo/0\" }\n *    },\n *    minor: {\n *      scale: { source: [\"/qHyperCube/qMeasureInfo/0\",\n *               \"/qHyperCube/qMeasureInfo/1\",\n *               \"/qHyperCube/qMeasureInfo/2\",\n *               \"/qHyperCube/qMeasureInfo/3\",\n *               \"/qHyperCube/qMeasureInfo/4\"] }\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--box~settings\n * @property {object} major\n * @property {string} major.scale The scale to use along the major (dimension) axis\n * @property {string|component--box~settings~majorReference} [major.ref='self'] Reference to the data property along the major axis\n * @property {object} minor\n * @property {string} minor.scale The scale to use along the minor (measure) axis\n * @property {string} [orientation='vertical'] Which orientation to use (vertical or horizontal)\n * @property {object} [box] Visual properties for the box shape in the box marker\n * @property {boolean} [box.show=true] Boolean for showing the box shape\n * @property {string} [box.fill='#fff']\n * @property {string} [box.stroke='#000']\n * @property {number} [box.strokeWidth=1]\n * @property {string} [box.strokeLinejoin='miter']\n * @property {number} [box.width=1]\n * @property {number} [box.maxWidthPx=100] Maximum width of the box in pixels (not applicable when using major start and end)\n * @property {number} [box.minWidthPx=1] Minimum width of the box in pixels (not applicable when using major start and end)\n * @property {number} [box.minHeightPx=1] Minimum height of the box shape\n * @property {object} [line] Visual properties for lines between min-start, end-max.\n * @property {boolean} [line.show=true]\n * @property {string} [line.stroke='#000']\n * @property {number} [line.strokeWidth=1]\n * @property {object} [whisker] All the visual properties for whiskers at min and max.\n * @property {boolean} [whisker.show=true]\n * @property {string} [whisker.stroke='#000']\n * @property {number} [whisker.strokeWidth=1]\n * @property {number} [whisker.width=1]\n * @property {object} [median] Visual properties for the median\n * @property {number} [median.show=true]\n * @property {string} [median.stroke='#000']\n * @property {number} [median.strokeWidth=1]\n * @property {object} [oob] EXPERIMENTAL: Out of bounds symbol utilizing the symbol API\n * @property {number} [oob.show=true]\n * @property {string} [oob.type='n-polygon'] Type of the symbol to be used\n * @property {string} [oob.fill='#999'] Fill color of the symbol\n * @property {string} [oob.stroke='#000'] Stroke color\n * @property {number} [oob.strokeWidth=0] Stroke width\n * @property {number} [oob.size=10] Size/width of the symbol in pixels\n * @property {number} [oob.sides=3] Number of sides for a n-polygon (3 for triangle)\n */\n\n/**\n * @typedef {object} component--box~settings~majorReference\n * @property {string} start Reference to the data property of the start value along the major axis\n * @property {string} end Reference to the data property of the end value along the major axis\n */\n\n/**\n * @typedef {object} component--box~data\n * @property {number} [min] Min\n * @property {number} [max] Max\n * @property {number} [start] Start of box\n * @property {number} [end] End of box\n * @property {number} [med] Median\n */\n","import extend from 'extend';\nimport { notNumber } from '../../utils/is-number';\nimport shapeFactory from '../../symbols';\n\nconst DEFAULT_ERROR_SETTINGS = {\n  errorShape: {\n    shape: 'saltire',\n    width: 2,\n    size: 0.5,\n    fill: '#333',\n    stroke: '#333',\n    strokeWidth: 0\n  }\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings\n  */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Type of shape\n   * @type {datum-string=} */\n  shape: 'circle',\n  label: '',\n  /** Fill color\n   * @type {datum-string=} */\n  fill: '#333',\n  /** Stroke color\n   * @type {datum-string=} */\n  stroke: '#ccc',\n  /** Stroke width\n   * @type {datum-number=} */\n  strokeWidth: 0,\n  /** Stroke line join\n   * @type {string=} */\n  strokeLinejoin: 'miter',\n  /** Opacity of shape\n   * @type {datum-number=} */\n  opacity: 1,\n  /** Normalized x coordinate\n   * @type {datum-number=} */\n  x: 0.5,\n  /** Normalized y coordinate\n   * @type {datum-number=} */\n  y: 0.5,\n  /** Normalized size of shape\n   * @type {datum-number=} */\n  size: 1,\n  strokeDasharray: ''\n};\n\n/**\n  * @typedef {object}\n  * @alias component--point.settings.sizeLimits\n  */\nconst SIZE_LIMITS = {\n  /** Maximum size of shape, in pixels\n   * @type {number=} */\n  maxPx: 10000,\n  /** Minimum size of shape, in pixels\n   * @type {number=} */\n  minPx: 1,\n  /** Maximum size relative linear scale extent\n   * @type {number=} */\n  maxRelExtent: 0.1,\n  /** Minimum size relative linear scale extent\n   * @type {number=} */\n  minRelExtent: 0.01,\n  /** Maximum size relative discrete scale banwidth\n   * @type {number=} */\n  maxRelDiscrete: 1,\n  /** Minimum size relative discrete scale banwidth\n   * @type {number=} */\n  minRelDiscrete: 0.1\n};\n\nfunction getPxSpaceFromScale(s, space) {\n  if (s && typeof s.bandwidth === 'function') { // some kind of ordinal scale\n    return {\n      isBandwidth: true,\n      value: Math.max(1, s.bandwidth() * space)\n    };\n  }\n  return {\n    isBandwidth: false,\n    value: Math.max(1, space)\n  };\n}\n\nfunction getPointSizeLimits(x, y, width, height, limits) {\n  const xSpacePx = getPxSpaceFromScale(x ? x.scale : undefined, width, limits);\n  const ySpacePx = getPxSpaceFromScale(y ? y.scale : undefined, height, limits);\n  let maxSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'maxRelDiscrete' : 'maxRelExtent']);\n  let minSizePx = Math.min(xSpacePx.value * limits[xSpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent'], ySpacePx.value * limits[ySpacePx.isBandwidth ? 'minRelDiscrete' : 'minRelExtent']);\n  const min = Math.max(1, Math.floor(minSizePx));\n  const max = Math.max(1, Math.floor(maxSizePx));\n  return {\n    min, max, maxGlobal: limits.maxPx, minGlobal: limits.minPx\n  };\n}\n\nfunction createDisplayPoints(dataPoints, {\n  width, height\n}, pointSize, shapeFn) {\n  return dataPoints.filter(p => !isNaN(p.x + p.y)).map((p) => {\n    const s = notNumber(p.size) ? DEFAULT_ERROR_SETTINGS.errorShape : p;\n    const size = pointSize.min + (s.size * (pointSize.max - pointSize.min));\n    const shapeSpec = {\n      type: s.shape === 'rect' ? 'square' : s.shape,\n      label: p.label,\n      x: p.x * width,\n      y: p.y * height,\n      fill: s.fill,\n      size: Math.min(pointSize.maxGlobal, Math.max(pointSize.minGlobal, size)),\n      stroke: s.stroke,\n      strokeWidth: s.strokeWidth,\n      strokeDasharray: s.strokeDasharray,\n      opacity: s.opacity\n    };\n    if (s === p.errorShape) {\n      shapeSpec.width = s.width;\n    }\n    const shape = shapeFn(shapeSpec);\n\n    shape.data = p.data;\n    return shape;\n  });\n}\n\nconst component = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {},\n    data: {},\n    animations: {\n      enabled: false,\n      trackBy: node => node.data.value\n    },\n    style: {\n      item: '$shape'\n    }\n  },\n  render({ data }) {\n    const resolved = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS, this.style.item),\n      settings: this.settings.settings,\n      scaled: {\n        x: this.rect.width,\n        y: this.rect.height\n      }\n    });\n    const { width, height } = this.rect;\n    const limits = extend({}, SIZE_LIMITS, this.settings.settings.sizeLimits);\n    const points = resolved.items;\n    const pointSize = getPointSizeLimits(resolved.settings.x, resolved.settings.y, width, height, limits);\n    return createDisplayPoints(points, this.rect, pointSize, this.settings.shapeFn || shapeFactory);\n  }\n};\n\nexport default component;\n","import pointMarkerComponent from './point';\n\n/**\n * @typedef {object} component--point\n */\n\n/**\n * @type {string}\n * @memberof component--point\n */\nconst type = 'point';\n\nexport default function pointMarker(picasso) {\n  picasso.component(type, pointMarkerComponent);\n\n  picasso.component('point-marker', pointMarkerComponent); // temporary backwards compatibility - DEPRECATED\n}\n","import extend from 'extend';\nimport { pie, arc } from 'd3-shape';\n\n/**\n * @typedef {object}\n * @alias component--pie-settings\n */\nconst DEFAULT_DATA_SETTINGS = {\n  /** Start angle of the pie, in radians\n   * @type {number=} */\n  startAngle: 0,\n  /** End angle of the pie, in radians\n   * @type {number=} */\n  endAngle: 2 * Math.PI,\n  /**\n   * @typedef {object}\n   */\n  slice: {\n    label: '',\n    /** Absolute value of the slice's arc length\n     * @type {number=} */\n    arc: 1,\n    /** Visibility of the slice\n     * @type {boolean=} */\n    show: true,\n    /** Fill color of the slice\n     * @type {string=} */\n    fill: '#333',\n    /** Stroke color of the slice\n     * @type {string=} */\n    stroke: '#ccc',\n    /** Stroke width of the slice\n     * @type {number=} */\n    strokeWidth: 1,\n    /** Stroke line join\n     * @type {string=} */\n    strokeLinejoin: 'round',\n    /** Opacity of the slice\n     * @type {number=} */\n    opacity: 1,\n    /** Inner radius of the slice\n     * @type {number=} */\n    innerRadius: 0,\n    /** Outer radius of the slice\n     * @type {number=} */\n    outerRadius: 0.8,\n    /** Corner radius of the slice, in pixels\n     * @type {number=} */\n    cornerRadius: 0,\n    /** Radial offset of the slice\n     * @type {number=} */\n    offset: 0\n  }\n};\n\n/**\n * @typedef {object} component--pie\n * @property {string} [type='pie']\n * @example\n * {\n *   type: 'pie',\n *   data: {\n *     extract: {\n *       field: 'Region',\n *       props: {\n *         num: { field: 'Population' }\n *       }\n *     }\n *   },\n *   settings: {\n *     startAngle: Math.PI / 2,\n *     endAngle: -Math.PI / 2,\n *     slice: {\n *       arc: { ref: 'num' },\n *       fill: 'green',\n *       stroke: 'red',\n *       strokeWidth: 2,\n *       strokeLinejoin: 'round',\n *       innerRadius: 0.6,\n *       outerRadius 0.8,\n *       opacity: 0.8,\n *       offset: 0.2\n *     }\n *   }\n * }\n */\n\nfunction offsetSlice(centroid, offset, outerRadius, innerRadius) {\n  let [vx, vy] = centroid;\n  const vlen = Math.sqrt((vx * vx) + (vy * vy));\n  vx /= vlen;\n  vy /= vlen;\n  const diff = outerRadius - innerRadius;\n  return { x: vx * offset * diff, y: vy * offset * diff };\n}\n\nfunction createDisplayPies(arcData, {\n  x, y, width, height\n}, slices, sum) {\n  const arcGen = arc();\n  const center = { x: x + (width / 2), y: y + (height / 2) };\n  const innerRadius = (Math.min(width, height) / 2);\n  const outerRadius = (Math.min(width, height) / 2);\n  const cornerRadius = outerRadius / 100;\n  return arcData.map((a, i) => {\n    const slice = slices[i];\n    slice.type = 'path';\n    const or = outerRadius * slice.outerRadius;\n    const ir = innerRadius * slice.innerRadius;\n    arcGen.innerRadius(ir);\n    arcGen.outerRadius(or);\n    arcGen.cornerRadius(cornerRadius * slice.cornerRadius);\n    slice.d = arcGen(a);\n    const centroid = arcGen.centroid(a);\n    const offset = slice.offset ? offsetSlice(centroid, slice.offset, or, ir) : { x: 0, y: 0 };\n    slice.transform = `translate(${offset.x}, ${offset.y}) translate(${center.x}, ${center.y})`;\n    slice.desc = {\n      share: a.value / sum,\n      slice: {\n        start: a.startAngle,\n        end: a.endAngle,\n        innerRadius: ir,\n        outerRadius: or,\n        offset: { x: center.x + offset.x, y: center.y + offset.y }\n      }\n    };\n\n    return slice;\n  });\n}\n\nexport function arcValue(stngs, item) {\n  if (stngs.slice && 'arc' in stngs.slice) {\n    return item.arc;\n  }\n  return item.data.value;\n}\n\nconst pieComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    settings: {\n      startAngle: 0,\n      endAngle: 2 * Math.PI,\n      padAngle: 0,\n      slice: {}\n    },\n    style: {\n      slice: '$shape'\n    },\n    data: {}\n  },\n  render({ data }) {\n    const arcValues = [];\n    const slices = [];\n    const stngs = this.settings.settings;\n    const { items } = this.resolver.resolve({\n      data,\n      defaults: extend({}, DEFAULT_DATA_SETTINGS.slice, this.style.slice),\n      settings: stngs.slice\n    });\n\n    let sum = 0;\n    for (let i = 0, len = items.length; i < len; i++) {\n      const val = arcValue(stngs, items[i]);\n      if (val > 0 && items[i].outerRadius >= items[i].innerRadius) {\n        arcValues.push(val);\n        slices.push(items[i]);\n        sum += val;\n      }\n    }\n\n    const pieGen = pie().sortValues(null);\n    pieGen.startAngle(stngs.startAngle);\n    pieGen.endAngle(stngs.endAngle);\n    pieGen.padAngle(stngs.padAngle);\n    const arcData = pieGen(arcValues);\n\n    return createDisplayPies(\n      arcData,\n      extend({}, this.rect, { x: 0, y: 0 }),\n      slices,\n      sum\n    );\n  }\n};\n\nexport default pieComponent;\n","import pieComponent from './pie';\n\nexport default function pie(picasso) {\n  picasso.component('pie', pieComponent);\n}\n","/**\n * Create a crispifier\n * @ignore\n *\n * @param  {Object} [crispMap] Optional crispmap if you need custom crisping.\n * @return {Function}          crispItem function\n *\n * @example\n * import { crispifierFactory } from \"core/crispifier\";\n *\n * let crispify = crispifierFactory(customCrispMap);\n *\n * // For a single item\n * crispify(myItem);\n *\n * // For multiple items\n * crispify.multiple(myArrayOfItems);\n */\nexport function crispifierFactory(crispMap) {\n  // Define the crispMap\n  if (crispMap === undefined) {\n    crispMap = {};\n\n    crispMap.line = {\n      append: ['x1', 'x2', 'y1', 'y2'],\n      round: [],\n      condition: item => (item.x1 === item.x2 || item.y1 === item.y2),\n      conditionAppend: item => item.strokeWidth % 2 !== 0\n    };\n\n    crispMap.rect = {\n      append: ['x', 'y'],\n      round: ['width', 'height'],\n      condition: () => true,\n      conditionAppend: item => item.strokeWidth % 2 !== 0\n    };\n  }\n\n  // Re-map the crispmap\n  Object.keys(crispMap).forEach((type) => {\n    const self = crispMap[type];\n\n    self.items = [];\n\n    self.append.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'append'\n      });\n    });\n\n    self.round.forEach((toAppend) => {\n      self.items.push({\n        key: toAppend,\n        type: 'round'\n      });\n    });\n  });\n\n  /**\n   * Crispify a single item\n   * @ignore\n   * @param  {Object} item  Item with renderer variables such as X, Y, and type.\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  function crispItem(item) {\n    if (crispMap[item.type] && crispMap[item.type].condition(item)) {\n      const self = crispMap[item.type];\n      const doAppend = self.conditionAppend === undefined || self.conditionAppend(item);\n\n      self.items.forEach((i) => {\n        const rounded = Math.round(item[i.key]);\n        const diff = item[i.key] - rounded;\n        item[i.key] = rounded;\n\n        if (doAppend && i.type === 'append') {\n          if (diff > 0) {\n            item[i.key] += 0.5;\n          } else {\n            item[i.key] -= 0.5;\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * Crispify multiple items\n   * @ignore\n   *\n   * @param  {Array} items  Array of objects to crispify\n   * @return {Undefined}    Returns nothing, modifies the original item instead\n   */\n  crispItem.multiple = items => items.forEach(item => crispItem(item));\n\n  return crispItem;\n}\n\nconst crispifier = crispifierFactory();\n\nexport default crispifier;\n","import crispify from './crispifier';\n\nclass Transposer {\n  /**\n   * @private\n   */\n  constructor(...items) {\n    this.reset();\n\n    this.push(...items);\n  }\n\n  /**\n   * Evaluate a key for a transposed coordinate\n   *\n   * @param  {String} key   Key\n   * @return {String}         Actual key\n   */\n  static evaluateKey(key, flipXY) {\n    if (flipXY) {\n      const firstChar = key.substring(0, 1);\n      const rest = key.substring(1);\n\n      if (firstChar === 'x') {\n        return `y${rest}`;\n      }\n      if (firstChar === 'y') {\n        return `x${rest}`;\n      }\n      if (key === 'cx') {\n        return 'cy';\n      }\n      if (key === 'cy') {\n        return 'cx';\n      }\n      if (key === 'width') {\n        return 'height';\n      }\n      if (key === 'height') {\n        return 'width';\n      }\n    }\n\n    return key;\n  }\n\n  /**\n   * Transpose a coordinate according to this.flipXY and\n   * the available rendering area\n   *\n   * @param  {String} key        The key of the coordinate to transpose\n   * @param  {Number} coordinate The coordinate\n   * @return {Number}            The actual location of the coordinate\n   */\n  transposeCoordinate(key, coordinate, flipXY) {\n    if (typeof coordinate === 'number' && isFinite(coordinate)) {\n      const firstChar = key.substring(0, 1);\n\n      if (firstChar === 'x' || key === 'cx') {\n        return coordinate * this.width;\n      }\n      if (key === 'width') {\n        return coordinate * this.width;\n      }\n      if (key === 'r') {\n        return coordinate * (!flipXY ? this.width : this.height);\n      }\n      if (firstChar === 'y' || key === 'cy') {\n        return coordinate * this.height;\n      }\n      if (key === 'height') {\n        return coordinate * this.height;\n      }\n    }\n\n    return coordinate;\n  }\n\n  /**\n   * Push an item into the storage of the transposer\n   *\n   * @param  {Object} items An item to be drawed\n   * @return {Object}       Can be chained\n   */\n  push(...items) {\n    this.storage.push(...items);\n    return this;\n  }\n\n  processItem(item) {\n    let newItem = {};\n    const flipXY = (typeof item.flipXY !== 'undefined' ? item.flipXY : this.flipXY);\n    const crisp = (typeof item.crisp !== 'undefined' ? item.crisp : this.crisp);\n\n    if (item.fn && typeof item.fn === 'function') {\n      let width = flipXY ? this.height : this.width;\n      let height = flipXY ? this.width : this.height;\n\n      item = item.fn({ width, height, flipXY });\n\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        newItem[nkey] = item[key];\n      }\n    } else {\n      const objectKeys = Object.keys(item);\n\n      for (let ki = 0, kl = objectKeys.length; ki < kl; ki++) {\n        let key = objectKeys[ki];\n        const nkey = Transposer.evaluateKey(key, flipXY);\n        const nval = this.transposeCoordinate(nkey, item[key], flipXY);\n        newItem[nkey] = nval;\n      }\n    }\n\n    if (crisp) {\n      crispify(newItem);\n    }\n\n    return newItem;\n  }\n\n  /**\n   * Get the output of the transposer\n   *\n   * @return {Array}   Array of objects\n   */\n  output() {\n    let items = [];\n\n    for (let i = 0, l = this.storage.length; i < l; i++) {\n      let newItem = this.processItem(this.storage[i]);\n\n      items.push(newItem);\n    }\n\n    return items;\n  }\n\n  /**\n   * Reset the transposer\n   *\n   * @return {Undefined}  Does not return anything\n   */\n  reset() {\n    this.storage = [];\n    this.flipXY = false;\n    this.crisp = false;\n\n    this.width = 0;\n    this.height = 0;\n  }\n}\n\nexport function transposer(...items) {\n  return new Transposer(...items);\n}\n\nexport default Transposer;\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { updateScaleSize } from '../../scales';\n\n/**\n * Generate array of lines (ticks) from scale\n *\n * @param {object} scale - A scale supplied by the chart\n * @param {object} settings - The settings object from the grid line component\n * @param {object} rect - The rect containing width and height to renderer in\n * @returns {array} - Returns an array of ticks\n * @ignore\n */\nfunction lineGen(scale, distance) {\n  if (!scale || !distance) {\n    return [];\n  }\n  return (scale.cachedTicks && scale.cachedTicks()) || scale.ticks({ distance });\n}\n\nconst gridLineComponent = {\n  created() {\n  },\n\n  require: ['chart', 'renderer', 'resolver'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    style: { // Theming style\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor'\n    }\n  },\n\n  beforeRender() {\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    // Setup scales\n    this.x = this.settings.x ? this.chart.scale(this.settings.x) : null;\n    this.y = this.settings.y ? this.chart.scale(this.settings.y) : null;\n    updateScaleSize(this, 'x', this.rect.width);\n    updateScaleSize(this, 'y', this.rect.height);\n\n    // Return an empty array to abort rendering when no scales are available to renderer\n    if (!this.x && !this.y) {\n      return [];\n    }\n\n    this.settings.ticks = extend({ show: true }, this.style.ticks, this.settings.ticks || {});\n    this.settings.minorTicks = extend({ show: false }, this.style.minorTicks, this.settings.minorTicks || {});\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    // Use the lineGen function to generate appropriate ticks\n    this.lines.x = lineGen(this.x, this.rect.width);\n    this.lines.y = lineGen(this.y, this.rect.height);\n\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.map(i => extend(i, { flipXY: true }));\n\n    let addTicks = ({ dir, isMinor }) => {\n      let items = this.lines[dir].filter(tick => !!tick.isMinor === isMinor);\n      let settings = isMinor ? this.settings.minorTicks : this.settings.ticks;\n      let ticks = this.resolver.resolve({\n        settings,\n        data: {\n          items,\n          dir\n        }\n      }).items;\n\n      ticks.forEach((style) => {\n        let p = style.data;\n\n        // If the style's show is falsy, don't renderer this item (to respect axis settings).\n        if (style.show) {\n          // Use the transposer to handle actual positioning\n          this.blueprint.push({\n            type: 'line',\n            x1: p.position,\n            y1: 0,\n            x2: p.position,\n            y2: 1,\n            stroke: style.stroke || 'black',\n            strokeWidth: typeof style.strokeWidth !== 'undefined' ? style.strokeWidth : 1,\n            strokeDasharray: typeof style.strokeDasharray !== 'undefined' ? style.strokeDasharray : undefined,\n            flipXY: p.flipXY || false // This flips individual points (Y-lines)\n          });\n        }\n      });\n    };\n\n    addTicks({ dir: 'x', isMinor: false });\n    addTicks({ dir: 'x', isMinor: true });\n    addTicks({ dir: 'y', isMinor: false });\n    addTicks({ dir: 'y', isMinor: true });\n\n    return this.blueprint.output();\n  }\n};\n\nexport default gridLineComponent;\n","import gridLineComponent from './line';\n\n/**\n * @typedef {object} component--grid-line-settings\n * @property {object} x\n * @property {string} x.scale - The scale to use along x\n * @property {object} y\n * @property {string} y.scale - The scale to use along y\n * @property {object} [ticks]\n * @property {boolean} [ticks.show=true]\n * @property {string} [ticks.stroke='black']\n * @property {number} [ticks.strokeWidth='1']\n * @property {string} [ticks.strokeDasharray]\n * @property {object} [minorTicks]\n * @property {boolean} [minorTicks.show=true]\n * @property {string} [minorTicks.stroke='black']\n * @property {number} [minorTicks.strokeWidth='1']\n * @property {string} [minorTicks.strokeDasharray]\n */\n\nexport default function gridLine(picasso) {\n  picasso.component('grid-line', gridLineComponent);\n}\n","/**\n * Return a D property for a SVG path to get a direction marker\n *\n * @param {number} x - X coordinate\n * @param {number} y - Y coordinate\n * @param {number} r - Radius\n * @param {string} [d='bottom'] - Direction\n * @returns {string} - Finished D property\n * @ignore\n */\nexport function directionMarker(x, y, r, d = 'bottom') {\n  r *= 0.8;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    return `\n      M ${x} ${y - r}\n      A ${r * 1.25} ${r * 1.25}, 0, 1, ${right ? 0 : 1}, ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  return `\n    M ${x - r} ${y}\n    A ${r * 1.25} ${r * 1.25}, 0, 1, ${bottom ? 1 : 0}, ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\nfunction directionTriangle(x, y, r, d = 'bottom') {\n  r *= 0.75;\n  if (d === 'left' || d === 'right') {\n    let right = d === 'right';\n    x += (right ? r * 1.5 : -(r * 1.5));\n    return `\n      M ${x} ${y - r}\n      L ${x} ${y + r}\n      L ${right ? x + r : x - r} ${y} Z\n    `;\n  }\n  let bottom = d === 'bottom';\n  y += (bottom ? r * 1.5 : -(r * 1.5));\n  return `\n    M ${x - r} ${y}\n    L ${x + r} ${y}\n    L ${x} ${bottom ? y + r : y - r} Z\n  `;\n}\n\n/**\n * Handle out of bound shapes\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} oob - Out of bounds object from parent\n * @param {object} settings - Settings object from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function oobManager({\n  blueprint, oob, settings, items\n}) {\n  const oobKeys = Object.keys(oob);\n  let style = settings.style.oob || {};\n\n  for (let i = 0, len = oobKeys.length; i < len; i++) {\n    const key = oobKeys[i];\n    const value = oob[key];\n\n    if (value.length > 0) {\n      let position = (key.charAt(1));\n      let flipXY = key.charAt(0) === 'y';\n\n      let xPadding = style.padding.x + (style.width);\n      let yPadding = style.padding.y + style.width;\n      let direction = 'bottom';\n\n      if (flipXY) {\n        direction = (position === '1' ? 'bottom' : 'top');\n      } else {\n        direction = (position === '1' ? 'right' : 'left');\n      }\n\n      let indicator = blueprint.processItem({\n        fn: ({ width, height }) => { /* eslint no-loop-func: 0 */\n          let x = (position * width) + (position === '1' ? -xPadding : xPadding);\n          let y = flipXY ? yPadding : height - yPadding;\n\n          if (style.type === 'arc') {\n            return {\n              type: 'path',\n              d: directionMarker(flipXY ? y : x, flipXY ? x : y, style.width, direction),\n              x,\n              y,\n              stroke: style.stroke,\n              fill: style.fill,\n              strokeWidth: style.strokeWidth || 0\n            };\n          }\n\n          return {\n            type: 'circle',\n            cx: x,\n            cy: y,\n            r: style.width,\n            stroke: style.stroke,\n            fill: style.fill,\n            strokeWidth: style.strokeWidth || 0,\n            opacity: style.opacity,\n            data: value\n          };\n        },\n        flipXY\n      });\n\n      let x = indicator.cx || indicator.x;\n      let y = indicator.cy || indicator.y;\n\n      let text = {\n        type: 'text',\n        text: value.length || '',\n        x: x - (style.width * 0.4),\n        y: y + (style.width * 0.4),\n        fontFamily: style.text.fontFamily,\n        fontSize: `${style.width * 1.3}px`,\n        stroke: style.text.stroke,\n        fill: style.text.fill,\n        strokeWidth: style.text.strokeWidth || 0,\n        opacity: style.text.opacity\n      };\n\n      let triangle = {\n        type: 'path',\n        d: directionTriangle(x, y, style.width, direction),\n        x,\n        y,\n        stroke: style.triangle.stroke,\n        fill: style.triangle.fill,\n        strokeWidth: style.triangle.strokeWidth || 0,\n        opacity: style.triangle.opacity\n      };\n\n      items.push(indicator, text, triangle);\n    }\n  }\n}\n","import extend from 'extend';\nimport {\n  testRectRect,\n  testRectLine\n} from '../../math/narrow-phase-collision';\n\nexport function refLabelDefaultSettings() {\n  return {\n    fill: '#000',\n    fontFamily: 'Arial',\n    fontSize: '12px',\n    opacity: 1,\n    maxWidth: 1,\n    maxWidthPx: 9999,\n    padding: 5,\n    background: {\n      fill: '#fff',\n      stroke: 'transparent',\n      strokeWidth: 0,\n      opacity: 0.5\n    }\n  };\n}\n\n/**\n * Converts a numerical OR string value to a normalized value\n *\n * @param {string|number} align -Description how to align (Numerical from 0-1 or 'top', 'left', 'center', 'middle', 'bottom' or 'right')\n * @returns {number} - Normalized value 0...1\n * @ignore\n */\nexport function alignmentToNumber(align) {\n  if (typeof align === 'undefined') {\n    return 0;\n  }\n  if (typeof align === 'number' && isFinite(align)) {\n    return align;\n  }\n  if (typeof align === 'string') {\n    switch (align) {\n      case 'center':\n      case 'middle':\n        return 0.5;\n      case 'bottom':\n      case 'right':\n        return 1;\n      case 'top':\n      case 'left':\n      default:\n        return 0;\n    }\n  }\n\n  return 0;\n}\n\n/**\n * Create line and label (if applicable)\n * Does not return anything, modifies \"items\" property instead (should be re-considered)\n *\n * @param {object} p - Current point\n * @param {object} style - Applicable line styling\n * @param {object} settings - Settings object derived from parent\n * @param {object[]} items - Array of all items (for collision detection)\n * @ignore\n */\nexport function createLineWithLabel({\n  chart, blueprint, renderer, p, settings, items\n}) {\n  let doesNotCollide = true;\n  let line = false;\n  let rect = false;\n  let label = false;\n  let value = false;\n  let style = extend(true, {}, settings.style.line, p.line || {});\n\n  // Use the transposer to handle actual positioning\n  line = blueprint.processItem({\n    type: 'line',\n    x1: p.position,\n    y1: 0,\n    x2: p.position,\n    y2: 1,\n    stroke: style.stroke || 'black',\n    strokeWidth: style.strokeWidth || 1,\n    flipXY: p.flipXY || false // This flips individual points (Y-lines)\n  });\n\n  if (p.label) {\n    const item = extend(true, refLabelDefaultSettings(), settings.style.label || {}, { fill: style.stroke }, p.label);\n    let formatter;\n    let measuredValue = {\n      width: 0,\n      height: 0\n    };\n    let valueString = '';\n\n    if (typeof p.formatter === 'string') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.formatter === 'object') {\n      formatter = chart.formatter(p.formatter);\n    } else if (typeof p.scale !== 'undefined' && p.scale.data) {\n      // TODO - Add support for array as source into formatter\n      const scaleData = p.scale.data() && p.scale.data().fields;\n      formatter = scaleData && scaleData[0] ? scaleData[0].formatter() : null;\n    }\n\n    if (formatter) {\n      valueString = ` (${formatter(p.value)})`;\n    } else if (p.scale) {\n      valueString = ` (${p.value})`;\n    }\n\n    if (valueString) {\n      measuredValue = renderer.measureText({\n        text: valueString,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize\n      });\n    }\n\n    // Measure the label text\n    let measuredLabel = renderer.measureText({\n      text: item.text || '',\n      fontFamily: item.fontFamily,\n      fontSize: item.fontSize\n    });\n\n    let measured = {\n      width: measuredLabel.width + measuredValue.width,\n      height: Math.max(measuredLabel.height, measuredValue.height)\n    };\n\n    let labelPadding = item.padding;\n\n    // let anchor = item.anchor === 'end' ? 'end' : 'start';\n\n    let align = alignmentToNumber(p.flipXY ? item.vAlign : item.align);\n    let vAlign = alignmentToNumber(p.flipXY ? item.align : item.vAlign);\n\n    let calcWidth = Math.min(1 + measured.width + (labelPadding * 2), item.maxWidth * blueprint.width, item.maxWidthPx);\n    let calcHeight = measured.height + (labelPadding * 2);\n\n    let rectWidth = (p.flipXY ? calcHeight : calcWidth);\n    let rectHeight = (p.flipXY ? calcWidth : calcHeight);\n\n    rect = blueprint.processItem({\n      fn: ({ width, height }) => {\n        let x = (p.position * width) - ((p.flipXY ? calcHeight : calcWidth) * (1 - align));\n        x = p.flipXY ? x : Math.max(x, 0);\n        const y = Math.max(Math.abs((vAlign * height) - (rectHeight * vAlign)), 0);\n        return {\n          type: 'rect',\n          x,\n          y,\n          width: p.flipXY ? rectWidth : Math.min(rectWidth, blueprint.width - x),\n          height: rectHeight,\n          stroke: item.background.stroke,\n          strokeWidth: item.background.strokeWidth,\n          fill: item.background.fill,\n          opacity: item.background.opacity\n        };\n      },\n      flipXY: p.flipXY || false // This flips individual points (Y-lines)\n    });\n\n    if (\n      rect.x < -1 || (rect.x + rect.width) > (blueprint.width + 1)\n      || rect.y < -1 || (rect.y + rect.height) > (blueprint.height + 1)\n    ) {\n      // do not create labels if out of bounds\n      rect = undefined;\n    } else {\n      // Labels are just basic objects attached to a corner of a rect,\n      // and this rect needs to already be processed\n      // so there is no blueprint.processItem required here\n      label = {\n        type: 'text',\n        text: item.text || '',\n        fill: item.fill,\n        opacity: item.opacity,\n        fontFamily: item.fontFamily,\n        fontSize: item.fontSize,\n        x: rect.x + labelPadding,\n        y: rect.y + (rect.height / 2) + (measured.height / 3),\n        maxWidth: rect.width - (labelPadding * 2) - measuredValue.width,\n        anchor: 'start'\n      };\n\n      if (valueString) {\n        value = {\n          type: 'text',\n          text: valueString || '',\n          fill: item.fill,\n          opacity: item.opacity,\n          fontFamily: item.fontFamily,\n          fontSize: item.fontSize,\n          x: label.x + 3 + (rect.width - (measuredValue.width + (labelPadding * 2))),\n          y: label.y\n        };\n      }\n\n      // Detect collisions with other labels/rects or lines\n      for (let i = 0, len = items.length; i < len; i++) {\n        let curItem = items[i];\n\n        if (curItem.type === 'rect') {\n          // We only detect rects here, since rects are always behind labels,\n          // and we wouldn't want to measure text one more time\n          if (testRectRect(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        } else if (curItem.type === 'line') {\n          // This will only collide when flipXY are the same for both objects,\n          // So it only collides on objects on the same \"axis\"\n          if (p.flipXY === curItem.flipXY && testRectLine(rect, curItem)) {\n            doesNotCollide = false;\n          }\n        }\n      }\n    }\n  }\n\n  // Always push the line,\n  // but this is done after collision detection,\n  // because otherwise it would collide with it's own line\n  items.push(line);\n\n  // Only push rect & label if we haven't collided and both are defined\n  if (doesNotCollide && rect && label) {\n    items.push(rect, label);\n    if (value) {\n      items.push(value);\n    }\n  }\n}\n","import extend from 'extend';\nimport { transposer } from '../../transposer/transposer';\nimport { oobManager } from './oob';\nimport { createLineWithLabel } from './lines-and-labels';\n\nfunction createOobData(line) {\n  const data = {\n    value: line.value\n  };\n\n  if (line.label) {\n    data.label = line.label.text;\n  }\n\n  return data;\n}\n\nfunction filterUndefinedValue(line) {\n  return typeof line.value !== 'undefined';\n}\n\n/**\n * @typedef {object} component--ref-line\n * @experimental\n * @property {refline-generic-style} [style=refline-generic-style] - x coordinate\n * @property {object} lines - X & Y Lines\n * @property {reflines-x[]} [lines.x=refline-line[]] - lines along X\n * @property {reflines-y[]} [lines.y=refline-line[]] - lines along Y\n */\n\n/**\n * @typedef {object} component--ref-line.style\n * @property {refline-oob-style} [oob=component--ref-line.style.oob] - Style for out of bounds object (oob)\n * @property {refline-line} [line=refline-line] - Generic style for lines\n * @property {refline-line-label} [label=refline-line-label] - Generic style for labels\n */\n\n/**\n * @typedef {object} component--ref-line.style.oob\n * @property {boolean} [show=true] - Show out of bounds items\n * @property {string} [type=undefined] - EXPERIMENTAL:  Set this to 'arc' for an experimental out of bounds shape (only works with SVG)\n * @property {number} [width=10] - Width of the out of bounds object\n * @property {string} [fill='#1A1A1A'] - Fill color of the OOB object\n * @property {string} [stroke='transparent'] - Stroke of the OOB object\n * @property {number} [strokeWidth=0] - Stroke width of the OOB object\n * @property {number} [opacity=1] - Opacity of the OOB object\n * @property {refline-generic-text} [text=refline-generic-text] - Text configuration for out of bounds\n * @property {refline-generic-object} [triangle=refline-generic-object] - The triangle in OOB\n * @property {object} [padding] - Padding on X\n * @property {number} [padding.x=28] - Padding on X\n * @property {number} [padding.y=5] - Padding on X\n */\n\n/**\n * @typedef {object} component--ref-line.generic-text\n * @property {string} [text=''] - Text (if applicable)\n * @property {string} [fontSize='12px'] - Font size (if applicable)\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.line\n * @property {number} value - The value of the reference line. If a scale is specified, it is applied.\n * @property {Scale} [scale=undefined] - Scale to use (if undefined will use normalized value 0-1)\n * @property {refline-generic-object} [line=refline-generic-object] - The style of the line\n * @property {refline-line-label} [label=refline-line-label] - The label style of the line\n */\n\n/**\n * @typedef {object} component--ref-line.line-label\n * @property {number} padding=5 - Padding inside the label\n * @property {string} [text=''] - Text\n * @property {string} [fontSize='12px'] - Font size\n * @property {string} [fontFamily='Arial'] - Font family\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n * @property {number|string} [align=0] - Alignment property left to right (0 = left, 1 = right). Also supports string ('left', 'center', 'middle', 'right')\n * @property {number|string} [vAlign=0] - Alignment property top to bottom (0 = top, 1 = bottom). Also supports string ('top', 'center', 'middle', 'bottom')\n * @property {number} [maxWidth=1] - The maximum relative width to the width of the rendering area (see maxWidthPx below aswell)\n * @property {number} [maxWidthPx=9999] - The maximum width in pixels.\n * @property {refline-line-label-background} [background=refline-line-label-background] - The background style (rect behind text)\n */\n\n/**\n * @example\n * // Labels will be rendered with the maximum size of the smallest value of maxWidth and maxWidthPx size, so you may specify maxWidth 0.8 but maxWidthPx 100 and will never be over 100px and never over 80% of the renderable area.\n */\n\n/**\n * @typedef {object} component--ref-line.line-label-background\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=0.5] - Opacity\n */\n\n/**\n * @typedef {object} component--ref-line.generic-object\n * @property {string} [fill='#fff'] - Fill color\n * @property {string} [stroke='transparent'] - Stroke\n * @property {number} [strokeWidth=0] - Stroke width\n * @property {number} [opacity=1] - Opacity\n */\n\nconst refLineComponent = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    style: {\n      oob: {\n        show: true,\n        width: 10,\n        fill: '#1A1A1A',\n        stroke: 'transparent',\n        strokeWidth: 0,\n        opacity: 1,\n        text: {\n          fontFamily: 'Arial',\n          stroke: 'transparent',\n          fill: '#fff',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        triangle: {\n          fill: '#4D4D4D',\n          stroke: 'transparent',\n          strokeWidth: 0,\n          opacity: 1\n        },\n        padding: {\n          x: 28,\n          y: 5\n        }\n      },\n      line: {\n        stroke: '#000'\n      },\n      label: {\n        strokeWidth: 0\n      }\n    }\n  },\n\n  preferredSize() {\n    return 30;\n  },\n\n  beforeRender() {\n    this.blueprint = transposer();\n\n    this.blueprint.width = this.rect.width;\n    this.blueprint.height = this.rect.height;\n    this.blueprint.x = this.rect.x;\n    this.blueprint.y = this.rect.y;\n    this.blueprint.crisp = true;\n  },\n\n  render() {\n    let settings = this.settings;\n\n    // Setup lines for X and Y\n    this.lines = {\n      x: [],\n      y: []\n    };\n\n    this.lines.x = (settings.lines && settings.lines.x) || [];\n    this.lines.y = (settings.lines && settings.lines.y) || [];\n\n    if (this.lines.x.length === 0 && this.lines.y.length === 0) {\n      return [];\n    }\n\n    const oob = {\n      x0: [],\n      x1: [],\n      y0: [],\n      y1: []\n    };\n\n    // Convert a value to an actual position using the scale\n    this.lines.x = this.lines.x.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value) });\n      }\n\n      return extend(line, { position: line.value });\n    });\n    // Set all Y lines to flipXY by default\n    // This makes the transposer flip them individually\n    this.lines.y = this.lines.y.filter(filterUndefinedValue).map((line) => {\n      if (line.scale) {\n        let scale = this.chart.scale(line.scale);\n        return extend(line, { scale, position: scale(line.value), flipXY: true });\n      }\n\n      return extend(line, { position: line.value, flipXY: true });\n    });\n\n    // Move out of bounds lines (OOB) to separate rendering\n    this.lines.x = this.lines.x.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`x${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    this.lines.y = this.lines.y.filter((line) => {\n      if (line.position < 0 || line.position > 1) {\n        oob[`y${line.position > 1 ? 1 : 0}`].push(createOobData(line));\n        return false;\n      }\n      return true;\n    });\n\n    let items = [];\n\n    // Loop through all X and Y lines\n    [...this.lines.x, ...this.lines.y].forEach((p) => {\n      let show = p.show === true || typeof p.show === 'undefined';\n\n      if (show) {\n        // Create line with labels\n        createLineWithLabel({\n          chart: this.chart, blueprint: this.blueprint, renderer: this.renderer, p, settings, items\n        });\n      }\n    });\n\n    // Handle out of bounds\n    if (settings.style.oob.show) {\n      oobManager({\n        blueprint: this.blueprint, oob, settings, items\n      });\n    }\n\n    return items;\n  }\n};\n\nexport default refLineComponent;\n","import refLineComponent from './refline';\n\nexport default function refLine(picasso) {\n  picasso.component('ref-line', refLineComponent);\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (buildOpts.align === 'top') {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  }\n}\n\nexport default function buildLine(buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = buildOpts.innerRect.x - buildOpts.outerRect.x;\n    struct.x2 = buildOpts.innerRect.width + buildOpts.innerRect.x;\n    struct.y1 = struct.y2 = buildOpts.align === 'top' ? buildOpts.innerRect.height - buildOpts.padding : buildOpts.padding;\n  } else {\n    struct.x1 = struct.x2 = buildOpts.align === 'left' ? buildOpts.innerRect.width - buildOpts.padding : buildOpts.padding;\n    struct.y1 = buildOpts.innerRect.y - buildOpts.outerRect.y;\n    struct.y2 = buildOpts.innerRect.height + buildOpts.innerRect.y;\n  }\n\n  appendStyle(struct, buildOpts);\n\n  return struct;\n}\n","import { rotate as rotateVector } from '../../math/vector';\n\nfunction checkText(text) {\n  return typeof text === 'string' || typeof text === 'number' ? text : '-';\n}\n\nfunction appendStyle(struct, buildOpts) {\n  ['fill', 'fontSize', 'fontFamily'].forEach((style) => {\n    struct[style] = buildOpts.style[style];\n  });\n}\n\nfunction clampEnds(struct, buildOpts) {\n  if (buildOpts.tilted || buildOpts.stepSize) {\n    return;\n  }\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    const leftBoundary = 0;\n    const rightBoundary = buildOpts.outerRect.width;\n    const textWidth = Math.min(buildOpts.maxWidth / 2, buildOpts.textRect.width / 2);\n    const leftTextBoundary = struct.x - textWidth;\n    const rightTextBoundary = struct.x + textWidth;\n    if (leftTextBoundary < leftBoundary) {\n      struct.anchor = 'start';\n      struct.x = buildOpts.innerRect.x - buildOpts.outerRect.x;\n    } else if (rightTextBoundary > rightBoundary) {\n      struct.anchor = 'end';\n      struct.x = buildOpts.innerRect.width + buildOpts.innerRect.x;\n    }\n  } else {\n    const topBoundary = 0;\n    const bottomBoundary = buildOpts.outerRect.height;\n    const textHeight = buildOpts.maxHeight / 2;\n    const topTextBoundary = struct.y - textHeight;\n    const bottomTextBoundary = struct.y + textHeight;\n    if (topTextBoundary < topBoundary) {\n      struct.y = buildOpts.innerRect.y - buildOpts.outerRect.y;\n      struct.baseline = 'text-before-edge';\n    } else if (bottomTextBoundary > bottomBoundary) {\n      struct.y = buildOpts.innerRect.height + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n      struct.baseline = 'text-after-edge';\n    }\n  }\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y += buildOpts.padding + buildOpts.maxHeight;\n  } else if (buildOpts.align === 'left') {\n    struct.x -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x += buildOpts.padding;\n  }\n}\n\nfunction appendTilting(struct, buildOpts) {\n  if (buildOpts.tilted) {\n    const r = -buildOpts.angle;\n    const radians = r * (Math.PI / 180);\n\n    if (buildOpts.align === 'bottom') {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 2;\n      struct.y -= buildOpts.maxHeight;\n      struct.y += (buildOpts.maxHeight * Math.cos(radians)) / 2;\n    } else {\n      struct.x -= (buildOpts.maxHeight * Math.sin(radians)) / 3;\n    }\n\n    struct.transform = `rotate(${r}, ${struct.x}, ${struct.y})`;\n    struct.anchor = (buildOpts.align === 'bottom') === (buildOpts.angle < 0) ? 'start' : 'end';\n\n    // adjustForEnds\n    const textWidth = Math.cos(radians) * buildOpts.maxWidth;\n    if ((buildOpts.align === 'bottom') === (buildOpts.angle < 0)) {\n      // right\n      const rightBoundary = buildOpts.outerRect.width - buildOpts.paddingEnd;\n      const rightTextBoundary = struct.x + textWidth;\n      if (rightTextBoundary > rightBoundary) {\n        struct.maxWidth = (rightBoundary - struct.x - 10) / Math.cos(radians);\n      }\n    } else {\n      // left\n      const leftBoundary = buildOpts.paddingEnd;\n      const leftTextBoundary = struct.x - textWidth;\n      if (leftTextBoundary < leftBoundary) {\n        struct.maxWidth = (struct.x - leftBoundary - 10) / Math.cos(radians);\n      }\n    }\n  }\n}\n\nfunction bandwidthCollider(tick, struct, buildOpts) {\n  if (buildOpts.align === 'bottom' || buildOpts.align === 'top') {\n    const tickCenter = tick.position * buildOpts.innerRect.width;\n    const leftBoundary = tickCenter + (buildOpts.innerRect.x - buildOpts.outerRect.x - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: leftBoundary,\n      y: 0,\n      width: leftBoundary < 0 ? buildOpts.stepSize + leftBoundary : buildOpts.stepSize, // Adjust collider so that it doesnt extend onto neighbor collider\n      height: buildOpts.innerRect.height\n    };\n  } else {\n    const tickCenter = tick.position * buildOpts.innerRect.height;\n    const topBoundary = tickCenter + (buildOpts.innerRect.y - buildOpts.outerRect.y - (buildOpts.stepSize / 2));\n    struct.collider = {\n      type: 'rect',\n      x: 0,\n      y: topBoundary,\n      width: buildOpts.innerRect.width,\n      height: topBoundary < 0 ? buildOpts.stepSize + topBoundary : buildOpts.stepSize // Adjust collider so that it doesnt extend onto neighbor collider\n    };\n  }\n\n  // Clip edges of the collider, should not extend beyoned the outerRect\n  const collider = struct.collider;\n  collider.x = Math.max(collider.x, 0);\n  collider.y = Math.max(collider.y, 0);\n  const widthClip = (collider.x + collider.width) - (buildOpts.outerRect.x + buildOpts.outerRect.width);\n  collider.width = widthClip > 0 ? collider.width - widthClip : collider.width;\n  const heightClip = (collider.y + collider.height) - (buildOpts.outerRect.y + buildOpts.outerRect.height);\n  collider.height = heightClip > 0 ? collider.height - heightClip : collider.height;\n}\n\nfunction boundsCollider(tick, struct) {\n  struct.collider = {\n    type: 'polygon',\n    vertices: [\n      { x: struct.boundingRect.x, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y },\n      { x: struct.boundingRect.x + struct.boundingRect.width, y: struct.boundingRect.y + struct.boundingRect.height },\n      { x: struct.boundingRect.x, y: struct.boundingRect.y + struct.boundingRect.height }\n    ]\n  };\n}\n\nfunction tiltedCollider(tick, struct, buildOpts) {\n  const radians = buildOpts.angle * (Math.PI / 180);\n  const halfWidth = Math.max(buildOpts.stepSize / 2, struct.boundingRect.height / 2); // Handle if bandwidth is zero\n  const startAnchor = struct.anchor === 'start';\n  const em = struct.anchor === 'end' && radians < 0;\n  const sp = struct.anchor === 'start' && radians >= 0;\n  const y = struct.boundingRect.y + (sp || em ? struct.boundingRect.height : 0);\n  // Generate starting points at bandwidth boundaries\n  const points = [\n    { x: struct.x - halfWidth, y },\n    { x: struct.x + halfWidth, y }\n  ].map(p => rotateVector(p, radians, { x: struct.x, y: struct.y })); // Rotate around center point to counteract labels rotation\n\n  // Append points to wrap polygon around label\n  const margin = 10; // extend slightly to handle single char labels better\n  const leftPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y + struct.boundingRect.height\n  };\n\n  const rightPoint = {\n    x: startAnchor ? struct.boundingRect.x + struct.boundingRect.width + margin : struct.boundingRect.x - margin,\n    y: struct.boundingRect.y\n  };\n\n  const orderedPoints = radians >= 0 ? [leftPoint, rightPoint] : [rightPoint, leftPoint];\n  points.push(...orderedPoints);\n\n  struct.collider = {\n    type: 'polygon',\n    vertices: points\n  };\n}\n\nfunction appendCollider(tick, struct, buildOpts) {\n  if (buildOpts.layered || !buildOpts.stepSize) {\n    boundsCollider(tick, struct);\n  } else if (buildOpts.tilted) {\n    tiltedCollider(tick, struct, buildOpts);\n  } else {\n    bandwidthCollider(tick, struct, buildOpts);\n  }\n}\n\nfunction appendBounds(struct, buildOpts) {\n  struct.boundingRect = buildOpts.textBounds(struct);\n}\n\nfunction wiggle(buildOpts, isVertical) {\n  const a = isNaN(buildOpts.style.align) ? 0.5 : Math.min(Math.max(buildOpts.style.align, 0), 1);\n  let w = 0;\n  if (buildOpts.tilted) {\n    w = (buildOpts.stepSize * a);\n  } else {\n    const size = isVertical ? buildOpts.textRect.height : buildOpts.textRect.width;\n    w = Math.max(0, buildOpts.stepSize - size) * a;\n  }\n\n  return w;\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'text',\n    text: checkText(tick.label),\n    x: 0,\n    y: 0,\n    maxWidth: buildOpts.maxWidth,\n    maxHeight: buildOpts.maxHeight\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x = (tick.start * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x) + wiggle(buildOpts, false);\n    struct.y = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.anchor = buildOpts.stepSize ? 'start' : 'middle';\n\n    struct.x += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  } else {\n    struct.y = (tick.start * buildOpts.innerRect.height) + (buildOpts.innerRect.y - buildOpts.outerRect.y) + wiggle(buildOpts, true);\n    struct.x = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.anchor = buildOpts.align === 'left' ? 'end' : 'start';\n    struct.baseline = buildOpts.stepSize ? 'text-before-edge' : 'central';\n\n    struct.y += isNaN(buildOpts.style.offset) ? 0 : +buildOpts.style.offset;\n  }\n\n  appendStyle(struct, buildOpts);\n  clampEnds(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  appendTilting(struct, buildOpts);\n  appendBounds(struct, buildOpts);\n  appendCollider(tick, struct, buildOpts);\n\n  return struct;\n}\n","import extend from 'extend';\n\nfunction appendStyle(struct, buildOpts) {\n  extend(struct, buildOpts.style);\n}\n\nfunction appendPadding(struct, buildOpts) {\n  if (buildOpts.align === 'top') {\n    struct.y1 -= buildOpts.padding;\n    struct.y2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'bottom') {\n    struct.y1 += buildOpts.padding;\n    struct.y2 += buildOpts.padding;\n  } else if (buildOpts.align === 'left') {\n    struct.x1 -= buildOpts.padding;\n    struct.x2 -= buildOpts.padding;\n  } else if (buildOpts.align === 'right') {\n    struct.x1 += buildOpts.padding;\n    struct.x2 += buildOpts.padding;\n  }\n}\n\nfunction adjustForEnds(struct, buildOpts) {\n  const halfWidth = struct.strokeWidth / 2;\n\n  if (struct.x1 === buildOpts.innerRect.width) { // outer end tick\n    struct.x1 -= halfWidth;\n    struct.x2 -= halfWidth;\n  } else if (struct.x1 === 0) { // outer start tick\n    struct.x1 += halfWidth;\n    struct.x2 += halfWidth;\n  } else if (struct.y1 === buildOpts.innerRect.height) {\n    struct.y1 -= halfWidth;\n    struct.y2 -= halfWidth;\n  } else if (struct.y1 === 0) {\n    struct.y1 += halfWidth;\n    struct.y2 += halfWidth;\n  }\n}\n\nexport default function buildNode(tick, buildOpts) {\n  const struct = {\n    type: 'line',\n    x1: 0,\n    x2: 0,\n    y1: 0,\n    y2: 0,\n    collider: {\n      type: null\n    }\n  };\n\n  if (buildOpts.align === 'top' || buildOpts.align === 'bottom') {\n    struct.x1 = struct.x2 = (tick.position * buildOpts.innerRect.width) + (buildOpts.innerRect.x - buildOpts.outerRect.x);\n    struct.y1 = buildOpts.align === 'top' ? buildOpts.innerRect.height : 0;\n    struct.y2 = buildOpts.align === 'top' ? struct.y1 - buildOpts.tickSize : struct.y1 + buildOpts.tickSize;\n  } else {\n    struct.y1 = struct.y2 = (tick.position * (buildOpts.innerRect.height)) + (buildOpts.innerRect.y - buildOpts.outerRect.y);\n    struct.x1 = buildOpts.align === 'left' ? buildOpts.innerRect.width : 0;\n    struct.x2 = buildOpts.align === 'left' ? struct.x1 - buildOpts.tickSize : struct.x1 + buildOpts.tickSize;\n  }\n\n  appendStyle(struct, buildOpts);\n  appendPadding(struct, buildOpts);\n  adjustForEnds(struct, buildOpts);\n  return struct;\n}\n","function isMajorTick(tick) {\n  return !tick.isMinor && tick.position >= 0 && tick.position <= 1;\n}\n\nfunction isVerticalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect\n}) {\n  const size = rect.height;\n  const textHeight = measureText('M').height;\n  if (majorTicks.length < 2) {\n    return false;\n  }\n\n  const d = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  if (d < textHeight) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isHorizontalLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  state\n}) {\n  /*\n   * Currently isn't any good way of doing a accurate measurement on size available (bandWidth * width) for labels.\n   * It's a lifecycle limitation as components docked either left or right can affect the width available after the calculation is done.\n   * <number of components docked left/right> * <width of components> => Less accurate ===> Can result in only ellips char rendered as labels.\n   */\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const size = rect.width;\n  const tickSize = majorTicks\n    .map(tick => tick.label)\n    .map(l => `${l.slice(0, 1)}${l.length > 1 ? '' : ''}`) // Measure the size of 1 chars + the ellips char.\n    .map(measureText)\n    .map(r => r.width);\n  for (let i = 0; i < majorTicks.length; ++i) {\n    const tick = majorTicks[i];\n    const d1 = m * size * Math.abs(tick.start - tick.end);\n    const d2 = tickSize[i];\n    if (d1 < d2) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction shouldAutoTilt({\n  majorTicks,\n  measure,\n  rect,\n  state,\n  settings\n}) {\n  const glyphCount = settings.labels.maxGlyphCount;\n  const m = state.labels.activeMode === 'layered' ? 2 : 1;\n  const magicSizeRatioMultipler = settings.labels.tiltThreshold ? settings.labels.tiltThreshold : 0.7; // So that if less the 70% of labels are visible, toggle on tilt or use variable tiltThreshold\n  const ellipsCharSize = measure('').width; // include ellipsed char in calc as it's generally large then the char it replaces\n  const size = rect.width;\n  let maxLabelWidth = 0;\n  let d1 = 0;\n\n  if (!isNaN(glyphCount)) {\n    const minBandwidth = majorTicks.reduce((prev, curr) => Math.min(Math.abs(curr.start - curr.end), prev), Infinity);\n    d1 = m * size * minBandwidth;\n    maxLabelWidth = measure('M').width * magicSizeRatioMultipler * glyphCount;\n    if (maxLabelWidth + ellipsCharSize > d1) {\n      return true;\n    }\n  } else {\n    for (let i = 0; i < majorTicks.length; i++) {\n      const tick = majorTicks[i];\n      const label = tick.label;\n      const width = measure(label).width * (label.length > 1 ? magicSizeRatioMultipler : 1);\n      d1 = m * size * Math.abs(tick.start - tick.end);\n      if (width + ellipsCharSize > d1) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nfunction isTiltedLabelOverlapping({\n  majorTicks,\n  measureText,\n  rect,\n  bleedSize,\n  angle\n}) {\n  if (majorTicks.length < 2) {\n    return false;\n  }\n  if (angle === 0) {\n    return true; // TODO 0 angle should be considered non-tilted\n  }\n  const absAngle = Math.abs(angle);\n  const size = rect.width - bleedSize;\n  const stepSize = size * Math.abs(majorTicks[0].position - majorTicks[1].position);\n  const textHeight = measureText('M').height;\n  const reciprocal = 1 / stepSize; // 1 === Math.sin(90 * (Math.PI / 180))\n  const distanceBetweenLabels = Math.sin(absAngle * (Math.PI / 180)) / reciprocal;\n\n  return textHeight > distanceBetweenLabels;\n}\n\nfunction isToLarge({\n  rect,\n  state,\n  majorTicks,\n  measure,\n  horizontal\n}) {\n  if (horizontal) {\n    return isHorizontalLabelOverlapping({\n      majorTicks,\n      measureText: measure,\n      rect,\n      state\n    });\n  }\n\n  return isVerticalLabelOverlapping({\n    majorTicks,\n    measureText: measure,\n    rect,\n    state\n  });\n}\n\nexport function getClampedValue({\n  value, maxValue, minValue, range, modifier\n}) {\n  if (!isNaN(range) && !isNaN(modifier)) {\n    value = range * modifier;\n  }\n\n  if (value > maxValue) {\n    value = maxValue;\n  }\n\n  if (value < minValue) {\n    value = minValue;\n  }\n\n  return value;\n}\n\nexport default function getSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n  const edgeBleed = {\n    left: 0, top: 0, right: 0, bottom: 0\n  };\n  const {\n    maxLengthPx: maxValue,\n    minLengthPx: minValue\n  } = settings.labels;\n\n  if (settings.labels.show) {\n    const align = settings.align;\n    const horizontal = align === 'top' || align === 'bottom';\n    const distance = horizontal ? rect.width : rect.height;\n    const majorTicks = scale.ticks({\n      settings,\n      distance,\n      formatter\n    }).filter(isMajorTick);\n\n    const measure = (text) => {\n      const m = measureText({\n        text,\n        fontSize: settings.labels.fontSize,\n        fontFamily: settings.labels.fontFamily\n      });\n      m.width = getClampedValue({ value: m.width, maxValue, minValue });\n      return m;\n    };\n\n    if (isDiscrete && horizontal && settings.labels.mode === 'auto') {\n      if (shouldAutoTilt({\n        majorTicks, measure, rect, state, settings\n      })) {\n        state.labels.activeMode = 'tilted';\n      } else {\n        state.labels.activeMode = 'horizontal';\n      }\n    }\n\n    if (!settings.labels.filterOverlapping && state.labels.activeMode !== 'tilted' && isToLarge({\n      rect, state, majorTicks, measure, horizontal\n    })) {\n      const toLargeSize = Math.max(rect.width, rect.height); // used to hide the axis\n      return { size: toLargeSize, isToLarge: true };\n    }\n\n    let sizeFromTextRect;\n    if (state.labels.activeMode === 'tilted') {\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      sizeFromTextRect = r => (getClampedValue({ value: r.width, maxValue, minValue }) * Math.sin(radians)) + (r.height * Math.cos(radians));\n    } else if (horizontal) {\n      sizeFromTextRect = r => r.height;\n    } else {\n      sizeFromTextRect = r => getClampedValue({ value: r.width, maxValue, minValue });\n    }\n\n    let labels;\n    if (horizontal && state.labels.activeMode !== 'tilted') {\n      labels = ['M'];\n    } else if (!isNaN(settings.labels.maxGlyphCount)) {\n      let label = '';\n      for (let i = 0; i < settings.labels.maxGlyphCount; i++) {\n        label += 'M';\n      }\n      labels = [label];\n    } else {\n      labels = majorTicks.map(tick => tick.label);\n    }\n    const tickMeasures = labels.map(measure);\n    const labelSizes = tickMeasures.map(sizeFromTextRect);\n    const textSize = Math.max(...labelSizes, 0);\n    size += textSize;\n    size += settings.labels.margin;\n\n    if (state.labels.activeMode === 'layered') {\n      size *= 2;\n    }\n\n    if (state.labels.activeMode === 'tilted') {\n      const extendLeft = (settings.align === 'bottom') === (settings.labels.tiltAngle >= 0);\n      const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180); // angle in radians\n      const h = measureText('M').height;\n      const maxWidth = (textSize - (h * Math.cos(radians))) / Math.sin(radians);\n      const labelWidth = r => (Math.min(maxWidth, r.width) * Math.cos(radians)) + r.height;\n      const adjustByPosition = (s, i) => {\n        const pos = majorTicks[i] ? majorTicks[i].position : 0;\n        if (extendLeft) {\n          return s - (pos * rect.width);\n        }\n        return s - ((1 - pos) * rect.width);\n      };\n      const bleedSize = Math.min(settings.labels.maxEdgeBleed, Math.max(...tickMeasures.map(labelWidth).map(adjustByPosition), 0)) + settings.paddingEnd;\n      const bleedDir = extendLeft ? 'left' : 'right';\n      edgeBleed[bleedDir] = bleedSize;\n\n      if (!settings.labels.filterOverlapping && isTiltedLabelOverlapping({\n        majorTicks, measureText, rect, bleedSize, angle: settings.labels.tiltAngle\n      })) {\n        return { size: Math.max(rect.width, rect.height), isToLarge: true };\n      }\n    }\n  }\n\n  return { size, edgeBleed };\n}\n","const tickDistance = (rect, start, end) => rect.width * Math.abs(start.position - end.position);\n\nconst getLeftEdgeWidth = ({\n  innerRect,\n  outerRect,\n  tick,\n  nextWidth\n}) => {\n  const leftEdgeBleed = innerRect.x - outerRect.x;\n  const left = (innerRect.width * tick.position) + leftEdgeBleed;\n  const minDubble = Math.min(nextWidth, left) * 2;\n\n  return Math.max(nextWidth, minDubble);\n};\n\nconst getRightEdgeWidth = ({\n  innerRect,\n  outerRect,\n  tick,\n  prevWidth\n}) => {\n  const leftEdgeBleed = innerRect.x - outerRect.x;\n  const rightEdgeBleed = (outerRect.width - innerRect.width) - leftEdgeBleed;\n  const right = (innerRect.width - (innerRect.width * tick.position)) + rightEdgeBleed;\n  const minDubble = Math.min(prevWidth, right) * 2;\n\n  return Math.max(prevWidth, minDubble);\n};\n\nexport default function getHorizontalWidth({\n  layered,\n  major,\n  innerRect,\n  outerRect,\n  tick,\n  index\n}) {\n  const PADDING = 2;\n  const step = layered ? 2 : 1;\n  const prev = major[index - step];\n  const next = major[index + step];\n  const prevWidth = prev ? (tickDistance(innerRect, tick, prev) / 2) - PADDING : Infinity;\n  const nextWidth = next ? (tickDistance(innerRect, tick, next) / 2) - PADDING : Infinity;\n\n  if (major.length < 2) {\n    return innerRect.width;\n  }\n\n  if (!prev) {\n    return getLeftEdgeWidth({\n      innerRect,\n      outerRect,\n      tick,\n      nextWidth\n    });\n  }\n\n  if (!next) {\n    return getRightEdgeWidth({\n      innerRect,\n      outerRect,\n      tick,\n      prevWidth\n    });\n  }\n\n  return Math.min(prevWidth, nextWidth) * 2;\n}\n","import buildLine from './axis-line-node';\nimport buildLabel from './axis-label-node';\nimport buildTick from './axis-tick-node';\nimport {\n  testRectRect\n} from '../../math/narrow-phase-collision';\nimport { getClampedValue } from './axis-label-size';\nimport getHorizontalContinuousWidth from './get-continuous-label-rect';\n\nfunction tickSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.paddingStart;\n  spacing += settings.line.show ? settings.line.strokeWidth : 0;\n  spacing += settings.ticks.show ? settings.ticks.margin : 0;\n  return spacing;\n}\n\nfunction tickMinorSpacing(settings) {\n  return settings.line.strokeWidth + settings.minorTicks.margin;\n}\n\nfunction labelsSpacing(settings) {\n  let spacing = 0;\n  spacing += settings.ticks.show ? settings.ticks.tickSize : 0;\n  spacing += tickSpacing(settings) + settings.labels.margin;\n  return spacing;\n}\n\nfunction calcActualTextRect({ style, measureText, tick }) {\n  return measureText({\n    text: tick.label,\n    fontSize: style.fontSize,\n    fontFamily: style.fontFamily\n  });\n}\n\nfunction majorTicks(ticks) {\n  return ticks.filter(t => !t.isMinor);\n}\n\nfunction minorTicks(ticks) {\n  return ticks.filter(t => t.isMinor);\n}\n\nfunction tickBuilder(ticks, buildOpts) {\n  return ticks.map(tick => buildTick(tick, buildOpts));\n}\n\nfunction tickBandwidth(scale, tick) {\n  return tick ? Math.abs(tick.end - tick.start) : scale.bandwidth();\n}\n\nfunction labelBuilder(ticks, buildOpts, resolveTickOpts) {\n  return ticks.map((tick, idx) => {\n    resolveTickOpts(tick, idx);\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nfunction layeredLabelBuilder(ticks, buildOpts, settings, resolveTickOpts) {\n  const padding = buildOpts.padding;\n  const spacing = labelsSpacing(settings);\n  return ticks.map((tick, idx) => {\n    resolveTickOpts(tick, idx);\n    const padding2 = spacing + buildOpts.maxHeight + settings.labels.margin;\n    buildOpts.layer = idx % 2;\n    buildOpts.padding = idx % 2 === 0 ? padding : padding2;\n    const label = buildLabel(tick, buildOpts);\n    label.data = tick.data;\n    return label;\n  });\n}\n\nexport function filterOverlappingLabels(labels, ticks, buildOpts) {\n  let isOverlapping = (i, k) => {\n    const rect1 = labels[i].boundingRect;\n    const rect2 = labels[k].boundingRect;\n\n    return testRectRect(rect1, rect2);\n  };\n\n  if (buildOpts && buildOpts.tilted) {\n    const absAngle = Math.abs(buildOpts.angle);\n\n    isOverlapping = (i, k) => {\n      const stepSize = Math.abs(labels[i].x - labels[k].x);\n      const reciprocal = 1 / stepSize;\n      const distanceBetweenLabels = Math.sin(absAngle * (Math.PI / 180)) / reciprocal;\n\n      return labels[i].boundingRect.height > distanceBetweenLabels;\n    };\n  }\n\n  for (let i = 0; i <= labels.length - 1; i++) {\n    for (let k = i + 1; k <= Math.min(i + 5, i + (labels.length - 1)); k++) { // TODO Find a better way to handle exteme/layered labels then to iterare over ~5 next labels\n      if (labels[i] && labels[k] && isOverlapping(i, k)) {\n        if (k === labels.length - 1) { // On collition with last label, remove current label instead\n          labels.splice(i, 1);\n          if (ticks) { ticks.splice(i, 1); }\n        } else {\n          labels.splice(k, 1);\n          if (ticks) { ticks.splice(k, 1); }\n        }\n        k--;\n        i--;\n      }\n    }\n  }\n}\n\nfunction discreteCalcMaxTextRect({\n  measureText, settings, innerRect, scale, tilted, layered, tick\n}) {\n  const h = measureText({\n    text: 'M',\n    fontSize: settings.labels.fontSize,\n    fontFamily: settings.labels.fontFamily\n  }).height;\n\n  const bandwidth = tickBandwidth(scale, tick);\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (layered) {\n    textRect.width = (bandwidth * innerRect.width) * 2;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = bandwidth * innerRect.width;\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction continuousCalcMaxTextRect({\n  measureText, settings, innerRect, outerRect, tilted, layered, tick, index, major\n}) {\n  const h = measureText({\n    text: 'M',\n    fontSize: settings.labels.fontSize,\n    fontFamily: settings.labels.fontFamily\n  }).height;\n\n  const textRect = { width: 0, height: h };\n  if (settings.align === 'left' || settings.align === 'right') {\n    textRect.width = innerRect.width - labelsSpacing(settings) - settings.paddingEnd;\n  } else if (tilted) {\n    const radians = Math.abs(settings.labels.tiltAngle) * (Math.PI / 180);\n    textRect.width = (innerRect.height - labelsSpacing(settings) - settings.paddingEnd - (h * Math.cos(radians))) / Math.sin(radians);\n  } else {\n    textRect.width = getHorizontalContinuousWidth({\n      layered,\n      major,\n      innerRect,\n      outerRect,\n      tick,\n      index\n    });\n  }\n\n  textRect.width = getClampedValue({ value: textRect.width, maxValue: settings.labels.maxLengthPx, minValue: settings.labels.minLengthPx });\n\n  return textRect;\n}\n\nfunction getStepSizeFn({\n  innerRect, scale, settings, tick\n}) {\n  const size = settings.align === 'top' || settings.align === 'bottom' ? innerRect.width : innerRect.height;\n  const bandwidth = tickBandwidth(scale, tick);\n  return size * bandwidth;\n}\n\nexport default function nodeBuilder(isDiscrete) {\n  let resolveLabelRect;\n\n  function continuous() {\n    resolveLabelRect = continuousCalcMaxTextRect;\n    return continuous;\n  }\n\n  function discrete() {\n    resolveLabelRect = discreteCalcMaxTextRect;\n    return discrete;\n  }\n\n  function build({\n    settings, scale, innerRect, outerRect, measureText, ticks, state, textBounds\n  }) {\n    const nodes = [];\n    const major = majorTicks(ticks);\n    const minor = minorTicks(ticks);\n    const buildOpts = {\n      innerRect,\n      align: settings.align,\n      outerRect\n    };\n    const tilted = state.labels.activeMode === 'tilted';\n    const layered = state.labels.activeMode === 'layered';\n    let majorTickNodes;\n\n    if (settings.line.show) {\n      buildOpts.style = settings.line;\n      buildOpts.padding = settings.paddingStart;\n\n      nodes.push(buildLine(buildOpts));\n    }\n    if (settings.ticks.show) {\n      buildOpts.style = settings.ticks;\n      buildOpts.tickSize = settings.ticks.tickSize;\n      buildOpts.padding = tickSpacing(settings);\n\n      majorTickNodes = tickBuilder(major, buildOpts);\n    }\n    if (settings.labels.show) {\n      const padding = labelsSpacing(settings);\n      buildOpts.style = settings.labels;\n      buildOpts.padding = padding;\n      buildOpts.tilted = tilted;\n      buildOpts.layered = layered;\n      buildOpts.angle = settings.labels.tiltAngle;\n      buildOpts.paddingEnd = settings.paddingEnd;\n      buildOpts.textBounds = textBounds;\n      const resolveTickOpts = (tick, index) => {\n        buildOpts.textRect = calcActualTextRect({ tick, measureText, style: buildOpts.style });\n        const maxSize = resolveLabelRect({\n          measureText, settings, innerRect, outerRect, scale, tilted, layered, tick, major, index\n        });\n        buildOpts.maxWidth = maxSize.width;\n        buildOpts.maxHeight = maxSize.height;\n        buildOpts.stepSize = getStepSizeFn({\n          innerRect, scale, ticks, settings, tick\n        });\n      };\n\n      let labelNodes = [];\n      if (layered && (settings.align === 'top' || settings.align === 'bottom')) {\n        labelNodes = layeredLabelBuilder(major, buildOpts, settings, resolveTickOpts);\n      } else {\n        labelNodes = labelBuilder(major, buildOpts, resolveTickOpts);\n      }\n\n      // Remove labels (and paired tick) that are overlapping\n      if (settings.labels.filterOverlapping) {\n        filterOverlappingLabels(labelNodes, majorTickNodes, buildOpts);\n      }\n\n      nodes.push(...labelNodes);\n    }\n\n    if (settings.minorTicks && settings.minorTicks.show && minor.length > 0) {\n      buildOpts.style = settings.minorTicks;\n      buildOpts.tickSize = settings.minorTicks.tickSize;\n      buildOpts.padding = tickMinorSpacing(settings);\n\n      nodes.push(...tickBuilder(minor, buildOpts));\n    }\n\n    if (majorTickNodes) {\n      nodes.push(...majorTickNodes);\n    }\n\n    return nodes;\n  }\n\n  continuous.build = build;\n  discrete.build = build;\n\n  return isDiscrete ? discrete() : continuous();\n}\n","// const DEFAULT_LAYOUT_SETTINGS = { // TODO create dis and con specific settings\n//   anchor: 'auto', // TODO re-name from align..\n//   // orientation: 'auto', // TODO impl. v/h/auto\n//   // direction: 'auto', // TODO impl. left/right/top/bottom/auto\n//   padding: { // TODO use dock layout margin instead..\n//     start: 0,\n//     end: 10\n//   },\n//   maxGlyphCount: NaN,\n//   maxEdgeBleed: Infinity\n//   // labelMode: 'auto' // TODO move here? auto, horizontal, layered\n// };\n\n/**\n * Discrete axis settings\n * @typedef {object}\n * @alias component--axis-discrete\n */\nconst DEFAULT_DISCRETE_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Tilting angle in degrees. Capped between -90 and 90. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    tiltAngle: 40,\n    /** Threshold for toggle of tilted labels. Capped between 0 and 1. For example, if it is set to 0.7, then tilted labels will be toggled if less than 70% of the labels are visible.\n    * @type {number=}\n    * @experimental */\n    tiltThreshold: 0.7,\n    /** Control the amount of space (in pixels) that labes can occupy outside their docking area. Only applicable when labels are in `tilted` mode.\n    * @type {number=} */\n    maxEdgeBleed: Infinity,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Control how labels arrange themself. Availabe modes are `auto`, `horizontal`, `layered` and `tilted`. When set to `auto` the axis determines the best possible layout in the current context.\n    * @type {string=} */\n    mode: 'auto',\n    /** When only a sub-set of data is available, ex. when paging. This property can be used to let the axis estimate how much space the labels will consume, allowing it to give a consistent space estimate over the entire dataset when paging.\n    * @type {number=} */\n    maxGlyphCount: NaN,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth. Except when labels are tilted, then the align is a pure align that shifts the position of the label anchoring point.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0,\n    /**\n     * Toggle whether labels should be filtered if they are overlapping. Filtering may be applied in a non-sequential order.\n     * If labels are overlapping and this setting is toggled off, the axis will automatically hide.\n     * @type {boolean=}\n     */\n    filterOverlapping: false\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 4\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: false\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\n/**\n * Continuous axis settings\n * @typedef {object}\n * @alias component--axis-continuous\n */\nconst DEFAULT_CONTINUOUS_SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  labels: {\n    /** Toggle labels on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the tick and label.\n    * @type {number=} */\n    margin: 4,\n    /** Max length of labels in pixels\n    * @type {number=} */\n    maxLengthPx: 150,\n    /** Min length of labels in pixels. Labels will always at least require this much space\n    * @type {number=} */\n    minLengthPx: 0,\n    /** Align act as a slider for the text bounding rect over the item bandwidth, given that the item have a bandwidth.\n    * @type {number=} */\n    align: 0.5,\n    /** Offset in pixels along the axis direction.\n    * @type {number=} */\n    offset: 0,\n    /**\n     * Toggle whether labels should be filtered if they are overlapping. Filtering may be applied in a non-sequential order.\n     * If labels are overlapping and this setting is toggled off, the axis will automatically hide.\n     * @type {boolean=}\n     */\n    filterOverlapping: true\n  },\n  /**\n   * @typedef {object}\n   */\n  ticks: {\n    /** Toggle ticks on/off\n    * @type {boolean=} */\n    show: true,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 8\n  },\n  /**\n   * @typedef {object}\n   */\n  minorTicks: {\n    /** Toggle minor-ticks on/off\n    * @type {boolean=} */\n    show: false,\n    /** Size of the ticks in pixels.\n    * @type {number=} */\n    tickSize: 3,\n    /** Space in pixels between the ticks and the line.\n    * @type {number=} */\n    margin: 0\n  },\n  /**\n   * @typedef {object}\n   */\n  line: {\n    /** Toggle line on/off\n    * @type {boolean=} */\n    show: true\n  },\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingStart: 0,\n  /** Padding in direction perpendicular to the axis\n    * @type {number=} */\n  paddingEnd: 10,\n  /** Set the anchoring point of the axis. Avaialable options are `auto/left/right/bottom/top`. In `auto` the axis determines the best option. The options are restricted based on the axis orientation, a vertical axis may only anchor on `left` or `right`\n    * @type {string=} */\n  align: 'auto'\n};\n\nexport {\n  DEFAULT_DISCRETE_SETTINGS,\n  DEFAULT_CONTINUOUS_SETTINGS\n};\n","import getLabelSize from './axis-label-size';\n\nexport default function calcRequiredSize({\n  isDiscrete,\n  rect,\n  formatter,\n  measureText,\n  scale,\n  settings,\n  state\n}) {\n  let size = 0;\n\n  const { size: labelSize, edgeBleed, isToLarge } = getLabelSize({\n    isDiscrete,\n    rect,\n    formatter,\n    measureText,\n    scale,\n    settings,\n    state\n  });\n\n  size += labelSize;\n\n  if (isToLarge) {\n    return { size };\n  }\n\n  if (settings.ticks.show) {\n    size += settings.ticks.margin;\n    size += settings.ticks.tickSize;\n  }\n  if (settings.minorTicks && settings.minorTicks.show) {\n    const minorTicksSize = settings.minorTicks.margin + settings.minorTicks.tickSize;\n    if (minorTicksSize > size) {\n      size = minorTicksSize;\n    }\n  }\n  if (settings.line.show) {\n    size += settings.line.strokeWidth;\n  }\n  size += settings.paddingStart;\n  size += settings.paddingEnd;\n\n  return { size, edgeBleed };\n}\n","import extend from 'extend';\n\nimport nodeBuilder from './axis-node-builder';\nimport {\n  DEFAULT_CONTINUOUS_SETTINGS,\n  DEFAULT_DISCRETE_SETTINGS\n} from './axis-default-settings';\nimport calcRequiredSize from './axis-size-calculator';\nimport crispify from '../../transposer/crispifier';\nimport { scaleWithSize } from '../../scales';\n\nfunction alignTransform({ align, inner }) {\n  if (align === 'left') {\n    return { x: inner.width + inner.x };\n  }\n  if (align === 'right' || align === 'bottom') {\n    return inner;\n  }\n  return { y: inner.y + inner.height };\n}\n\nfunction resolveAlign(align, dock) {\n  const horizontal = ['top', 'bottom'];\n  const vertical = ['left', 'right'];\n  if (horizontal.indexOf(align) !== -1 && vertical.indexOf(dock) === -1) {\n    return align;\n  }\n  if (vertical.indexOf(align) !== -1 && horizontal.indexOf(dock) === -1) {\n    return align;\n  }\n  return dock; // Invalid align, return current dock as default\n}\n\n/**\n * @ignore\n * @param {object} context - The component context\n */\nfunction resolveLocalSettings({\n  state,\n  style,\n  settings\n}) {\n  const defaultStgns = extend(true, {}, state.isDiscrete ? DEFAULT_DISCRETE_SETTINGS : DEFAULT_CONTINUOUS_SETTINGS, style);\n  const localStgns = extend(true, {}, defaultStgns, settings.settings);\n\n  const dock = settings.layout.dock || state.defaultDock;\n  localStgns.dock = dock;\n  localStgns.align = resolveAlign(settings.settings.align, dock);\n  localStgns.labels.tiltAngle = Math.max(-90, Math.min(localStgns.labels.tiltAngle, 90));\n\n  return localStgns;\n}\n\nfunction updateActiveMode(state, settings, isDiscrete) {\n  const mode = settings.labels.mode;\n\n  if (!isDiscrete || !state.isHorizontal) {\n    return 'horizontal';\n  }\n\n  if (mode === 'auto') {\n    return state.labels.activeMode;\n  }\n  if (['layered', 'tilted'].indexOf(settings.labels.mode) !== -1 && ['top', 'bottom'].indexOf(settings.dock) !== -1) {\n    return mode;\n  }\n  return 'horizontal';\n}\n\nconst axisComponent = {\n  require: ['chart', 'renderer', 'dockConfig'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0,\n      prioOrder: 0\n    },\n    settings: {},\n    style: {\n      labels: '$label',\n      ticks: '$guide-line',\n      minorTicks: '$guide-line--minor',\n      line: '$guide-line'\n    }\n  },\n  created() {\n    // State is a representation of properties that are private to this component defintion and may be modified by only in this context.\n    this.state = {\n      isDiscrete: !!this.scale.bandwidth,\n      isHorizontal: false,\n      labels: {\n        activeMode: 'horizontal'\n      },\n      ticks: [],\n      innerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      outerRect: {\n        width: 0, height: 0, x: 0, y: 0\n      },\n      defaultDock: undefined,\n      concreteNodeBuilder: undefined,\n      settings: undefined\n    };\n\n    if (this.state.isDiscrete) {\n      this.state.defaultDock = 'bottom';\n    } else {\n      this.state.defaultDock = 'left';\n    }\n\n    this.setState(this.settings);\n  },\n  setState() {\n    this.state.isDiscrete = !!this.scale.bandwidth;\n    this.state.settings = resolveLocalSettings(this);\n\n    this.state.concreteNodeBuilder = nodeBuilder(this.state.isDiscrete);\n\n    this.dockConfig.dock(this.state.settings.dock); // Override the dock setting (TODO should be removed)\n\n    this.state.isHorizontal = this.state.settings.align === 'top' || this.state.settings.align === 'bottom';\n    this.state.labels.activeMode = updateActiveMode(this.state, this.state.settings, this.state.isDiscrete);\n  },\n  preferredSize(opts) {\n    const {\n      formatter,\n      state,\n      scale\n    } = this;\n\n    const distance = this.state.isHorizontal ? opts.inner.width : opts.inner.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n\n    const reqSize = calcRequiredSize({\n      isDiscrete: this.state.isDiscrete,\n      rect: opts.inner,\n      formatter,\n      measureText: this.renderer.measureText,\n      scale: this.state.pxScale,\n      settings: this.state.settings,\n      state\n    });\n\n    return reqSize;\n  },\n  beforeUpdate(opts = {}) {\n    const {\n      settings\n    } = opts;\n    this.setState(settings);\n  },\n  resize(opts) {\n    const {\n      inner,\n      outer\n    } = opts;\n\n    const extendedInner = extend({}, inner, alignTransform({\n      align: this.state.settings.align,\n      inner\n    }));\n\n    const finalOuter = outer || extendedInner;\n    extend(this.state.innerRect, extendedInner);\n    extend(this.state.outerRect, finalOuter);\n\n    return outer;\n  },\n  beforeRender() {\n    const {\n      scale,\n      formatter\n    } = this;\n\n    const distance = this.state.isHorizontal ? this.state.innerRect.width : this.state.innerRect.height;\n\n    this.state.pxScale = scaleWithSize(scale, distance);\n    this.state.ticks = this.state.pxScale.ticks({\n      distance,\n      formatter\n    }); //.filter(t => t.position >= 0 && t.position <= 1);\n  },\n  render() {\n    const {\n      state\n    } = this;\n\n    const nodes = [];\n    nodes.push(...this.state.concreteNodeBuilder.build({\n      settings: this.state.settings,\n      scale: this.state.pxScale,\n      innerRect: this.state.innerRect,\n      outerRect: this.state.outerRect,\n      measureText: this.renderer.measureText,\n      textBounds: this.renderer.textBounds,\n      ticks: this.state.ticks,\n      state\n    }));\n\n    crispify.multiple(nodes);\n\n    return nodes;\n  }\n};\n\nexport default axisComponent;\n","import axisComponent from './axis';\n\n/**\n * @typedef {object} component--axis\n */\n\n/**\n * @type {string}\n * @memberof component--axis\n */\n\nconst type = 'axis';\n\nexport default function axis(picasso) {\n  picasso.component(type, axisComponent);\n}\n","import extend from 'extend';\n\nfunction parseTitle(text, join, scale) {\n  let title = '';\n  if (typeof text === 'function') {\n    title = text();\n  } else if (typeof text === 'string') {\n    title = text;\n  } else if (scale) {\n    let data = scale.data();\n    const titles = (data.fields || []).map(field => field.title());\n    title = titles.join(join);\n  }\n\n  return title;\n}\n\nfunction getTextAnchor(dock, anchor) {\n  let val = 'middle';\n  if (dock === 'left') {\n    if (anchor === 'top') {\n      val = 'end';\n    } else if (anchor === 'bottom') {\n      val = 'start';\n    }\n  } else if (dock === 'right') {\n    if (anchor === 'top') {\n      val = 'start';\n    } else if (anchor === 'bottom') {\n      val = 'end';\n    }\n  } else if (anchor === 'left') {\n    val = 'start';\n  } else if (anchor === 'right') {\n    val = 'end';\n  }\n  return val;\n}\n\nfunction generateTitle({\n  title,\n  definitionSettings,\n  dock,\n  rect,\n  measureText,\n  style\n}) {\n  const struct = {\n    type: 'text',\n    text: title,\n    x: 0,\n    y: 0,\n    dx: 0,\n    dy: 0,\n    anchor: getTextAnchor(dock, definitionSettings.anchor),\n    baseline: 'alphabetical'\n  };\n\n  extend(struct, style.text);\n  const textRect = measureText(struct);\n\n  if (dock === 'top' || dock === 'bottom') {\n    let x = rect.width / 2;\n    if (definitionSettings.anchor === 'left') {\n      x = definitionSettings.paddingLeft || 0;\n    } else if (definitionSettings.anchor === 'right') {\n      x = rect.width - (definitionSettings.paddingRight || 0);\n    }\n\n    struct.x = x;\n    struct.y = dock === 'top' ? rect.height - definitionSettings.paddingStart : definitionSettings.paddingStart + textRect.height;\n    struct.dy = dock === 'top' ? -(textRect.height / 6) : -(textRect.height / 3);\n    struct.maxWidth = rect.width * 0.8;\n  } else {\n    let y = rect.height / 2;\n    if (definitionSettings.anchor === 'top') {\n      y = definitionSettings.paddingStart;\n    } else if (definitionSettings.anchor === 'bottom') {\n      y = rect.height - definitionSettings.paddingStart;\n    }\n\n    struct.y = y;\n    struct.x = dock === 'left' ? rect.width - definitionSettings.paddingStart : definitionSettings.paddingStart;\n    struct.dx = dock === 'left' ? -(textRect.height / 3) : (textRect.height / 3);\n    const rotation = dock === 'left' ? 270 : 90;\n    struct.transform = `rotate(${rotation}, ${struct.x + struct.dx}, ${struct.y + struct.dy})`;\n    struct.maxWidth = rect.height * 0.8;\n  }\n\n  if (!isNaN(definitionSettings.maxLengthPx)) {\n    struct.maxWidth = Math.min(struct.maxWidth, definitionSettings.maxLengthPx);\n  }\n\n  return struct;\n}\n\n/**\n * @typedef {object} component--text\n * @property {string} [type='text']\n * @property {string|function} text\n * @property {component--text-settings} settings - Text settings\n * @example\n * {\n *  type: 'text',\n *  text: 'my title',\n *  dock: 'left',\n *  settings: {\n *    anchor: 'left',\n *    style: {\n *      fill: 'red'\n *    }\n *  }\n * }\n */\n\n/**\n * @typedef {object} component--text-settings\n * @property {number} [paddingStart=5]\n * @property {number} [paddingEnd=5]\n * @property {number} [paddingLeft=0]\n * @property {number} [paddingRight=0]\n * @property {string} [anchor='center'] - Where to v- or h-align the text. Supports `left`, `right`, `top`, `bottom` and `center`\n * @property {string} [join=', '] - String to add when joining titles from multiple sources\n * @property {number} [maxLengthPx] - Limit the text length to this value in pixels\n */\nconst textComponent = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    layout: {\n      dock: 'bottom',\n      displayOrder: 0,\n      prioOrder: 0\n    },\n    settings: {\n      paddingStart: 5,\n      paddingEnd: 5,\n      paddingLeft: 0,\n      paddingRight: 0,\n      anchor: 'center',\n      join: ', ',\n      maxLengthPx: NaN\n    },\n    style: {\n      text: '$title'\n    }\n  },\n\n  created() {\n    this.definitionSettings = this.settings.settings;\n\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  },\n\n  preferredSize() {\n    const height = this.renderer.measureText({\n      text: this.title,\n      fontSize: this.style.text.fontSize,\n      fontFamily: this.style.text.fontFamily\n    }).height;\n    return height + this.definitionSettings.paddingStart + this.definitionSettings.paddingEnd;\n  },\n\n  render() {\n    const {\n      title,\n      definitionSettings,\n      rect\n    } = this;\n    const nodes = [];\n    nodes.push(generateTitle({\n      title,\n      dock: this.settings.layout.dock,\n      definitionSettings,\n      rect,\n      measureText: this.renderer.measureText,\n      style: this.style\n    }));\n    return nodes;\n  },\n\n  beforeUpdate(opts) {\n    if (opts.settings) {\n      extend(this.settings, opts.settings);\n      this.definitionSettings = opts.settings.settings;\n    }\n    const text = this.settings.text;\n    const join = this.definitionSettings.join;\n    this.title = parseTitle(text, join, this.scale);\n  }\n};\n\nexport default textComponent;\n","import textComponent from './text';\n\nexport default function text(picasso) {\n  picasso.component('text', textComponent);\n}\n","/**\n * @typedef {object} component--scrollbar\n * @private\n */\n\n/**\n * @typedef {object} component--scrollbar.settings\n * @property {boolean} [backgroundColor = '#eee']\n * @property {boolean} [thumbColor = '#ccc']\n * @property {boolean} [width = 16]\n */\n\nfunction start(_scrollbar, pos) {\n  const dock = _scrollbar.settings.layout.dock;\n  const invert = _scrollbar.settings.settings.invert;\n  const horizontal = dock === 'top' || dock === 'bottom';\n  const lengthAttr = horizontal ? 'width' : 'height';\n  const length = _scrollbar.rect[lengthAttr];\n  const scroll = _scrollbar.chart.scroll(_scrollbar.settings.scroll);\n  let currentMove;\n\n  { // local scope to allow reuse of variable names later\n    let offset = pos[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n\n    currentMove = {\n      startOffset: offset,\n      startScroll: scrollState.start,\n      swipe: false\n    };\n\n    // Detect swipe start outsize the thumb & change startScroll to jump the scroll there.\n    const scrollPoint = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n    if (scrollPoint < scrollState.start) {\n      currentMove.startScroll = scrollPoint;\n    } else if (scrollPoint > scrollState.start + scrollState.viewSize) {\n      currentMove.startScroll = scrollPoint - scrollState.viewSize;\n    }\n  }\n\n  const update = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    if (!currentMove.swipe) {\n      if (Math.abs(currentMove.startOffset - offset) <= 1) {\n        return;\n      }\n      currentMove.swipe = true;\n    }\n\n    const scrollState = scroll.getState();\n    const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n    const scrollStart = currentMove.startScroll + scrollMove;\n    scroll.moveTo(scrollStart);\n  };\n  const end = (p) => {\n    let offset = p[horizontal ? 'x' : 'y'];\n    if (invert) {\n      offset = length - offset;\n    }\n    const scrollState = scroll.getState();\n    if (currentMove.swipe) {\n      const scrollMove = ((offset - currentMove.startOffset) / length) * (scrollState.max - scrollState.min);\n      const scrollStart = currentMove.startScroll + scrollMove;\n      scroll.moveTo(scrollStart);\n    } else {\n      const scrollCenter = ((offset / length) * (scrollState.max - scrollState.min)) + scrollState.min;\n      const scrollStart = scrollCenter - (scrollState.viewSize / 2);\n      scroll.moveTo(scrollStart);\n    }\n  };\n\n  return {\n    update,\n    end\n  };\n}\n\nfunction getLocalPos(event, renderer) {\n  const containerRect = renderer.element().getBoundingClientRect();\n  return {\n    x: event.center.x - containerRect.left,\n    y: event.center.y - containerRect.top\n  };\n}\n\nconst scrollbarComponent = {\n  require: ['chart', 'renderer'],\n  on: {\n    panStart(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const startPos = {\n        x: pos.x - event.deltaX,\n        y: pos.y - event.deltaY\n      };\n      this.currentMove = start(this, startPos);\n      this.currentMove.update(pos);\n    },\n    panMove(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.update(pos);\n    },\n    panEnd(event) {\n      if (!this.currentMove) { return; }\n      const pos = getLocalPos(event, this.renderer);\n      this.currentMove.end(pos);\n      this.currentMove = null;\n    },\n    panCancel() {\n      this.currentMove = null;\n    },\n    tap(event) {\n      const pos = getLocalPos(event, this.renderer);\n      const move = start(this, pos);\n      move.end(pos);\n    }\n  },\n  defaultSettings: {\n    settings: {\n      backgroundColor: '#eee',\n      thumbColor: '#ccc',\n      width: 16 // 32 for touch\n    }\n  },\n\n  preferredSize: function preferredSize(rect) {\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    // hide the scrollbar if it is not possible to scroll\n    if (scrollState.viewSize >= scrollState.max - scrollState.min) {\n      const toLargeSize = Math.max(rect.width, rect.height);\n      return toLargeSize;\n    }\n    return this.settings.settings.width;\n  },\n\n  render: function render(h) {\n    const dock = this.settings.layout.dock;\n    const invert = this.settings.settings.invert;\n    const horizontal = dock === 'top' || dock === 'bottom';\n    const lengthAttr = horizontal ? 'width' : 'height';\n\n    const _rect = this.rect;\n    const length = _rect[lengthAttr];\n\n    const scrollState = this.chart.scroll(this.settings.scroll).getState();\n    let thumbStart = (length * (scrollState.start - scrollState.min)) / (scrollState.max - scrollState.min);\n    const thumbRange = (length * scrollState.viewSize) / (scrollState.max - scrollState.min);\n\n    if (invert) {\n      thumbStart = length - thumbStart - thumbRange;\n    }\n\n    return h(\n      'div',\n      {\n        style: {\n          position: 'relative',\n          width: '100%',\n          height: '100%',\n          background: this.settings.settings.backgroundColor,\n          pointerEvents: 'auto'\n        }\n      },\n      [].concat(h('div', {\n        class: 'scroller',\n        style: {\n          position: 'absolute',\n          [horizontal ? 'left' : 'top']: `${thumbStart}px`,\n          [horizontal ? 'top' : 'left']: '25%',\n          [horizontal ? 'height' : 'width']: '50%', // ${width}px\n          [lengthAttr]: `${Math.max(1, thumbRange)}px`,\n          background: this.settings.settings.thumbColor\n        }\n      }))\n    );\n  },\n\n  renderer: 'dom'\n};\n\nexport default function scrollbar(picasso) {\n  picasso.component('scrollbar', scrollbarComponent);\n}\n","const TARGET_SIZE = 5;\nconst VERTICAL = 0;\nconst HORIZONTAL = 1;\n\nexport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n};\n","import extend from 'extend';\n\nimport {\n  TARGET_SIZE,\n  VERTICAL\n} from './brush-range-const';\n\n\nfunction buildLine({\n  h, isVertical, value, pos, align, borderHit, state, idx\n}) {\n  const isAlignStart = align !== 'end';\n  const alignStart = { left: '0', top: '0' };\n  const alignEnd = { right: '0', bottom: '0' };\n  const alignStyle = isAlignStart ? alignStart : alignEnd;\n  let start = 0;\n  let width = '100%';\n  let height = '100%';\n\n  if (state.targetRect && state.settings.bubbles.align === 'start') {\n    width = `${state.targetRect.x + state.targetRect.width}px`;\n    height = `${state.targetRect.y + state.targetRect.height}px`;\n  } else if (state.targetRect && state.settings.bubbles.align === 'end') {\n    start = isVertical ? state.targetRect.x : state.targetRect.y;\n    width = `${state.rect.width - start}px`;\n    height = `${state.rect.height - start}px`;\n  }\n\n  if (!isAlignStart) {\n    pos -= borderHit;\n  }\n\n  // edge\n  return h('div', {\n    onmouseover(e) {\n      e.srcElement.children[0].style.backgroundColor = '#000';\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '2px';\n    },\n    onmouseout(e) {\n      e.srcElement.children[0].style.backgroundColor = state.style.line.stroke;\n      e.srcElement.children[0].style[isVertical ? 'height' : 'width'] = '1px';\n    },\n    'data-value': value,\n    'data-key': [state.key, 'edge', idx].join('-'),\n    style: {\n      cursor: isVertical ? 'ns-resize' : 'ew-resize',\n      position: 'absolute',\n      left: isVertical ? `${start}px` : `${pos}px`,\n      top: isVertical ? `${pos}px` : `${start}px`,\n      height: isVertical ? `${borderHit}px` : height,\n      width: isVertical ? width : `${borderHit}px`,\n      pointerEvents: 'auto'\n    }\n  }, [\n    // line\n    h('div', {\n      style: extend(\n        {\n          backgroundColor: state.style.line.stroke,\n          position: 'absolute',\n          height: isVertical ? `${1}px` : '100%',\n          width: isVertical ? '100%' : `${1}px`,\n          pointerEvents: 'none'\n        },\n        alignStyle\n      )\n    })\n  ]);\n}\n\nfunction buildBubble({\n  h, isVertical, label, otherValue, rangeIdx, idx, pos, align, state, value\n}) {\n  const isAlignStart = align !== 'end';\n  const isOutside = state.settings.bubbles.placement === 'outside';\n  let outside = 'none';\n  let bubbleDock;\n  if (isVertical) {\n    bubbleDock = isAlignStart ? 'left' : 'right';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(-100%,  0px)' : 'translate(100%,  0px)';\n    }\n  } else {\n    bubbleDock = isAlignStart ? 'top' : 'bottom';\n    if (isOutside) {\n      outside = isAlignStart ? 'translate(0px, -100%)' : 'translate(0px,  100%)';\n    }\n  }\n\n  let inEdit = state.edit && state.edit.rangeIdx === rangeIdx && state.edit.bubbleIdx === idx;\n\n  const bubbleStyle = {\n    position: 'relative',\n    borderRadius: `${state.style.bubble.borderRadius}px`,\n    border: `${state.style.bubble.strokeWidth}px solid ${state.style.bubble.stroke}`,\n    backgroundColor: state.style.bubble.fill,\n    color: state.style.bubble.color,\n    fontFamily: state.style.bubble.fontFamily,\n    fontSize: state.style.bubble.fontSize,\n    padding: '4px 8px',\n    textAlign: 'center',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    maxWidth: '150px',\n    minWidth: '50px',\n    minHeight: '1em',\n    pointerEvents: 'auto',\n    transform: isVertical ? 'translate(0,-50%)' : 'translate(-50%,0)',\n    cursor: isVertical ? 'ns-resize' : 'ew-resize'\n  };\n\n  let currentBorderColor = state.style.bubble.stroke;\n\n  const bubble = inEdit ? h('input', {\n    type: 'text',\n    value,\n    style: {\n      ...bubbleStyle,\n      textAlign: 'start',\n      textOverflow: '',\n      fontSize: '13px' // TODO - make it styleable\n    },\n    onkeyup(e) {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        e.stopPropagation();\n        const newValue = parseFloat(e.target.value);\n        if (isNaN(newValue)) {\n          currentBorderColor = 'rgba(230, 78, 78, 0.6)';\n          e.target.style.border = `${state.style.bubble.strokeWidth}px solid ${currentBorderColor}`;\n        } else {\n          state.onEditConfirmed(rangeIdx, newValue, otherValue);\n        }\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation();\n        state.onEditCanceled();\n      }\n    }\n  }) : h('div', {\n    'data-key': [state.key, 'bubble', rangeIdx].join('-'),\n    'data-other-value': otherValue,\n    'data-idx': rangeIdx,\n    'data-bidx': idx,\n    style: bubbleStyle\n  }, [label]);\n\n  // bubble wrapper\n  return h('div', {\n    style: {\n      position: 'absolute',\n      [bubbleDock]: '0',\n      [isVertical ? 'top' : 'left']: `${pos}px`,\n      transform: outside\n    }\n  }, [\n    // bubble\n    bubble\n  ]);\n}\n\nfunction buildArea({\n  h, isVertical, top, height, color, on, opacity\n}) {\n  return h('div', extend({\n    style: {\n      backgroundColor: color,\n      opacity,\n      position: 'absolute',\n      left: isVertical ? 0 : `${top}px`,\n      top: isVertical ? `${top}px` : 0,\n      height: isVertical ? `${height}px` : '100%',\n      width: isVertical ? '100%' : `${height}px`,\n      pointerEvents: 'auto'\n    }\n  }, on), []);\n}\n\nexport default function buildRange({\n  borderHit, els, isVertical, state, vStart, vEnd, idx\n}) {\n  let targetOffset = 0;\n  if (state.targetRect) {\n    targetOffset = isVertical ? state.targetRect.y : state.targetRect.x;\n  }\n  const hasScale = !!state.scale;\n  const start = hasScale ? state.scale.norm(vStart) * state.size : vStart;\n  const end = hasScale ? state.scale.norm(vEnd) * state.size : vEnd;\n  const height = Math.abs(start - end);\n  const top = Math.min(start, end) + targetOffset;\n  const bottom = top + height;\n\n  if (state.targetRect) {\n    const target = state.targetFillRect || state.targetRect;\n    const targetSize = isVertical ? target.height : target.width;\n    const targetStart = hasScale ? state.scale.norm(vStart) * targetSize : vStart;\n    const targetEnd = hasScale ? state.scale.norm(vEnd) * targetSize : vEnd;\n    const targetHeight = Math.abs(targetStart - targetEnd);\n    const targetTop = Math.min(targetStart, targetEnd);\n    const targetArea = {\n      h: state.h,\n      isVertical,\n      top: targetTop,\n      height: targetHeight,\n      color: state.style.target.fill,\n      opacity: state.style.target.opacity\n    };\n    if (state.style.target.opacity < 0.8) {\n      targetArea.on = {\n        onmouseover(e) {\n          e.srcElement.style.opacity = state.style.target.opacity + 0.1;\n        },\n        onmouseout(e) {\n          e.srcElement.style.opacity = state.style.target.opacity;\n        }\n      };\n    }\n    els.push(state.h('div', {\n      style: {\n        position: 'absolute',\n        left: `${target.x}px`,\n        top: `${target.y}px`,\n        height: `${target.height}px`,\n        width: `${target.width}px`\n      }\n    }, [\n      buildArea(targetArea)\n    ]));\n  }\n\n  // active range area\n  // els.push(buildArea({\n  //   h: state.h,\n  //   isVertical,\n  //   top,\n  //   height,\n  //   color: state.settings.fill\n  // }));\n\n  const valStart = start < end ? vStart : vEnd;\n  const valEnd = start < end ? vEnd : vStart;\n  const [min, max] = hasScale ? state.scale.domain() : [Math.min(vStart, vEnd), Math.max(vStart, vEnd)];\n\n  const isStartVisible = valStart + 1e-5 >= min && valStart - 1e-5 <= max; // accept minor floating point difference\n  const isEndVisible = valEnd - 1e-5 <= max && valEnd + 1e-5 >= min;\n\n  if (isStartVisible) {\n    els.push(buildLine({\n      h: state.h,\n      isVertical,\n      borderHit,\n      value: valStart,\n      pos: top,\n      align: 'start',\n      state,\n      idx\n    }));\n  }\n\n  if (isEndVisible) {\n    els.push(buildLine({\n      h: state.h,\n      isVertical,\n      borderHit,\n      value: valEnd,\n      pos: bottom,\n      align: 'end',\n      state,\n      idx\n    }));\n  }\n\n  const bubbles = state.settings.bubbles;\n  if (bubbles && bubbles.show) {\n    const fontSize = bubbles.fontSize;\n    const fontFamily = bubbles.fontFamily;\n    const fill = bubbles.fill;\n    const style = {\n      fontSize,\n      fontFamily,\n      color: fill\n    };\n\n    const range = [vStart, vEnd];\n\n    if (isStartVisible) {\n      els.push(buildBubble({\n        h: state.h,\n        isVertical,\n        align: bubbles.align,\n        style,\n        rangeIdx: idx,\n        idx: 0,\n        otherValue: valEnd,\n        value: valStart,\n        label: `${state.format(valStart, range)}`,\n        pos: top,\n        state\n      }));\n    }\n\n    if (isEndVisible) {\n      els.push(buildBubble({\n        h: state.h,\n        isVertical,\n        align: bubbles.align,\n        style,\n        rangeIdx: idx,\n        idx: 1,\n        otherValue: valStart,\n        value: valEnd,\n        label: `${state.format(valEnd, range)}`,\n        pos: bottom,\n        state\n      }));\n    }\n  }\n}\n\nexport function getMoveDelta(state) {\n  const posDelta = state.active.limitHigh - state.active.end;\n  const negDelta = state.active.limitLow - state.active.start;\n  let delta = state.current - state.start;\n  if (delta < 0) {\n    delta = Math.max(delta, negDelta);\n  } else {\n    delta = Math.min(delta, posDelta);\n  }\n\n  return delta;\n}\n\nexport function nodes(state) {\n  let els = [];\n\n  const isVertical = state.direction === VERTICAL;\n\n  if (Array.isArray(state.ranges)) {\n    // add all other ranges\n    state.ranges.forEach((r, i) => {\n      if (!state.active || i !== state.active.idx) {\n        buildRange({\n          borderHit: TARGET_SIZE,\n          els,\n          isVertical,\n          state,\n          vStart: Math.min(r.min, r.max),\n          vEnd: Math.max(r.min, r.max),\n          idx: i\n        });\n      }\n    });\n  }\n\n  if (state.active) {\n    // add active range\n    let vStart = state.start;\n    let vEnd = state.current;\n    if (state.active.idx !== -1) {\n      if (state.active.mode === 'foo') {\n        vStart = Math.min(state.active.start, state.active.end);\n        vEnd = Math.max(state.active.start, state.active.end);\n      } else if (state.active.mode === 'modify') {\n        vStart = Math.min(state.start, state.current);\n        vEnd = Math.max(state.start, state.current);\n      } else {\n        const delta = getMoveDelta(state);\n        vStart = state.active.start + delta;\n        vEnd = state.active.end + delta;\n      }\n    }\n\n    buildRange({\n      borderHit: TARGET_SIZE,\n      els,\n      isVertical,\n      state,\n      vStart,\n      vEnd,\n      idx: state.active.idx\n    });\n  }\n\n  return els;\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\nfunction rangelimits(state) {\n  return {\n    min: state.scale.min(),\n    max: state.scale.max()\n  };\n}\n\nfunction areaLimits(state) {\n  return {\n    min: 0,\n    max: state.direction ? state.rect.width : state.rect.height\n  };\n}\n\nfunction findActive(state, value, limits) {\n  let rs = state.ranges;\n  let i;\n  let activeIdx = -1;\n  for (i = 0; i < rs.length; i++) {\n    if (rs[i].min <= value && value <= rs[i].max) {\n      activeIdx = i;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n      break;\n    } else if (value < rs[i].min) {\n      limits.max = rs[i].min;\n      limits.min = i ? rs[i - 1].max : limits.min;\n      break;\n    }\n  }\n  if (activeIdx === -1 && rs.length && i >= rs.length) {\n    limits.min = rs[rs.length - 1].max;\n  }\n\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'foo'\n    };\n  }\n  state.active = activeRange;\n}\n\nexport function startArea({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = renderer.element().getBoundingClientRect();\n  state.ranges = ranges(state);\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  let v = relStart;\n  let vStart = startPoint;\n\n  tempState.start = startPoint;\n  tempState.current = relStart;\n\n  let rs = state.ranges;\n  const limits = areaLimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= vStart && vStart <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (vStart < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = 0;\n    limits.max = state.direction ? state.rect.width : state.rect.height;\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = activeRange.start;\n      let pxEnd = activeRange.end;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: vStart,\n      end: v,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach(key => (state[key] = tempState[key]));\n  }\n}\n\nexport function start({\n  state, e, renderer, ranges, targetSize\n}) {\n  if (state.started) {\n    return;\n  }\n  state.edit = null;\n  const x = (e.center.x - e.deltaX);\n  const y = (e.center.y - e.deltaY);\n  let target = document.elementFromPoint(x, y);\n  if (!renderer.element().contains(target)) {\n    target = null;\n  }\n\n  const tempState = {\n    started: true\n  };\n\n  state.offset = extend({}, renderer.element().getBoundingClientRect());\n  const relX = x - state.offset.left; // coordinate relative renderer\n  const relY = y - state.offset.top;\n  state.offset.left += state.targetRect ? state.targetRect.x : 0; // make offset relative to targetRect\n  state.offset.top += state.targetRect ? state.targetRect.y : 0;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const startPoint = (e.center[state.cssCoord.coord] - e[state.cssCoord.pos]) - state.offset[state.cssCoord.offset];\n  const relStart = (e.center[state.cssCoord.coord]) - state.offset[state.cssCoord.offset];\n  tempState.current = state.scale.normInvert(relStart / state.size);\n  tempState.start = state.scale.normInvert(startPoint / state.size);\n\n  let rs = state.ranges;\n  const limits = rangelimits(state);\n  let i;\n  let activeIdx = -1;\n  if (target && target.hasAttribute('data-idx')) {\n    activeIdx = parseInt(target.getAttribute('data-idx'), 10);\n    limits.min = activeIdx > 0 ? rs[activeIdx - 1].max : limits.min;\n    limits.max = activeIdx + 1 < rs.length ? rs[activeIdx + 1].min : limits.max;\n  } else {\n    for (i = 0; i < rs.length; i++) {\n      if (rs[i].min <= tempState.start && tempState.start <= rs[i].max) {\n        activeIdx = i;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        limits.max = i + 1 < rs.length ? rs[i + 1].min : limits.max;\n        break;\n      } else if (tempState.start < rs[i].min) {\n        limits.max = rs[i].min;\n        limits.min = i ? rs[i - 1].max : limits.min;\n        break;\n      }\n    }\n    if (activeIdx === -1 && rs.length && i >= rs.length) {\n      limits.min = rs[rs.length - 1].max;\n    }\n  }\n\n  if (activeIdx === -1 && !state.multi) {\n    tempState.ranges = [];\n    limits.min = state.scale.min();\n    limits.max = state.scale.max();\n  }\n  let activeRange;\n\n  if (activeIdx !== -1) {\n    activeRange = {\n      idx: activeIdx,\n      start: rs[activeIdx].min,\n      end: rs[activeIdx].max,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'move'\n    };\n\n    if (target && target.hasAttribute('data-other-value')) {\n      tempState.start = parseFloat(target.getAttribute('data-other-value'));\n      activeRange.mode = 'modify';\n    } else {\n      let pxStart = state.scale.norm(activeRange.start) * state.size;\n      let pxEnd = state.scale.norm(activeRange.end) * state.size;\n      if (Math.abs(startPoint - pxStart) <= targetSize) {\n        tempState.start = activeRange.end;\n        activeRange.mode = 'modify';\n      } else if (Math.abs(startPoint - pxEnd) <= targetSize) {\n        tempState.start = activeRange.start;\n        activeRange.mode = 'modify';\n      }\n    }\n  } else {\n    activeRange = {\n      idx: -1,\n      start: tempState.start,\n      end: tempState.current,\n      limitLow: limits.min,\n      limitHigh: limits.max,\n      mode: 'current'\n    };\n  }\n\n  tempState.active = activeRange;\n\n  if (activeRange.mode !== 'modify' && state.targetRect && !testRectPoint(state.targetRect, { x: relX, y: relY })) {\n    // do nothing\n  } else {\n    Object.keys(tempState).forEach(key => (state[key] = tempState[key]));\n  }\n}\nexport function end(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state, state.fauxBrushInstance || state.brushInstance);\n  const limits = rangelimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function endArea(state, ranges) {\n  state.started = false;\n  state.ranges = ranges(state);\n  const limits = areaLimits(state);\n  findActive(state, state.current, limits);\n}\n\nexport function move(state, e) {\n  const relY = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n  const rel = relY / state.size;\n  const v = state.scale.normInvert(rel);\n  state.current = Math.max(Math.min(v, state.active.limitHigh), state.active.limitLow);\n}\n\nexport function moveArea(state, e) {\n  const rel = e.center[state.cssCoord.coord] - state.offset[state.cssCoord.offset];\n\n  state.current = Math.max(Math.min(rel, state.active.limitHigh), state.active.limitLow);\n}\n","import {\n  nodes,\n  getMoveDelta\n} from './brush-range-node-builder';\nimport { start, end, move } from './brush-range-interaction';\nimport linear from '../../../core/scales/linear';\nimport { scaleWithSize } from '../../../core/scales';\nimport brushFactory from '../../../core/brush';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\nimport {\n  pointsToRect,\n  rectToPoints\n} from '../../../core/geometry/util';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state, brush) {\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map(field => field.id());\n  const rangeBrush = brush.brushes().filter(f => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction setRanges(state) {\n  let rs = state.ranges.map(r => ({ min: r.min, max: r.max }));\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min += delta;\n      rs[state.active.idx].max += delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  const scaleData = state.scale.data();\n  if (scaleData && scaleData.fields) {\n    scaleData.fields.forEach((field) => {\n      if (state.fauxBrushInstance) {\n        let ordRS = ranges(state, state.fauxBrushInstance);\n        let oldValues = state.findValues(ordRS);\n        let values = state.findValues(rs);\n\n        let addedValues = values.filter(v => oldValues.indexOf(v) === -1);\n        let removedValues = oldValues.filter(v => values.indexOf(v) === -1);\n\n        let addItems = addedValues.map(v => ({ key: field.id(), value: v }));\n        let removeItems = removedValues.map(v => ({ key: field.id(), value: v }));\n\n        state.brushInstance.addAndRemoveValues(addItems, removeItems);\n\n        state.fauxBrushInstance.setRange(field.id(), rs);\n      } else {\n        state.brushInstance.setRange(field.id(), rs);\n      }\n    });\n  }\n}\n\nfunction setEditedRanges(state, idx, startValue, endValue) {\n  let rs = state.ranges.map(r => ({ min: r.min, max: r.max }));\n  const limitMin = state.scale.min();\n  const limitMax = state.scale.max();\n  rs[idx] = { min: Math.max(limitMin, Math.min(startValue, endValue)), max: Math.min(limitMax, Math.max(startValue, endValue)) };\n  state.ranges[idx] = { ...rs[idx] };\n\n  const scaleData = state.scale.data();\n  if (scaleData && scaleData.fields) {\n    scaleData.fields.forEach((field) => {\n      if (!state.fauxBrushInstance) {\n        state.brushInstance.setRange(field.id(), rs);\n      }\n    });\n  }\n}\n\nfunction findClosest(value, scale) {\n  let name;\n  let minDist = Infinity;\n  const domain = scale.domain();\n  const halfBandwidth = scale.bandwidth() / 2;\n  for (let i = 0; i < domain.length; ++i) {\n    const d = Math.abs(value - halfBandwidth - scale(domain[i]));\n    if (d < minDist) {\n      minDist = d;\n      name = domain[i];\n    }\n  }\n  return name;\n}\n\nfunction findClosestLabel(value, scale) {\n  const ticks = scale.ticks();\n  const idx = scale.domain().indexOf(findClosest(value, scale));\n  return idx !== -1 ? ticks[idx].label : '-';\n}\n\nfunction rangesOverlap(r1, r2) {\n  return Math.min(...r1) <= Math.max(...r2) && Math.max(...r1) >= Math.min(...r2);\n}\n\nfunction findValues(rangesValues, scale) {\n  const domain = scale.domain();\n  const scaleRange = scale.range();\n  const values = [];\n  rangesValues.forEach((range) => {\n    if (!rangesOverlap(scaleRange, [range.min, range.max])) {\n      return;\n    }\n    const startIdx = domain.indexOf(findClosest(range.min, scale));\n    const endIdx = domain.indexOf(findClosest(range.max, scale));\n    values.push.apply(values, domain.slice(Math.min(startIdx, endIdx), Math.max(startIdx, endIdx) + 1)); /* eslint prefer-spread:0 */\n  });\n\n  return values;\n}\n\nfunction resolveNodeBounds(targetNodes) {\n  const points = targetNodes.reduce((ary, node) => {\n    ary.push(...rectToPoints(node.bounds));\n    return ary;\n  }, []);\n  return pointsToRect(points);\n}\n\nfunction resolveTarget(ctx) {\n  const resolved = {\n    targetRect: null,\n    targetFillRect: null,\n    scale: null,\n    size: null\n  };\n  const stngs = ctx.settings.settings;\n  const targets = stngs.target && (stngs.target.components || (stngs.target.component ? [stngs.target.component] : []))\n    .map(c => ctx.chart.component(c)).filter(c => !!c && !!c.rect);\n  const targetNodes = stngs.target && stngs.target.selector ? ctx.chart.findShapes(stngs.target.selector) : [];\n  const targetFillNodes = stngs.target && stngs.target.fillSelector ? ctx.chart.findShapes(stngs.target.fillSelector) : [];\n  if (targetNodes.length > 0) {\n    const bounds = resolveNodeBounds(targetNodes);\n    resolved.size = bounds[ctx.state.direction === VERTICAL ? 'height' : 'width'];\n    resolved.scale = scaleWithSize(ctx.chart.scale(stngs.scale), resolved.size);\n    resolved.targetRect = bounds;\n    if (targetFillNodes.length > 0) {\n      const fillBounds = resolveNodeBounds(targetFillNodes);\n      resolved.targetFillRect = fillBounds;\n    }\n  } else if (targets && targets.length > 0) {\n    const targetRect = targets.slice(1).reduce((prev, curr) => ({\n      x0: Math.min(prev.x0, curr.rect.computedInner.x),\n      y0: Math.min(prev.y0, curr.rect.computedInner.y),\n      x1: Math.max(prev.x1, curr.rect.computedInner.x + curr.rect.computedInner.width),\n      y1: Math.max(prev.y1, curr.rect.computedInner.y + curr.rect.computedInner.height)\n    }), {\n      x0: targets[0].rect.computedInner.x,\n      y0: targets[0].rect.computedInner.y,\n      x1: targets[0].rect.computedInner.x + targets[0].rect.computedInner.width,\n      y1: targets[0].rect.computedInner.y + targets[0].rect.computedInner.height\n    });\n\n    resolved.targetRect = {\n      x: targetRect.x0 - ctx.state.rect.x,\n      y: targetRect.y0 - ctx.state.rect.y,\n      width: targetRect.x1 - targetRect.x0,\n      height: targetRect.y1 - targetRect.y0\n    };\n  }\n\n  return resolved;\n}\n\n/**\n * @typedef {object} component--brush-range-settings\n * @property {string|object} brush - Brush context to apply changes to\n * @property {string} scale - Scale to extract data from\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {function} [bubbles.label] - Callback function for the labels\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component. @deprecated Use `components` instead\n * @property {string[]} [target.components] - Render matching overlay on target components\n * @property {string} [target.selector] - Instead of targeting a component, target one or more shapes\n * @property {string} [target.fillSelector] - Target a subset of the selector as fill area. Only applicable if `selector` property is set\n */\n\n/**\n * @typedef {object} component--brush-range-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushRangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    rangeStart(e) { this.start(e); },\n    rangeMove(e) { this.move(e); },\n    rangeEnd(e) { this.end(e); },\n    rangeClear(e) { this.clear(e); },\n    bubbleStart(e) { this.bubbleStart(e); }\n  },\n  created() {\n    this.state = {\n      key: this.settings.key || 'brush-range'\n    };\n  },\n  beforeRender(opts) {\n    this.state.rect = opts.size.computedInner;\n  },\n  renderRanges() {\n    if (!this.state.started) {\n      this.state.ranges = ranges(this.state, this.state.brushInstance);\n      this.state.active = null;\n      render(this.state);\n    }\n  },\n  render(h) {\n    const stngs = this.settings.settings;\n    this.state.direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const offset = this.renderer.element().getBoundingClientRect();\n    const size = this.state.rect[this.state.direction === VERTICAL ? 'height' : 'width'];\n    let scale = scaleWithSize(this.chart.scale(stngs.scale), size);\n\n    const target = resolveTarget(this);\n    scale = target.scale ? target.scale : scale;\n    this.state.targetRect = target.targetRect;\n    this.state.targetFillRect = target.targetFillRect;\n    this.state.size = target.size === null ? size : target.size;\n\n    this.state.settings = stngs;\n    this.state.style = this.style;\n    this.state.offset = offset;\n    this.state.brush = typeof stngs.brush === 'object' ? stngs.brush.context : stngs.brush;\n    this.state.brushInstance = this.chart.brush(this.state.brush);\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.onEditConfirmed = (rangeIdx, value, otherValue) => {\n      this.state.edit = null;\n      setEditedRanges(this.state, rangeIdx, value, otherValue);\n      this.emit('bubbleEnd');\n      render(this.state);\n    };\n    this.state.onEditCanceled = () => {\n      this.state.edit = null;\n      render(this.state);\n    };\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX'\n    };\n    this.state.format = typeof stngs.bubbles.label === 'function' ? (v, r) => stngs.bubbles.label.call(undefined, {\n      datum: v,\n      data: r,\n      scale,\n      resources: {\n        scale: this.chart.scale,\n        formatter: this.chart.formatter\n      }\n    }) : false;\n\n    if (!{}.hasOwnProperty.call(scale, 'norm')) { // Non-linear scale if norm method is unavailable\n      this.state.editable = false;\n      this.state.scale = linear();\n      this.state.scale.data = scale.data;\n      if (!this.state.format) {\n        this.state.format = (v, r) => {\n          if (!rangesOverlap(scale.range(), r)) {\n            return '-';\n          }\n          return findClosestLabel(v, scale);\n        };\n      }\n      this.state.fauxBrushInstance = brushFactory();\n      this.state.findValues = valueRanges => findValues(valueRanges, scale);\n    } else {\n      this.state.editable = true;\n      this.state.observeBrush = typeof stngs.brush === 'object' ? stngs.brush.observe : false;\n      this.state.fauxBrushInstance = null;\n      this.state.findValues = null;\n      this.state.scale = scale;\n      const scaleData = this.state.scale.data();\n      if (!this.state.format && scaleData && scaleData.fields && scaleData.fields[0]) {\n        this.state.format = scaleData.fields[0].formatter();\n      }\n    }\n\n    this.state.ranges = ranges(this.state, this.state.brushInstance);\n\n    return (this.state.observeBrush || this.state.sourcedFromThisComponent) ? [nodes(this.state)] : [];\n  },\n  mounted() {\n    if (this.state.observeBrush && this.state.brushInstance) {\n      this.state.brushInstance.on('update', this.renderRanges);\n    }\n  },\n  beforeDestroy() {\n    if (this.state.observeBrush && this.state.brushInstance) {\n      this.state.brushInstance.removeListener('update', this.renderRanges);\n    }\n  },\n  start(e) {\n    start({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    end(this.state, ranges);\n    render(this.state);\n    this.state.sourcedFromThisComponent = true;\n    this.state.active = null;\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    move(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.fauxBrushInstance) {\n      this.state.fauxBrushInstance.clear();\n    }\n    this.state.renderer.render([]);\n    this.state.started = false;\n    this.state.active = null;\n    this.state.sourcedFromThisComponent = false;\n  },\n  bubbleStart(e) {\n    if (!this.state.editable) {\n      return;\n    }\n    const ee = e.srcEvent || e;\n\n    const target = ee.target;\n    const ed = {\n      rangeIdx: parseInt(target.getAttribute('data-idx'), 10),\n      bubbleIdx: parseInt(target.getAttribute('data-bidx'), 10)\n    };\n    if (isNaN(ed.rangeIdx) || JSON.stringify(ed) === JSON.stringify(this.state.edit)) {\n      return;\n    }\n    this.state.edit = ed;\n\n    ee.stopPropagation();\n    ee.stopImmediatePropagation();\n    ee.preventDefault();\n\n    const wrapper = target.parentNode;\n\n    render(this.state);\n    const inputEl = wrapper.querySelector('input');\n    inputEl.focus();\n    inputEl.select();\n  }\n};\n\nexport default brushRangeComponent;\n","import {\n  getMoveDelta,\n  nodes\n} from './brush-range-node-builder';\nimport {\n  startArea,\n  moveArea,\n  endArea\n} from './brush-range-interaction';\nimport rangeCollection from '../../../core/brush/range-collection';\nimport {\n  TARGET_SIZE,\n  VERTICAL,\n  HORIZONTAL\n} from './brush-range-const';\n\nfunction render(state) {\n  state.renderer.render(nodes(state));\n}\n\nfunction ranges(state) {\n  return state.rc.ranges();\n}\n\nfunction shapesFromRange(state, brushRange) {\n  const shapeAt = {\n    x: state.direction ? brushRange.min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : brushRange.min + state.rect.y,\n    width: state.direction ? brushRange.max - brushRange.min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : brushRange.max - brushRange.min\n  };\n  return state.chart.shapesAt(shapeAt, state.settings.brush);\n}\n\nfunction brushFromShape(state, newShapes) {\n  state.chart.brushFromShapes(newShapes, state.settings.brush);\n}\n\nfunction setRanges(state) {\n  const rs = state.ranges.map(r => ({ min: r.min, max: r.max }));\n\n  if (state.active.idx !== -1) {\n    if (state.active.mode === 'modify') {\n      rs[state.active.idx].min = Math.min(state.start, state.current);\n      rs[state.active.idx].max = Math.max(state.start, state.current);\n    } else {\n      const delta = getMoveDelta(state);\n      rs[state.active.idx].min = state.active.start + delta;\n      rs[state.active.idx].max = state.active.end + delta;\n    }\n  } else {\n    rs.push({\n      min: Math.min(state.start, state.current),\n      max: Math.max(state.start, state.current)\n    });\n  }\n\n  state.rc.set(rs);\n\n  const shapes = [];\n  rs.forEach((range) => {\n    shapes.push(...shapesFromRange(state, range));\n  });\n\n  brushFromShape(state, shapes);\n}\n\nfunction getBubbleLabel(state, value, range) {\n  const min = Math.min(...range);\n  const max = Math.max(...range);\n  const shapeAt = {\n    x: state.direction ? min + state.rect.x : state.rect.x,\n    y: state.direction ? state.rect.y : min + state.rect.y,\n    width: state.direction ? max - min : state.rect.width + state.rect.x,\n    height: state.direction ? state.rect.height + state.rect.y : max - min\n  };\n\n  const shapes = state.chart.shapesAt(shapeAt, state.settings.brush);\n\n  if (shapes.length === 0) {\n    return '-';\n  }\n\n  const labelShape = shapes.reduce((s0, s1) => {\n    // Min value\n    const bounds0 = s0.bounds;\n    const bounds1 = s1.bounds;\n\n    if (value === min) {\n      if (bounds0[state.cssCoord.coord] <= bounds1[state.cssCoord.coord]) {\n        return s0;\n      }\n      return s1;\n    }\n\n    // Max value\n    if (bounds0[state.cssCoord.coord] + bounds0[state.cssCoord.area] >= bounds1[state.cssCoord.coord] + bounds1[state.cssCoord.area]) {\n      return s0;\n    }\n    return s1;\n  });\n\n  const compConfig = state.settings.brush.components.reduce((c0, c1) => (c0.key === labelShape.key ? c0 : c1));\n\n  if (typeof state.settings.bubbles.label === 'function') {\n    return state.settings.bubbles.label(labelShape.data);\n  }\n  if (Array.isArray(compConfig.data) && compConfig.data.length) {\n    return labelShape.data[compConfig.data[0]].label;\n  }\n\n  return labelShape.data && labelShape.data.label ? labelShape.data.label : '-';\n}\n\n/**\n * @typedef {object} component--brush-area-dir-settings\n * @property {object} brush\n * @property {array} brush.components\n * @property {object} brush.components[].key - Component key\n * @property {object} brush.components[].contexts[] - Brush context to apply changes to\n * @property {object} [brush.components[].data] - Data reference\n * @property {object} [brush.components[].action] - Type of brush action\n * @property {string} [direction=vertical] - Rendering direction [horizontal|vertical]\n * @property {object} [bubbles]\n * @property {boolean} [bubbles.show=true] - True to show label bubble, false otherwise\n * @property {string} [bubbles.align=start] - Where to anchor bubble [start|end]\n * @property {function} [bubbles.label] - Callback function for the labels\n * @property {object} [target]\n * @property {string} [target.component] - Render matching overlay on target component. @deprecated Use `components` instead\n * @property {string[]} [target.components] - Render matching overlay on target components\n */\n\n/**\n * @typedef {object} component--brush-area-dir-style\n * @property {object} [bubble]\n * @property {string} [bubble.fontSize]\n * @property {string} [bubble.fontFamily]\n * @property {string} [bubble.fill]\n * @property {string} [bubble.color]\n * @property {string} [bubble.stroke]\n * @property {number} [bubble.strokeWidth]\n * @property {number} [bubble.borderRadius]\n * @property {object} [line]\n * @property {string} [line.stroke]\n * @property {number} [line.strokeWidth]\n * @property {object} [target]\n * @property {string} [target.fill]\n * @property {number} [target.strokeWidth]\n * @property {number} [target.opacity]\n */\n\nconst brushAreaDirectionalComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {\n      bubbles: {\n        show: true,\n        align: 'start'\n      }\n    },\n    style: {\n      bubble: '$label-overlay',\n      line: '$shape-guide--inverted',\n      target: '$selection-area-target'\n    }\n  },\n  renderer: 'dom',\n  on: {\n    areaStart(e) { this.start(e); },\n    areaMove(e) { this.move(e); },\n    areaEnd(e) { this.end(e); },\n    areaClear(e) { this.clear(e); }\n  },\n  created() {\n    this.state = {\n      key: this.settings.key || 'brush-area-dir'\n    };\n  },\n  render(h) {\n    this.state.rect = this.rect;\n\n    const stngs = this.settings.settings;\n    const direction = stngs.direction === 'vertical' ? VERTICAL : HORIZONTAL;\n    const size = this.state.rect[direction === VERTICAL ? 'height' : 'width'];\n    const offset = this.renderer.element().getBoundingClientRect();\n\n    const targets = (stngs.target ? stngs.target.components || [stngs.target.component] : [])\n      .map(c => this.chart.component(c)).filter(c => !!c && !!c.rect);\n\n    const targetRect = targets[0] ? targets.slice(1).reduce((prev, curr) => ({\n      x0: Math.min(prev.x0, curr.rect.x),\n      y0: Math.min(prev.y0, curr.rect.y),\n      x1: Math.max(prev.x1, curr.rect.x + curr.rect.width),\n      y1: Math.max(prev.y1, curr.rect.y + curr.rect.height)\n    }), {\n      x0: targets[0].rect.x,\n      y0: targets[0].rect.y,\n      x1: targets[0].rect.x + targets[0].rect.width,\n      y1: targets[0].rect.y + targets[0].rect.height\n    }) : null;\n\n    this.state.targetRect = targetRect ? {\n      x: targetRect.x0 - this.rect.x,\n      y: targetRect.y0 - this.rect.y,\n      width: targetRect.x1 - targetRect.x0,\n      height: targetRect.y1 - targetRect.y0\n    } : null;\n\n    this.state.style = this.style;\n    this.state.chart = this.chart;\n    this.state.direction = direction;\n    this.state.settings = stngs;\n    this.state.offset = offset;\n    this.state.rc = rangeCollection();\n    this.state.renderer = this.renderer;\n    this.state.multi = !!stngs.multiple;\n    this.state.h = h;\n    this.state.size = size;\n    this.state.cssCoord = {\n      offset: this.state.direction === VERTICAL ? 'top' : 'left',\n      coord: this.state.direction === VERTICAL ? 'y' : 'x',\n      pos: this.state.direction === VERTICAL ? 'deltaY' : 'deltaX',\n      area: this.state.direction === VERTICAL ? 'height' : 'width'\n    };\n\n    this.state.format = function getFormat(v, r) {\n      return getBubbleLabel(this, v, r);\n    };\n\n    return [];\n  },\n  start(e) {\n    startArea({\n      e,\n      state: this.state,\n      renderer: this.renderer,\n      ranges,\n      targetSize: TARGET_SIZE\n    });\n  },\n  end() {\n    if (!this.state.started) {\n      return;\n    }\n    endArea(this.state, ranges);\n    render(this.state);\n  },\n  move(e) {\n    if (!this.state.started) {\n      return;\n    }\n    moveArea(this.state, e);\n    setRanges(this.state);\n    render(this.state);\n  },\n  clear() {\n    if (this.state.rc) {\n      this.state.rc.clear();\n    }\n    this.state.renderer.render([]);\n  }\n};\n\nexport default brushAreaDirectionalComponent;\n","import rangeBrushComponent from './brush-range';\nimport brushAreaDirectionalComponent from './brush-area-dir';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('brush-range', rangeBrushComponent);\n  picasso.component('brush-area-dir', brushAreaDirectionalComponent);\n}\n","import { scaleWithSize } from '../../scales';\n\nconst FILL = '#ccc';\nconst OPACITY = 1;\n\nfunction ranges(state) {\n  const brush = state.brush;\n  if (!brush || !brush.isActive()) {\n    return [];\n  }\n\n  const sourceData = state.scale.data();\n  const sourceFields = sourceData ? sourceData.fields || [] : [];\n  const sources = sourceFields.map(field => field.id());\n  const rangeBrush = brush.brushes().filter(f => f.type === 'range' && sources.indexOf(f.id) !== -1)[0];\n\n  if (!rangeBrush) {\n    return [];\n  }\n\n  return rangeBrush.brush.ranges();\n}\n\nfunction shapes(state) {\n  const isVertical = state.direction === 'vertical';\n  const size = state.rect[isVertical ? 'height' : 'width'];\n  const otherSize = state.rect[isVertical ? 'width' : 'height'];\n  return ranges(state).map((range) => {\n    const start = state.scale(range.min) * size;\n    const end = state.scale(range.max) * size;\n    const low = Math.min(start, end);\n    const s = Math.abs(start - end);\n    return {\n      type: 'rect',\n      fill: state.fill,\n      opacity: state.opacity,\n      x: isVertical ? 0 : low,\n      width: isVertical ? otherSize : s,\n      y: isVertical ? low : 0,\n      height: isVertical ? s : otherSize\n    };\n  });\n}\n\nfunction onStart(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onUpdate(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction onEnd(state) {\n  state.renderer.render(shapes(state));\n}\n\nfunction setup(state, brush, scale, renderer) {\n  state.brush = brush;\n\n  if (!brush) {\n    return;\n  }\n\n  function start() {\n    onStart(state);\n  }\n\n  function update() {\n    onUpdate(state);\n  }\n\n  function end() {\n    onEnd(state);\n  }\n\n  brush.on('start', start);\n  brush.on('update', update);\n  brush.on('end', end);\n\n  state.start = start;\n  state.update = update;\n  state.end = end;\n  state.brush = brush;\n  state.scale = scale;\n  state.renderer = renderer;\n}\n\nfunction teardown(state) {\n  if (state.brush) {\n    state.brush.removeListener('start', state.start);\n    state.brush.removeListener('update', state.update);\n    state.brush.removeListener('end', state.end);\n  }\n\n  state.start = undefined;\n  state.update = undefined;\n  state.end = undefined;\n  state.brush = undefined;\n  state.scale = undefined;\n  state.renderer = undefined;\n}\n\n/**\n * @typedef {object} component--range\n */\n\n/**\n * @typedef {object} component--range.settings\n * @property {string} brush - Name of brush instance\n * @property {string} scale - Name of a scale\n * @property {string} [direction='horizontal'] - Direction of the brush\n * @property {string} [fill='#ccc'] - Fill color\n * @property {number} [opacity=1] - Layer opacity\n */\n\nconst rangeComponent = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    settings: {}\n  },\n  preferredSize: () => 50,\n  created() {\n    this.state = {};\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const brush = this.chart.brush(stngs.brush);\n    const direction = stngs.direction || 'horizontal';\n    const distance = direction === 'horizontal' ? this.rect.width : this.rect.height;\n    const scale = scaleWithSize(this.chart.scale(stngs.scale), distance);\n\n    teardown(this.state);\n    setup(this.state, brush, scale, this.renderer);\n\n    this.state.rect = this.rect;\n    this.state.fill = stngs.fill || FILL;\n    this.state.opacity = typeof stngs.opacity !== 'undefined' ? stngs.opacity : OPACITY;\n    this.state.direction = direction;\n\n    return shapes(this.state);\n  },\n  beforeDestroy() {\n    teardown(this.state);\n  }\n};\n\nexport default rangeComponent;\n","import rangeBrushComponent from './range';\n\nexport default function rangeBrush(picasso) {\n  picasso.component('range', rangeBrushComponent);\n}\n","import { sqrDistance } from '../../math/vector';\n\nfunction getPoint(rendererBounds, event) {\n  const eventOffsetX = event.center.x;\n  const eventOffsetY = event.center.y;\n  return {\n    x: eventOffsetX - rendererBounds.left,\n    y: eventOffsetY - rendererBounds.top\n  };\n  // return {\n  //   x: Math.min(Math.max(eventOffsetX - rendererBounds.left, 0), rendererBounds.width),\n  //   y: Math.min(Math.max(eventOffsetY - rendererBounds.top, 0), rendererBounds.height)\n  // };\n}\n\nfunction withinThreshold(p, state, settings) {\n  const startPoint = state.points[0];\n  const sqrDist = sqrDistance(p, startPoint);\n  return sqrDist < Math.pow(settings.settings.snapIndicator.threshold, 2);\n}\n\nfunction appendToPath(state, p) {\n  if (state.path.d == null) {\n    state.path.d = `M${p.x} ${p.y} `;\n  } else {\n    state.path.d += `L${p.x} ${p.y} `;\n  }\n  state.points.push(p);\n}\n\nfunction render(state, renderer) {\n  const nodes = [\n    state.startPoint,\n    state.path,\n    state.snapIndicator\n  ].filter(node => node.visible);\n\n  renderer.render(nodes);\n}\n\nfunction setSnapIndictor({ state, start = null, end = null }) {\n  if (start !== null) {\n    state.snapIndicator.x1 = start.x;\n    state.snapIndicator.y1 = start.y;\n  }\n  if (end !== null) {\n    state.snapIndicator.x2 = end.x;\n    state.snapIndicator.y2 = end.y;\n  }\n}\n\nfunction showSnapIndicator(state, show) {\n  state.snapIndicator.visible = show;\n}\n\nfunction setStartPoint(state, p) {\n  state.startPoint.cx = p.x;\n  state.startPoint.cy = p.y;\n}\n\nfunction getComponentDelta(chart, rendererBounds) {\n  const chartBounds = chart.element.getBoundingClientRect();\n  return {\n    x: rendererBounds.left - chartBounds.left,\n    y: rendererBounds.top - chartBounds.top\n  };\n}\n\nfunction doLineBrush(state, chart) {\n  if (state.active) {\n    const p1 = state.points[state.points.length - 2];\n    const p2 = state.points[state.points.length - 1];\n    state.lineBrushShape.x1 = p1.x + state.componentDelta.x;\n    state.lineBrushShape.y1 = p1.y + state.componentDelta.y;\n    state.lineBrushShape.x2 = p2.x + state.componentDelta.x;\n    state.lineBrushShape.y2 = p2.y + state.componentDelta.y;\n\n    const shapes = chart.shapesAt(state.lineBrushShape, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction doPolygonBrush(state, chart) {\n  if (state.active) {\n    const dx = state.componentDelta.x;\n    const dy = state.componentDelta.y;\n    const vertices = state.points.map(p => ({\n      x: p.x + dx,\n      y: p.y + dy\n    }));\n\n    const shapes = chart.shapesAt({ vertices }, { components: state.brushConfig });\n    chart.brushFromShapes(shapes, { components: state.brushConfig });\n  }\n}\n\nfunction initPath(stgns) {\n  return {\n    visible: true,\n    type: 'path',\n    d: null,\n    fill: stgns.fill,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    strokeDasharray: stgns.strokeDasharray,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initSnapIndicator(stgns) {\n  return {\n    visible: false,\n    type: 'line',\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    strokeDasharray: stgns.strokeDasharray,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    opacity: stgns.opacity,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction initStartPoint(stgns) {\n  return {\n    visible: true,\n    type: 'circle',\n    cx: 0,\n    cy: 0,\n    r: stgns.r,\n    fill: stgns.fill,\n    opacity: stgns.opacity,\n    stroke: stgns.stroke,\n    strokeWidth: stgns.strokeWidth,\n    collider: {\n      type: null\n    }\n  };\n}\n\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map(b => (\n    {\n      key: b.key,\n      contexts: b.contexts || ['lassoBrush'],\n      data: b.data || [''],\n      action: b.action || 'add'\n    }));\n}\n\nfunction endBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    config.contexts.forEach((context) => {\n      chart.brush(context).end();\n    });\n  });\n}\n\nfunction resetState() {\n  return {\n    points: [],\n    active: false,\n    path: null,\n    snapIndicator: null,\n    startPoint: null,\n    rendererBounds: null,\n    componentDelta: null,\n    brushConfig: null,\n    lineBrushShape: {\n      x1: 0, y1: 0, x2: 0, y2: 0\n    } // Keep a single shape instance to avoid instantiating a new object on each lookup\n  };\n}\n\n/**\n * @typedef {object} component--brush-lasso\n */\n\n/**\n * @typedef {object} component--brush-lasso-settings\n * @property {object} [lasso] - Lasso style settings\n * @property {string} [lasso.fill='transparent']\n * @property {string} [lasso.stroke='black']\n * @property {number} [lasso.strokeWidth=2]\n * @property {number} [lasso.opacity=0.7]\n * @property {number} [lasso.strokeDasharray]\n * @property {object} [snapIndicator] - Snap indicator settings\n * @property {number} [snapIndicator.threshold=75] - The distance in pixel to show the snap indicator, if less then threshold the indicator is dispalyed\n * @property {string} [snapIndicator.strokeDasharray='5, 5']\n * @property {string} [snapIndicator.stroke='black']\n * @property {number} [snapIndicator.strokeWidth=2]\n * @property {number} [snapIndicator.opacity=0.5]\n * @property {object} [startPoint] - Start point style settings\n * @property {number} [startPoint.r=10] - Circle radius\n * @property {string} [startPoint.stroke='green']\n * @property {number} [startPoint.strokeWidth=1]\n * @property {number} [startPoint.opacity=1]\n * @property {object} [brush]\n * @property {object[]} brush.components - Array of components to brush on.\n * @property {string} [brush.components[].component.key] - Component key\n * @property {string[]} [brush.components[].component.contexts=['brushLasso']] - Name of the brushing contexts to affect\n * @property {string[]} [brush.components[].component.data=['']] - The mapped data properties to add to the brush\n * @property {string} [brush.components[].component.action='add'] - Type of action to respond with\n */\n\nconst brushLassoComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0\n    },\n    settings: {\n      brush: {\n        components: []\n      },\n      snapIndicator: {\n        threshold: 75,\n        strokeDasharray: '5, 5',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.5\n      },\n      lasso: {\n        fill: 'transparent',\n        stroke: 'black',\n        strokeWidth: 2,\n        opacity: 0.7,\n        strokeDasharray: '20, 10'\n      },\n      startPoint: {\n        r: 10,\n        fill: 'green',\n        stroke: 'black',\n        strokeWidth: 1,\n        opacity: 1\n      }\n    }\n  },\n  on: {\n    lassoStart(e) {\n      this.start(e);\n    },\n    lassoEnd(e) {\n      this.end(e);\n    },\n    lassoMove(e) {\n      this.move(e);\n    },\n    lassoCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  start(e) {\n    this.state.active = true;\n    this.state.path = initPath(this.settings.settings.lasso);\n    this.state.snapIndicator = initSnapIndicator(this.settings.settings.snapIndicator);\n    this.state.startPoint = initStartPoint(this.settings.settings.startPoint);\n    this.state.rendererBounds = this.renderer.element().getBoundingClientRect();\n    this.state.componentDelta = getComponentDelta(this.chart, this.state.rendererBounds);\n    this.state.brushConfig = getBrushConfig(this.settings);\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, start: p });\n    setStartPoint(this.state, p);\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    const p = getPoint(this.state.rendererBounds, e);\n\n    if (withinThreshold(p, this.state, this.settings)) {\n      showSnapIndicator(this.state, true);\n    } else {\n      showSnapIndicator(this.state, false);\n    }\n\n    appendToPath(this.state, p);\n    setSnapIndictor({ state: this.state, end: p });\n    render(this.state, this.renderer);\n\n    doLineBrush(\n      this.state,\n      this.chart\n    );\n  },\n  end(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    showSnapIndicator(this.state, false);\n    const p = getPoint(this.state.rendererBounds, e);\n    const shouldSnap = withinThreshold(p, this.state, this.settings);\n\n    if (shouldSnap) {\n      doPolygonBrush(this.state, this.chart);\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    endBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  render() {\n    // Do nothing\n  }\n};\n\nexport default brushLassoComponent;\n","import lassoBrushComponent from './brush-lasso';\n\nexport default function lassoBrush(picasso) {\n  picasso.component('brush-lasso', lassoBrushComponent);\n}\n","import { testRectRect } from '../../../math/narrow-phase-collision';\n\n/**\n * Using the basic example found here: https://en.wikipedia.org/wiki/Binary_search_algorithm\n *\n * Finds the first node that may intersect the label.\n * @private\n */\nexport function binaryLeftSearch(labelBounds, ary, coord, side, extractBounds) {\n  let left = 0;\n  let right = ary.length - 1;\n  let bounds;\n\n  while (left < right) {\n    let m = Math.floor((left + right) / 2);\n    bounds = extractBounds(ary[m]);\n    if (bounds[coord] + bounds[side] < labelBounds[coord]) { // label is on right side\n      left = m + 1;\n    } else { // label is on the left side\n      right = m;\n    }\n  }\n\n  return left;\n}\n\n/**\n * The purpose of this module is to act as a filtering function to remove any labels\n * that meets one of the following criterias:\n * -- The label is not fully inside the container, such that it would be fully or partially clipped if rendered\n * -- The label overlaps another label\n * -- The label overlaps another bar which is not the bar the label is originating from\n *\n * Assumes that the nodes are sorted from left/top to right/down, as that allows\n * some optimizations to be performed.\n * @private\n * @returns {function} Filter function, returns false if label be removed and true otherwise\n */\nexport default function filterOverlappingLabels({\n  orientation,\n  targetNodes,\n  labels,\n  container\n},\nfindLeft = binaryLeftSearch) {\n  const renderLabels = [];\n  const coord = orientation === 'v' ? 'x' : 'y';\n  const side = orientation === 'v' ? 'width' : 'height';\n  const getTextBounds = item => item.textBounds;\n  const getNodeBounds = item => item.node.localBounds;\n\n  return (doNotUse, labelIndex) => {\n    const { textBounds: labelBounds, node: labelNode } = labels[labelIndex];\n\n    // ### Test if label is not fully inside container based on the orientation ###\n    if (labelBounds[coord] < container[coord] || labelBounds[coord] + labelBounds[side] > container[coord] + container[side]) {\n      return false;\n    }\n\n    // ### Test label to label collision ###\n    const leftStartLabel = findLeft(labelBounds, renderLabels, coord, side, getTextBounds);\n    for (let i = leftStartLabel; i < renderLabels.length; i++) {\n      if (testRectRect(labelBounds, renderLabels[i].textBounds)) {\n        return false;\n      }\n    }\n\n    // ### Test label to node collision ###\n    const leftStartNode = findLeft(labelBounds, targetNodes, coord, side, getNodeBounds);\n    const labelRightBoundary = (labelBounds[coord] + labelBounds[side]);\n    for (let i = leftStartNode; i < targetNodes.length; i++) {\n      const node = targetNodes[i].node;\n      // Do not test beyond this node, as they are assumed to not collide with the label\n      if (labelRightBoundary < node.localBounds[coord]) {\n        break;\n      }\n\n      if (testRectRect(labelBounds, node.localBounds) && labelNode !== node) {\n        return false;\n      }\n    }\n\n    // No collision occured, allow the label to be rendered\n    renderLabels.push(labels[labelIndex]);\n    return true;\n  };\n}\n","import extend from 'extend';\nimport {\n  testRectRect\n} from '../../../math/narrow-phase-collision';\nimport filterOverlapping from './bars-overlapping-filter';\n\nconst LINE_HEIGHT = 1.5;\nconst PADDING = 4;\n// const DOUBLE_PADDING = PADDING * 2;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nfunction isValidText(text) {\n  const type = typeof text;\n  return (type === 'string' || type === 'number') && text !== '';\n}\n\nfunction toBackground(label) {\n  return {\n    type: 'rect',\n    rx: 2,\n    ry: 2,\n    fill: label.backgroundColor,\n    ...label.backgroundBounds\n  };\n}\n\nexport function isTextInRect(rect, textMetrics, opts) {\n  return opts.rotate ? !(rect.width < textMetrics.height || rect.height < textMetrics.width)\n    : !(rect.width < textMetrics.width || rect.height < textMetrics.height);\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: opts.rotate ? rect.height : rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: opts.rotate ? 'end' : 'start',\n    baseline: 'alphabetical',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n  if (!opts.overflow && !isTextInRect(rect, textMetrics, opts)) {\n    return false;\n  }\n\n  if (opts.rotate) {\n    if (opts.overflow && rect.width < textMetrics.height) {\n      label.x = rect.x + (rect.width / 2); // Use center of the rect\n      label.dx = opts.fontSize * 0.35; // Emulate the baseline heuristic for the 'central' attribute\n    } else {\n      const wiggleHor = Math.max(0, rect.width - (textMetrics.height / (LINE_HEIGHT * 0.8)));\n      label.x = rect.x + (textMetrics.height / LINE_HEIGHT) + (opts.align * wiggleHor);\n    }\n\n    const wiggleVert = Math.max(0, rect.height - textMetrics.width);\n    label.y = rect.y + (opts.justify * wiggleVert);\n    label.transform = `rotate(-90, ${label.x + label.dx}, ${label.y + label.dy})`;\n  } else {\n    if (opts.overflow && rect.height < textMetrics.height) {\n      label.y = rect.y + (rect.height / 2); // Use center of the rect\n      label.dy = opts.fontSize * 0.35; // Emulate the baseline heuristic for the 'central' attribute\n    } else {\n      const wiggleHeight = Math.max(0, rect.height - (textMetrics.height / (LINE_HEIGHT * 0.8))); // 0.8 - MAGIC NUMBER - need to figure out why this works the best\n      label.y = rect.y + (textMetrics.height / LINE_HEIGHT) + (opts.justify * wiggleHeight);\n    }\n\n    const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n    label.x = rect.x + (opts.align * wiggleWidth);\n  }\n\n  return label;\n}\n\nfunction limitBounds(bounds, view) {\n  const minY = Math.max(0, Math.min(bounds.y, view.height));\n  const maxY = Math.max(0, Math.min(bounds.y + bounds.height, view.height));\n  const minX = Math.max(0, Math.min(bounds.x, view.width));\n  const maxX = Math.max(0, Math.min(bounds.x + bounds.width, view.width));\n  bounds.x = minX;\n  bounds.width = maxX - minX;\n  bounds.y = minY;\n  bounds.height = maxY - minY;\n}\n\nfunction pad(bounds, padding = {}) {\n  const {\n    top = PADDING, bottom = PADDING, left = PADDING, right = PADDING\n  } = padding;\n  bounds.x += left;\n  bounds.width -= (left + right);\n  bounds.y += top;\n  bounds.height -= (top + bottom);\n}\n\nexport function getBarRect({\n  bar, view, direction, position, padding = PADDING\n}) {\n  const bounds = {};\n  extend(bounds, bar);\n\n  if (!position || position === 'inside') {\n    // do nothing\n  } else if (direction === 'up' || direction === 'down') {\n    const start = Math.max(0, Math.min(bar.y, view.height));\n    const end = Math.max(0, Math.min(bar.y + bar.height, view.height));\n\n    if ((position === 'outside' && direction === 'up') || (position === 'opposite' && direction === 'down')) {\n      bounds.y = 0;\n      bounds.height = start;\n    } else if ((position === 'outside' && direction === 'down') || (position === 'opposite' && direction === 'up')) {\n      bounds.y = end;\n      bounds.height = view.height - end;\n    }\n  } else {\n    const start = Math.max(0, Math.min(bar.x, view.width));\n    const end = Math.max(0, Math.min(bar.x + bar.width, view.width));\n\n    if ((position === 'outside' && direction === 'left') || (position === 'opposite' && direction === 'right')) {\n      bounds.x = 0;\n      bounds.width = start;\n    } else if ((position === 'outside' && direction === 'right') || (position === 'opposite' && direction === 'left')) {\n      bounds.x = end;\n      bounds.width = view.width - end;\n    }\n  }\n\n  limitBounds(bounds, view);\n  pad(bounds, padding);\n\n  return bounds;\n}\n\nexport function findBestPlacement({\n  direction,\n  fitsHorizontally,\n  // lblStngs,\n  measured,\n  node,\n  orientation,\n  // placements,\n  placementSettings,\n  rect\n}, barRect = getBarRect) {\n  let largest;\n  let bounds;\n  let placement;\n  let testBounds;\n  let p;\n  const boundaries = [];\n  for (p = 0; p < placementSettings.length; p++) {\n    placement = placementSettings[p];\n    testBounds = barRect({\n      bar: node.localBounds,\n      view: rect,\n      direction,\n      position: placement.position,\n      padding: placement.padding\n    });\n    boundaries.push(testBounds);\n    largest = !p || testBounds.height > largest.height ? testBounds : largest;\n\n    if (orientation === 'v' && ((fitsHorizontally && testBounds.height > measured.height * LINE_HEIGHT)\n      || (!fitsHorizontally && testBounds.height > measured.width))) {\n      bounds = testBounds;\n      break;\n    } else if (orientation === 'h' && (testBounds.height > measured.height)\n      && (testBounds.width > measured.width)) {\n      bounds = testBounds;\n      break;\n    }\n  }\n\n  // fallback strategy - place the text in the largest rectangle\n  if (!bounds) {\n    bounds = largest;\n    p = boundaries.indexOf(bounds);\n  }\n  placement = placementSettings[p];\n\n  return { bounds, placement };\n}\n\nfunction approxTextBounds(label, textMetrics, rotated, rect, padding = {}) {\n  const {\n    top = PADDING, bottom = PADDING, left = PADDING, right = PADDING\n  } = padding;\n  const x0 = label.x + label.dx;\n  const y0 = label.y + label.dy;\n  const height = rotated ? Math.min(textMetrics.width, rect.height) : Math.min(textMetrics.height, rect.width);\n  const width = rotated ? Math.min(textMetrics.height, rect.height) : Math.min(textMetrics.width, rect.width);\n  const offset = 0.8 * textMetrics.height; // the distance between text-before-edge and alphabetical\n  const PADDING_OFFSET = 1e-9; // Needed to support a case when multiple bars are on the same location\n  const x = rotated ? x0 - offset : x0;\n  const y = rotated ? y0 : y0 - offset;\n  const bounds = {\n    x: x - left - PADDING_OFFSET,\n    y: y - top - PADDING_OFFSET,\n    width: width + (left + right) - PADDING_OFFSET,\n    height: height + (top + bottom) - PADDING_OFFSET\n  };\n  return bounds;\n}\n\nexport function placeInBars(\n  {\n    chart,\n    targetNodes,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation\n  },\n  findPlacement = findBestPlacement,\n  placer = placeTextInRect,\n  postFilter = filterOverlapping\n) {\n  const labels = [];\n  const postFilterContext = {\n    container: rect,\n    targetNodes,\n    labels: [],\n    orientation: collectiveOrientation\n  };\n  let label;\n  let target;\n  let node;\n  let text;\n  let justify;\n  let bounds;\n  let fill;\n  let measured;\n  let direction;\n  let lblStngs;\n  let placement;\n  let placements;\n  let arg;\n  let orientation;\n\n  for (let i = 0, len = targetNodes.length; i < len; i++) {\n    bounds = null;\n    target = targetNodes[i];\n    node = target.node;\n    arg = cbContext(node, chart);\n    direction = target.direction;\n    orientation = direction === 'left' || direction === 'right' ? 'h' : 'v';\n\n    for (let j = 0; j < target.texts.length; j++) {\n      text = target.texts[j];\n      if (!isValidText(text)) {\n        continue;\n      }\n      lblStngs = target.labelSettings[j];\n      measured = target.measurements[j];\n      placements = lblStngs.placements;\n\n      const bestPlacement = findPlacement({\n        direction,\n        fitsHorizontally,\n        lblStngs,\n        measured,\n        node,\n        orientation,\n        placements,\n        placementSettings: target.placementSettings[j],\n        rect\n      });\n\n      bounds = bestPlacement.bounds;\n      placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        justify = placement.justify;\n        fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n        const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n        const overflow = typeof placement.overflow === 'function' ? placement.overflow(arg, i) : placement.overflow;\n\n        if (direction === 'up') {\n          justify = 1 - justify;\n        }\n        if (placement.position === 'opposite') {\n          justify = 1 - justify;\n        }\n        if (direction === 'left') {\n          justify = 1 - justify;\n        }\n\n        const isRotated = !(collectiveOrientation === 'h' || fitsHorizontally);\n        label = placer(bounds, text, {\n          fill,\n          justify: orientation === 'h' ? placement.align : justify,\n          align: orientation === 'h' ? justify : placement.align,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured,\n          rotate: isRotated,\n          overflow: !!overflow\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          if (typeof placement.background === 'object') {\n            label.backgroundColor = typeof placement.background.fill === 'function' ? placement.background.fill(arg, i) : placement.background.fill;\n            if (typeof label.backgroundColor !== 'undefined') {\n              label.backgroundBounds = approxTextBounds(label, measured, isRotated, bounds, placement.background.padding);\n            }\n          }\n          labels.push(label);\n          postFilterContext.labels.push({\n            node,\n            textBounds: approxTextBounds(label, measured, isRotated, bounds, placement.padding)\n          });\n        }\n      }\n    }\n  }\n\n  const filteredLabels = labels.filter(postFilter(postFilterContext));\n  const backgrounds = filteredLabels.filter(lb => typeof lb.backgroundBounds !== 'undefined').map(toBackground);\n\n  return [...backgrounds, ...filteredLabels];\n}\n\nexport function precalculate({\n  nodes,\n  rect,\n  chart,\n  labelSettings,\n  placementSettings,\n  settings,\n  renderer\n}) {\n  const labelStruct = {};\n  const targetNodes = [];\n  let target;\n  let fitsHorizontally = true;\n  let hasHorizontalDirection = false;\n  let node;\n  let text;\n  let bounds;\n  let measured;\n  let lblStng;\n  let direction;\n\n  for (let i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    bounds = node.localBounds;\n    if (!testRectRect(bounds, rect)) {\n      continue;\n    }\n    let arg = cbContext(node, chart);\n\n    target = {\n      node,\n      texts: [],\n      measurements: [],\n      labelSettings: [],\n      placementSettings: []\n      // direction: 'up'\n    };\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      lblStng = labelSettings[j];\n      text = typeof lblStng.label === 'function' ? lblStng.label(arg, i) : undefined;\n      if (!isValidText(text)) {\n        continue; // eslint-ignore-line\n      }\n      direction = typeof settings.direction === 'function' ? settings.direction(arg, i) : settings.direction || 'up';\n      hasHorizontalDirection = hasHorizontalDirection || direction === 'left' || direction === 'right';\n\n      labelStruct.fontFamily = lblStng.fontFamily;\n      labelStruct.fontSize = `${lblStng.fontSize}px`;\n      labelStruct.text = text;\n\n      measured = renderer.measureText(labelStruct);\n      target.measurements.push(measured);\n      target.texts.push(text);\n      target.labelSettings.push(lblStng);\n      target.placementSettings.push(placementSettings[j]);\n      target.direction = direction;\n      fitsHorizontally = fitsHorizontally && measured.width <= (bounds.width - (PADDING * 2));\n    }\n\n    targetNodes.push(target);\n  }\n\n  return {\n    targetNodes,\n    fitsHorizontally,\n    hasHorizontalDirection\n  };\n}\n\n/**\n * @typedef {object} component--labels~label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~label-strategy.settings\n * @property {string|function} [direction='up'] - The direction in which the bars are growing: 'up', 'down', 'right' or 'left'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} labels[].placements[].position - 'inside' | 'outside' | 'opposite'\n * @property {number} [labels[].placements[].justify=0] - Placement of the label along the direction of the bar\n * @property {number} [labels[].placements[].align=0.5] - Placement of the label along the perpendicular direction of the bar\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n * @property {boolean} [labels[].placements[].overflow=false] - True if the label is allowed to overflow the bar\n * @property {object} labels[].placements[].padding - Padding between the label and the bar\n * @property {number} [labels[].placements[].padding.top=4] - Padding-top between the label and the bar\n * @property {number} [labels[].placements[].padding.bottom=4] - Padding-bottom between the label and the bar\n * @property {number} [labels[].placements[].padding.left=4] - Padding-left between the label and the bar\n * @property {number} [labels[].placements[].padding.right=4] - Padding-right between the label and the bar\n * @property {object} labels[].placements[].background - Background of the label\n * @property {string|function} labels[].placements[].background.fill - Background color of the label\n * @property {object} labels[].placements[].background.padding - Padding between the label and the background\n * @property {number} [labels[].placements[].background.padding.top=4] - Padding-top between the label and the background\n * @property {number} [labels[].placements[].background.padding.bottom=4] - Padding-bottom between the label and the background\n * @property {number} [labels[].placements[].background.padding.left=4] - Padding-left between the label and the background\n * @property {number} [labels[].placements[].background.padding.right=4] - Padding-right between the label and the background\n */\n\nexport function bars({\n  settings,\n  chart,\n  nodes,\n  rect,\n  renderer,\n  style\n}, placer = placeInBars) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    align: 0.5,\n    justify: 0,\n    fill: '#333'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map(labelSetting => labelSetting.placements.map(placement => extend({}, defaults, settings, labelSetting, placement)));\n\n  const {\n    fitsHorizontally,\n    hasHorizontalDirection,\n    targetNodes\n  } = precalculate({\n    nodes,\n    chart,\n    renderer,\n    settings,\n    rect,\n    labelSettings,\n    placementSettings\n  });\n\n  const coord = hasHorizontalDirection ? 'y' : 'x';\n  const side = hasHorizontalDirection ? 'height' : 'width';\n  targetNodes.sort((a, b) => (a.node.localBounds[coord] + a.node.localBounds[side]) - (b.node.localBounds[coord] + b.node.localBounds[side]));\n\n  return placer({\n    chart,\n    targetNodes,\n    stngs: settings,\n    rect,\n    fitsHorizontally,\n    collectiveOrientation: hasHorizontalDirection ? 'h' : 'v'\n  });\n}\n","import extend from 'extend';\nimport {\n  testCircleRect,\n  testRectLine\n} from '../../../math/narrow-phase-collision';\nimport { rectContainsRect } from '../../../math/intersection';\n\nfunction normalize(angle) {\n  const PI2 = Math.PI * 2;\n  return ((angle % PI2) + PI2) % PI2; // normalize\n}\n\nfunction pad(bounds, padding) {\n  bounds.x += padding;\n  bounds.width -= (padding * 2);\n  bounds.y += padding;\n  bounds.height -= (padding * 2);\n}\n\nfunction getTopLeftBounds(bounds) {\n  const x = bounds.x;\n  const y = bounds.y - (bounds.height / 2);\n\n  return {\n    x,\n    y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\n// assume 0 <= angle < (PI / 2)\nfunction getLineCircleIntersection(radius, offset, angle) {\n  let { x, y } = offset;\n\n  if ((x * x) + (y * y) > radius * radius) { return null; }\n\n  let dx = Math.sin(angle);\n  let dy = Math.cos(angle);\n  let D = (x * dy) - (y * dx);\n\n  let d = (radius * radius) - (D * D);\n  if (d < 0) {\n    return null;\n  }\n  let sqrtD = Math.sqrt(d);\n  return {\n    x: (D * dy) + (dx * sqrtD),\n    y: -(D * dx) + (dy * sqrtD)\n  };\n}\n\n// assume 0 <= angle < (PI * 2)\nfunction getRectFromCircleIntersection({ radius, size, angle }) {\n  let { width, height } = size;\n  let lineOffset = { x: width / 2, y: height / 2 };\n  let section = Math.floor(angle / (Math.PI / 2));\n  let intersection;\n  let offset;\n  switch (section) {\n    case 0:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle);\n      if (!intersection) { return null; }\n      intersection.y *= -1;\n      offset = { x: -width, y: 0 };\n      break;\n    case 1:\n      intersection = getLineCircleIntersection(radius, lineOffset, Math.PI - angle);\n      if (!intersection) { return null; }\n      offset = { x: -width, y: -height };\n      break;\n    case 2:\n      intersection = getLineCircleIntersection(radius, lineOffset, angle - Math.PI);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      offset = { x: 0, y: -height };\n      break;\n    case 3:\n      intersection = getLineCircleIntersection(radius, lineOffset, (2 * Math.PI) - angle);\n      if (!intersection) { return null; }\n      intersection.x *= -1;\n      intersection.y *= -1;\n      offset = { x: 0, y: 0 };\n      break;\n    default:\n      throw new Error('invalid angle');\n  }\n  let bounds = {\n    x: intersection.x + offset.x,\n    y: intersection.y + offset.y,\n    width,\n    height\n  };\n  return bounds;\n}\n\nfunction getHorizontalInsideSliceRect({ slice, padding, measured }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let size = {\n    width: measured.width + (padding * 2),\n    height: measured.height + (padding * 2)\n  };\n\n  let bounds = getRectFromCircleIntersection({\n    radius: outerRadius,\n    size,\n    angle: middle\n  });\n\n  if (!bounds) { return null; }\n\n  bounds.baseline = 'top';\n\n  let startLine = {\n    x1: 0, y1: 0, x2: Math.sin(start) * outerRadius, y2: -Math.cos(start) * outerRadius\n  };\n  if (testRectLine(bounds, startLine)) { return null; }\n  let endLine = {\n    x1: 0, y1: 0, x2: Math.sin(end) * outerRadius, y2: -Math.cos(end) * outerRadius\n  };\n  if (testRectLine(bounds, endLine)) { return null; }\n  let circle = { cx: 0, cy: 0, r: innerRadius };\n  if (testCircleRect(circle, bounds)) { return null; }\n\n  pad(bounds, padding);\n\n  return bounds;\n}\n\n// TODO: this case can support a justify setting\nfunction getRotatedInsideSliceRect({ slice, measured, padding }) {\n  let {\n    start, end, innerRadius, outerRadius\n  } = slice;\n\n  let maxWidth = outerRadius - innerRadius - (padding * 2);\n  let size = end - start;\n  if (size < Math.PI) {\n    let x = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (x > innerRadius) {\n      maxWidth = outerRadius - x - (padding * 2);\n    }\n  }\n  if (maxWidth < 0) {\n    return null;\n  }\n\n  const middle = normalize((start + end) / 2);\n  let r = outerRadius - padding;\n  let bounds = {\n    x: Math.sin(middle) * r,\n    y: -Math.cos(middle) * r,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'end';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'start';\n  }\n  return bounds;\n}\n\n\nfunction getRotatedOusideSliceRect({\n  slice, measured, padding, view\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  let r = outerRadius + padding;\n  let size = end - start;\n  if (size < Math.PI) {\n    let minR = ((measured.height / 2) + padding) / Math.tan(size / 2);\n    if (minR > r) {\n      return null;\n    }\n  }\n  const middle = normalize((start + end) / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  let v = middle % Math.PI;\n  if (v > Math.PI / 2) {\n    v = Math.PI - v;\n  }\n  if (Math.cos(v) > 0.001) {\n    let edge = y < 0 ? view.y : view.y + view.height;\n    let d = Math.abs(edge - offset.y);\n    let w = (d / Math.cos(v)) - (Math.tan(v) * (measured.height / 2)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n  if (Math.sin(v) > 0.001) {\n    let edge = x < 0 ? view.x : view.x + view.width;\n    let d = Math.abs(edge - offset.x);\n    let w = (d / Math.sin(v)) - ((measured.height / 2) / Math.tan(v)) - (padding * 2) - outerRadius;\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  if (maxWidth <= 0) { return 0; }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n  if (middle < Math.PI) {\n    bounds.angle = middle - (Math.PI / 2);\n    bounds.anchor = 'start';\n  } else {\n    bounds.angle = middle + (Math.PI / 2);\n    bounds.anchor = 'end';\n  }\n  return bounds;\n}\n\nfunction outOfSpace(context, section, view) {\n  switch (section) {\n    case 0: return context.q1maxY < 0;\n    case 1: return context.q2minY > view.height;\n    case 2: return context.q3minY > view.height;\n    case 3: return context.q4maxY < 0;\n    default: return true;\n  }\n}\nfunction adjustBounds(bounds, context, slice) {\n  const LINE_PADDING = 2;\n  const LIMIT = 1;\n\n  const {\n    start, end, offset, outerRadius\n  } = slice;\n  const middle = normalize((start + end) / 2);\n  let section = Math.floor(middle / (Math.PI / 2));\n\n  switch (section) {\n    case 0:\n      if (context.q1maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q1maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 1:\n      if (context.q2minY !== undefined) {\n        let y = Math.max(bounds.y, context.q2minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x - LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 2:\n      if (context.q3minY !== undefined) {\n        let y = Math.max(bounds.y, context.q3minY);\n        let dy = y - bounds.y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y - LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    case 3:\n      if (context.q4maxY !== undefined) {\n        let y = Math.min(bounds.y, context.q4maxY - bounds.height);\n        let dy = bounds.y - y;\n        bounds.y = y;\n        if (dy > LIMIT) {\n          let r = outerRadius + LINE_PADDING;\n          bounds.line = {\n            type: 'line',\n            x1: bounds.x + LINE_PADDING,\n            y1: bounds.y + LINE_PADDING,\n            x2: offset.x + (Math.sin(middle) * r),\n            y2: offset.y - (Math.cos(middle) * r),\n            strokeWidth: 1\n          };\n        }\n      }\n      break;\n    default: break;\n  }\n}\nfunction updateContext({ context, node, bounds }) {\n  const PADDING = 2;\n  let {\n    start, end\n  } = node.desc.slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  switch (section) {\n    case 0:\n      context.q1maxY = bounds.y - PADDING;\n      if (context.q2minY === undefined) {\n        context.q2minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    case 1:\n      context.q2minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 2:\n      context.q3minY = bounds.y + bounds.height + PADDING;\n      break;\n    case 3:\n      context.q4maxY = bounds.y - PADDING;\n      if (context.q3minY === undefined) {\n        context.q3minY = bounds.y + bounds.height + PADDING;\n      }\n      break;\n    default: break;\n  }\n}\n\nfunction getHorizontalOusideSliceRect({\n  slice, measured, padding, view, context\n}) {\n  let {\n    start, end, outerRadius, offset\n  } = slice;\n  const middle = normalize((start + end) / 2);\n\n  let section = Math.floor(middle / (Math.PI / 2));\n  if (outOfSpace(context, section, view)) {\n    return null;\n  }\n\n  let r = outerRadius + padding + (measured.height / 2);\n  let x = Math.sin(middle) * r;\n  let y = -Math.cos(middle) * r;\n\n  let maxWidth = measured.width;\n  if (middle < Math.PI) {\n    let w = Math.abs((view.x + view.width) - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  } else {\n    let w = Math.abs(view.x - (x + offset.x));\n    if (w < maxWidth) {\n      maxWidth = w;\n    }\n  }\n\n  let bounds = {\n    x,\n    y,\n    width: maxWidth,\n    height: measured.height\n  };\n\n  if (middle < Math.PI) {\n    bounds.anchor = 'start';\n  } else {\n    bounds.anchor = 'end';\n  }\n  return bounds;\n}\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nfunction placeTextOnPoint(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: rect.x,\n    y: rect.y + (rect.baseline === 'top' ? rect.height / 2 : 0),\n    fill: opts.fill,\n    anchor: rect.anchor || 'start',\n    baseline: 'middle',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  if (!isNaN(rect.angle)) {\n    let angle = rect.angle * (360 / (Math.PI * 2));\n    label.transform = `rotate(${angle}, ${label.x}, ${label.y})`;\n  }\n\n  return label;\n}\n\nexport function getSliceRect({\n  slice, direction, position, padding, measured, view, context\n}) {\n  let {\n    start,\n    end,\n    innerRadius,\n    offset\n  } = slice;\n\n  let bounds;\n  let s;\n  switch (position) {\n    case 'into':\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice, measured, padding });\n      } else {\n        bounds = getHorizontalInsideSliceRect({ slice, measured, padding });\n      }\n      break;\n    case 'inside':\n      s = {\n        start,\n        end,\n        innerRadius: 0,\n        outerRadius: innerRadius\n      };\n      if (direction === 'rotate') {\n        bounds = getRotatedInsideSliceRect({ slice: s, measured, padding });\n      } else {\n        bounds = getHorizontalInsideSliceRect({ slice: s, measured, padding });\n      }\n      break;\n    case 'outside':\n      if (direction === 'rotate') {\n        bounds = getRotatedOusideSliceRect({\n          slice, measured, padding, view\n        });\n      } else {\n        bounds = getHorizontalOusideSliceRect({\n          slice, measured, padding, view, context\n        });\n      }\n      break;\n    default:\n      throw new Error('not implemented');\n  }\n  if (bounds) {\n    bounds.x += offset.x;\n    bounds.y += offset.y;\n    if (position === 'outside' && direction !== 'rotate') {\n      adjustBounds(bounds, context, slice);\n    }\n  }\n  return bounds;\n}\n\nfunction findBestPlacement({\n  context,\n  direction,\n  measured,\n  node,\n  placementSettings,\n  rect\n}, sliceRect = getSliceRect) {\n  for (let p = 0; p < placementSettings.length; p++) {\n    let placement = placementSettings[p];\n    let bounds = sliceRect({\n      context,\n      slice: node.desc.slice,\n      view: rect,\n      direction,\n      position: placement.position,\n      measured,\n      padding: placement.padding\n    });\n\n    if (!bounds) {\n      continue;\n    }\n\n    return { bounds, placement };\n  }\n  return { bounds: null, placement: null };\n}\n\n/*\n * Sorts the nodes so that\n *   in each quarter sort nodes from the center (in y) outwards\n *   first quarter before the second\n *   forth quarter before the third\n */\nfunction sortNodes(nodes) {\n  const q1 = [];\n  const q2 = [];\n  const q3 = [];\n  const q4 = [];\n  for (let i = 0; i < nodes.length; ++i) {\n    const { start, end } = nodes[i].desc.slice;\n    const middle = normalize((start + end) / 2);\n    let section = Math.floor(middle / (Math.PI / 2));\n    switch (section) {\n      case 0: q1.push(nodes[i]); break;\n      case 1: q2.push(nodes[i]); break;\n      case 2: q3.push(nodes[i]); break;\n      case 3: q4.push(nodes[i]); break;\n      default: break;\n    }\n  }\n\n  const sortFn = (a, b) => {\n    const middleA = normalize((a.desc.slice.start + a.desc.slice.end) / 2);\n    const middleB = normalize((b.desc.slice.start + b.desc.slice.end) / 2);\n    return middleA - middleB;\n  };\n  const reverseSortFn = (a, b) => sortFn(b, a);\n\n  q1.sort(reverseSortFn);\n  q2.sort(sortFn);\n  q3.sort(reverseSortFn);\n  q4.sort(sortFn);\n  return q1.concat(q2, q4, q3);\n}\n\n/**\n * @typedef {object} component--labels~slices-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~slices-label-strategy.settings\n * @property {string|function} [direction='horizontal'] - The direction of the text: 'horizontal' or 'rotate'.\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {Array<object>} labels[].placements\n * @property {string} [labels[].placements[].position='into'] - 'inside' | 'into' | 'outside' (outside is not implmented yet)\n * @property {string} [labels[].placements[].fill='#333'] - Color of the label\n */\n\nexport function slices(\n  {\n    settings,\n    chart,\n    nodes,\n    rect,\n    renderer,\n    style\n  }, findPlacement = findBestPlacement,\n  placer = placeTextOnPoint\n) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    position: 'into'\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, defaults, settings, labelSetting));\n\n  const placementSettings = settings.labels.map(labelSetting => labelSetting.placements.map(placement => extend({}, defaults, settings, labelSetting, placement)));\n\n  const labelStruct = {};\n  const labels = [];\n\n  nodes = sortNodes(nodes);\n  const context = {};\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    let node = nodes[i];\n    let arg = cbContext(node, chart);\n\n    for (let j = 0; j < labelSettings.length; j++) {\n      let lblStngs = labelSettings[j];\n      let text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n      if (!text) {\n        continue;\n      }\n      let direction = typeof lblStngs.direction === 'function' ? lblStngs.direction(arg, i) : lblStngs.direction || 'horizontal';\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n\n      labelStruct.fontFamily = lblStngs.fontFamily;\n      labelStruct.fontSize = `${lblStngs.fontSize}px`;\n      labelStruct.text = text;\n\n      let measured = renderer.measureText(labelStruct);\n\n      const bestPlacement = findPlacement({\n        context,\n        direction,\n        lblStngs,\n        measured,\n        node,\n        placementSettings: placementSettings[j],\n        rect\n      });\n\n      let bounds = bestPlacement.bounds;\n      let placement = bestPlacement.placement;\n\n      if (bounds && placement) {\n        if (placement.position === 'outside' && direction !== 'rotate') {\n          updateContext({ context, node, bounds });\n\n          const topLeftBounds = getTopLeftBounds(bounds);\n\n          if (!rectContainsRect(topLeftBounds, rect)) {\n            continue;\n          }\n        }\n\n        let fill = typeof placement.fill === 'function' ? placement.fill(arg, i) : placement.fill;\n\n        let label = placer(bounds, text, {\n          fill,\n          fontSize: lblStngs.fontSize,\n          fontFamily: lblStngs.fontFamily,\n          textMetrics: measured\n        });\n\n        if (label) {\n          if (typeof linkData !== 'undefined') {\n            label.data = linkData;\n          }\n          labels.push(label);\n          if (bounds.line) {\n            bounds.line.stroke = fill;\n            labels.push(bounds.line);\n          }\n        }\n      }\n    }\n  }\n\n  return labels;\n}\n","import extend from 'extend';\n\nconst LINE_HEIGHT = 1.2;\nconst CIRCLE_FACTOR = 0.9;\n\nfunction cbContext(node, chart) {\n  return {\n    node,\n    data: node.data,\n    scale: chart.scale,\n    formatter: chart.formatter,\n    dataset: chart.dataset\n  };\n}\n\nexport function placeTextInRect(rect, text, opts) {\n  const label = {\n    type: 'text',\n    text,\n    maxWidth: rect.width,\n    x: 0,\n    y: rect.y,\n    dx: 0,\n    dy: 0,\n    fill: opts.fill,\n    anchor: 'start',\n    baseline: 'alphabetical',\n    fontSize: `${opts.fontSize}px`,\n    fontFamily: opts.fontFamily\n  };\n\n  const textMetrics = opts.textMetrics;\n\n  if (rect.width < opts.fontSize) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (textMetrics.height / LINE_HEIGHT);\n\n  return label;\n}\n\nfunction getRectFromCircle({ cx, cy, r }) {\n  return {\n    type: 'circle',\n    bounds: { cx, cy, r }\n  };\n}\nfunction getSliceBounds(slice) {\n  const EPSILON = 1e-12;\n  let {\n    start,\n    end,\n    innerRadius,\n    outerRadius,\n    offset\n  } = slice;\n  if (Math.abs((start + (2 * Math.PI)) - end) > EPSILON) {\n    return { type: null, bounds: null };\n  }\n  let r = innerRadius !== 0 ? innerRadius : outerRadius;\n  return getRectFromCircle({ cx: offset.x, cy: offset.y, r });\n}\n\nfunction getBounds(node) {\n  if (node.desc && node.desc.slice) {\n    return getSliceBounds(node.desc.slice);\n  }\n  if (node.type === 'circle') {\n    return getRectFromCircle(node.attrs);\n  }\n  if (node.type === 'rect') {\n    return { type: 'rect', bounds: node.bounds };\n  }\n  // defualt to node.bounds ?\n  return { type: null, bounds: null };\n}\n\n/**\n * @typedef {object} component--labels~rows-label-strategy\n *\n */\n\n/**\n * @typedef {object} component--labels~rows-label-strategy.settings\n * @property {string} [fontFamily='Arial']\n * @property {number} [fontSize=12]\n * @property {number} [justify=0.5]\n * @property {number} [padding=4]\n * @property {Array<object>} labels\n * @property {string|function} labels[].label - The text value\n * @property {function} labels[].linkData - Link data to the label\n * @property {number} [labels[].align=0.5]\n * @property {string|function} [labels[].fill='#333']\n */\n\nexport function rows({\n  settings,\n  chart,\n  nodes,\n  renderer,\n  style\n}, placer = placeTextInRect) {\n  const defaults = extend({\n    fontSize: 12,\n    fontFamily: 'Arial',\n    fill: '#333',\n    padding: 4,\n    align: 0.5,\n    justify: 0.5\n  }, style.label);\n\n  defaults.fontSize = parseInt(defaults.fontSize, 10);\n\n  const rowSettings = extend({}, defaults, settings);\n\n  const labelSettings = settings.labels.map(labelSetting => extend({}, rowSettings, labelSetting));\n\n  const labelStruct = {};\n  const labels = [];\n\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    let node = nodes[i];\n    let arg = cbContext(node, chart);\n\n    let { type, bounds } = getBounds(node);\n    if (!bounds) {\n      continue;\n    }\n\n    let totalHeight = 0;\n    let measurements = [];\n    let texts = [];\n\n    let maxHeight = type === 'circle' ? 2 * bounds.r * CIRCLE_FACTOR : bounds.height;\n    totalHeight += rowSettings.padding;\n    let j;\n    for (j = 0; j < labelSettings.length; j++) {\n      let lblStngs = labelSettings[j];\n      let text = typeof lblStngs.label === 'function' ? lblStngs.label(arg, i) : '';\n\n      labelStruct.fontFamily = lblStngs.fontFamily;\n      labelStruct.fontSize = `${lblStngs.fontSize}px`;\n      labelStruct.text = text;\n      let measured = renderer.measureText(labelStruct);\n      totalHeight += measured.height + lblStngs.padding;\n      if (totalHeight > maxHeight) { break; }\n      texts.push(text);\n      measurements.push(measured);\n    }\n\n    const labelCount = j;\n    const wiggleHeight = Math.max(0, maxHeight - totalHeight);\n    let currentY;\n    if (type === 'circle') {\n      currentY = bounds.cy - (bounds.r * CIRCLE_FACTOR);\n    } else {\n      currentY = bounds.y;\n    }\n    currentY += (rowSettings.justify * wiggleHeight) + rowSettings.padding;\n\n    for (j = 0; j < labelCount; j++) {\n      let lblStngs = labelSettings[j];\n      let rect;\n      if (type === 'circle') {\n        let maxYDistToCenter = Math.max(Math.abs(currentY - bounds.cy), Math.abs((currentY + measurements[j].height) - bounds.cy));\n        let halfWidth = Math.sqrt((bounds.r * bounds.r) - (maxYDistToCenter * maxYDistToCenter));\n        rect = {\n          x: (bounds.cx - halfWidth) + rowSettings.padding,\n          y: currentY,\n          width: (2 * halfWidth) - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      } else {\n        rect = {\n          x: bounds.x + rowSettings.padding,\n          y: currentY,\n          width: bounds.width - (2 * rowSettings.padding),\n          height: measurements[j].height\n        };\n      }\n\n      currentY += measurements[j].height + rowSettings.padding;\n      let fill = typeof lblStngs.fill === 'function' ? lblStngs.fill(arg, i) : lblStngs.fill;\n      const linkData = typeof lblStngs.linkData === 'function' ? lblStngs.linkData(arg, i) : undefined;\n      let label = placer(rect, texts[j], {\n        fill,\n        align: lblStngs.align,\n        fontSize: lblStngs.fontSize,\n        fontFamily: lblStngs.fontFamily,\n        textMetrics: measurements[j]\n      });\n      if (label) {\n        if (typeof linkData !== 'undefined') {\n          label.data = linkData;\n        }\n        labels.push(label);\n      }\n    }\n  }\n\n  return labels;\n}\n","\nimport { bars } from './bars';\nimport { slices } from './slices';\nimport { rows } from './rows';\n\nexport default {\n  bar: bars,\n  slice: slices,\n  rows\n};\n","import strategies from './strategies';\n\n/**\n * @typedef {object} component--labels\n * @property {string} [type='labels']\n */\n\n/**\n * @typedef {object} component--labels.settings\n * @property {Array<object>} sources\n * @property {string} sources[].component\n * @property {string} sources[].selector\n * @property {component--labels~label-strategy} sources[].strategy\n */\n\nexport function strategy({\n  chart,\n  source,\n  rect,\n  renderer,\n  style\n}, fn) {\n  const component = chart.component(source.component);\n  if (!component) {\n    return [];\n  }\n  const nodes = chart.findShapes(source.selector).filter(n => n.key === source.component);\n\n  return fn({\n    chart,\n    settings: source.strategy.settings,\n    nodes,\n    rect: {\n      x: 0,\n      y: 0,\n      width: rect.width,\n      height: rect.height\n    },\n    renderer,\n    style\n  });\n}\n\nconst labelsComponent = {\n  require: ['chart', 'renderer', 'settings'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      label: '$label'\n    }\n  },\n  render() {\n    const stngs = this.settings.settings;\n    const labels = [];\n\n    (stngs.sources || []).forEach((source) => {\n      if (source.strategy && strategies[source.strategy.type] && source.component) {\n        labels.push(...strategy({\n          chart: this.chart,\n          rect: this.rect,\n          renderer: this.renderer,\n          source,\n          style: this.style\n        }, strategies[source.strategy.type]));\n      }\n    });\n\n    return labels;\n  }\n};\n\nexport default labelsComponent;\n","import labelsComponent from './labels';\n\nexport default function labels(picasso) {\n  picasso.component('labels', labelsComponent);\n}\n","import extend from 'extend';\n\n/**\n * @typedef {object}\n * @alias component--legend-cat.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @typedef {object=}\n   */\n  layout: {\n    /**\n     * Maximum number of columns (vertical) or rows (horizontal)\n     * @type {number=}\n     */\n    size: 1,\n    /**\n     * Layout direction. Either `'ltr'` or `'rtl'`\n     * @type {string=}\n     */\n    direction: 'ltr',\n    /** Initial scroll offset\n     * @type {number=} */\n    scrollOffset: 0\n  },\n  /**\n   * Settings applied per item\n   * @typedef {object=}\n   */\n  item: {\n    /** Whether to show the current item\n     * @type {boolean=} */\n    show: true,\n    justify: 0.5,\n    align: 0.5,\n    /**\n     * @typedef {object=} */\n    label: {\n      fontSize: '12px',\n      fontFamily: 'Arial',\n      fill: '#595959',\n      /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n       * @type {string=} */\n      wordBreak: 'none',\n      /** Max number of lines allowed if label is broken into multiple lines (only applicable with wordBreak)\n       * @type {number=} */\n      maxLines: 2,\n      /** Maximum width of label, in px\n       * @type {number=} */\n      maxWidth: 136,\n      lineHeight: 1.2\n    },\n    /**\n     * @typedef {object=} */\n    shape: {\n      /**\n       * @type {string=} */\n      type: 'square',\n      /**\n       * @type {number=} */\n      size: 12\n    }\n  },\n  /**\n   * @typedef {object=} */\n  title: {\n    /** Whether to show the title\n     * @type {boolean=} */\n    show: true,\n    /** Title text. Defaults to the title of the provided data field\n     * @type {string=} */\n    text: undefined,\n    /** Horizontal alignment of the text. Allowed values are `'start'`, `'middle'` and `'end'`\n     * @type {string}\n     */\n    anchor: 'start',\n    fontSize: '16px',\n    fontFamily: 'Arial',\n    fill: '#595959',\n    /** Word break rule, how to apply line break if label text overflows its maxWidth property. Either `'break-word'` or `'break-all'`\n     * @type {string=} */\n    wordBreak: 'none',\n    /** Max number of lines allowed if label is broken into multiple lines, is only appled when `wordBreak` is not set to `'none'`\n     * @type {number=} */\n    maxLines: 2,\n    /** Maximum width of title, in px\n     * @type {number=} */\n    maxWidth: 156,\n    lineHeight: 1.25\n  },\n  /**\n   * @typedef {object=} */\n  navigation: {\n    /**\n     * @typedef {object=} */\n    button: {\n      /**\n       * @type {object<string, boolean>=} */\n      class: undefined,\n      /**\n       * @type {function} */\n      content: undefined\n    }\n  }\n};\n\n/**\n * Resolve settings based on input, defaults, and data\n *\n * @ignore\n * @param {legendComponent} comp - The component instance\n */\nexport default function resolveSettings(comp) {\n  const domain = comp.scale.domain();\n  let data = { items: [] };\n  const dock = comp.settings.layout.dock;\n  if (comp.scale.type === 'threshold-color') {\n    const fields = comp.scale.data().fields;\n    const sourceField = fields[0];\n    let formatter = v => String(v);\n\n    if (comp.settings.formatter) {\n      formatter = comp.chart.formatter(comp.settings.formatter);\n    } else if (sourceField) {\n      formatter = sourceField.formatter();\n    }\n\n    for (let i = 0; i < domain.length - 1; i++) {\n      const it = {\n        value: domain[i],\n        label: `${formatter(domain[i])} - < ${formatter(domain[i + 1])}`\n      };\n      if (sourceField) {\n        it.source = {\n          field: sourceField.id()\n        };\n      }\n      data.items.push(it);\n    }\n    const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      data.items.reverse();\n    }\n  } else {\n    const labels = comp.scale.labels ? comp.scale.labels() : null;\n    data.items = domain.map((d, idx) => {\n      const datum = comp.scale.datum ? extend({}, comp.scale.datum(d)) : { value: d };\n      datum.value = d;\n\n      if (comp.scale.label) {\n        datum.label = comp.scale.label(d);\n      } else if (labels) {\n        datum.label = labels[idx];\n      }\n\n      return datum;\n    });\n  }\n\n  const title = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: extend(true, {}, DEFAULT_SETTINGS.title, comp.style.title),\n    settings: comp.settings.settings.title\n  });\n\n  const layout = comp.resolver.resolve({\n    data: {\n      fields: comp.scale.data().fields\n    },\n    defaults: DEFAULT_SETTINGS.layout,\n    settings: comp.settings.settings.layout\n  });\n\n  const labels = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.label, comp.style.item.label),\n    settings: (comp.settings.settings.item || {}).label\n  });\n\n  const shapeSettings = extend(true, {}, (comp.settings.settings.item || {}).shape);\n\n  if (typeof shapeSettings.fill === 'undefined' && comp.settings.scale) {\n    shapeSettings.fill = {\n      scale: comp.settings.scale\n    };\n  }\n\n  const symbols = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, DEFAULT_SETTINGS.item.shape, comp.style.item.shape),\n    settings: shapeSettings\n  });\n\n  const items = comp.resolver.resolve({\n    data,\n    defaults: extend(true, {}, {\n      show: DEFAULT_SETTINGS.item.show\n    }),\n    settings: {\n      show: (comp.settings.settings.item || {}).show\n    }\n  });\n\n  function range(item, i) {\n    let v = item.data.value;\n    let next = domain[i + 1];\n    item.data.value = [v, next];\n  }\n\n  if (comp.scale.type === 'threshold-color') {\n    const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n\n    if (orientation === 'vertical') {\n      items.items.reverse().forEach(range);\n      items.items.reverse();\n    } else {\n      items.items.forEach(range);\n    }\n  }\n\n  return {\n    title,\n    labels,\n    symbols,\n    items,\n    layout\n  };\n}\n","import extend from 'extend';\nimport symbolFactory from '../../symbols';\n\n/* eslint no-mixed-operators:0 */\n\nfunction placeTextInRect(rect, label, opts) {\n  const textMetrics = opts.textMetrics;\n\n  if (rect.height < textMetrics.height) {\n    return false;\n  }\n\n  const wiggleWidth = Math.max(0, rect.width - textMetrics.width);\n  label.baseline = 'hanging';\n  const wiggleHeight = Math.max(0, rect.height - (textMetrics.height));\n  label.x = rect.x + (opts.align * wiggleWidth);\n  label.y = rect.y + (opts.justify * wiggleHeight);\n\n  return label;\n}\n\nfunction wiggleSymbol(container, size, opts) {\n  const wiggleWidth = Math.max(0, container.width - size);\n  const wiggleHeight = Math.max(0, container.height - size);\n\n  return {\n    x: container.x + (size / 2) + (opts.align * wiggleWidth),\n    y: container.y + (size / 2) + (opts.justify * wiggleHeight)\n  };\n}\n\nexport function createRenderItem({\n  x = 0,\n  y,\n  item,\n  globalMetrics,\n  symbolFn = symbolFactory,\n  direction = 'ltr'\n}) {\n  let label = item.label.displayObject;\n  let labelBounds = item.label.bounds;\n  let symbolItem = item.symbol.meta;\n  const rtl = direction === 'rtl';\n\n  let labelRect = {\n    x: rtl ? x + globalMetrics.maxLabelBounds.width : x + globalMetrics.maxSymbolSize + globalMetrics.spacing,\n    y,\n    width: globalMetrics.maxLabelBounds.width,\n    height: Math.max(globalMetrics.maxSymbolSize, globalMetrics.maxLabelBounds.height)\n  };\n\n  let wiggled = wiggleSymbol({\n    x: rtl ? x + globalMetrics.maxLabelBounds.width + globalMetrics.spacing : x,\n    y,\n    width: globalMetrics.maxSymbolSize,\n    height: labelRect.height\n  }, symbolItem.size, {\n    align: typeof symbolItem.align === 'undefined' ? 0.5 : symbolItem.align,\n    justify: typeof symbolItem.justify === 'undefined' ? 0.5 : symbolItem.justify\n  });\n\n  const symbol = symbolFn(extend({}, symbolItem, wiggled));\n\n  delete symbol.collider;\n\n  label.anchor = rtl ? 'end' : 'start';\n\n  placeTextInRect(labelRect, label, {\n    textMetrics: labelBounds,\n    fontSize: parseInt(label.fontSize, 10),\n    align: 0.0,\n    justify: 0.5\n  });\n\n  let container = {\n    type: 'container',\n    data: item.label.displayObject.data,\n    children: [symbol, label],\n    collider: {\n      type: 'rect',\n      x,\n      y,\n      width: globalMetrics.maxItemBounds.width,\n      height: globalMetrics.maxItemBounds.height\n    }\n  };\n\n  return {\n    item: container,\n    metrics: labelRect\n  };\n}\n\nexport function getItemsToRender({\n  viewRect\n}, rect, {\n  itemized,\n  create = createRenderItem,\n  parallels\n}) {\n  const direction = itemized.layout.direction;\n  const globalMetrics = itemized.globalMetrics;\n  const legendItems = itemized.items;\n  const isHorizontal = itemized.layout.orientation === 'horizontal';\n  let s = 0;\n\n  const renderItems = [];\n  const fixedHeight = globalMetrics.maxItemBounds.height;\n  const fixedWidth = globalMetrics.maxItemBounds.width;\n  const rowHeight = itemized.layout.margin.vertical + fixedHeight;\n  const columnWidth = itemized.layout.margin.horizontal + fixedWidth;\n  let x = rect.x;\n  let y = rect.y;\n\n  let shift = viewRect.x - rect.x;\n\n  for (let i = 0; i < legendItems.length; i++) {\n    let renderItem = create({\n      y,\n      x: direction === 'rtl' ? viewRect.x + shift + viewRect.width - fixedWidth - (x - rect.x) : x,\n      item: legendItems[i],\n      globalMetrics,\n      direction\n    });\n\n    if ((isHorizontal && x >= viewRect.x - fixedWidth) || (!isHorizontal && y >= viewRect.y - fixedHeight)) {\n      renderItems.push(renderItem.item);\n    }\n\n    s++;\n    if (s >= parallels) {\n      s = 0;\n      if (isHorizontal) {\n        x += columnWidth; // next column\n        y = rect.y; // reset y to first row\n      } else {\n        y += rowHeight; // next row\n        x = rect.x; // reset x to first column\n      }\n    } else if (isHorizontal) {\n      y += rowHeight; // next row\n    } else {\n      x += columnWidth; // next column\n    }\n\n    if (!isHorizontal && (y > viewRect.y + viewRect.height)) {\n      break;\n    } else if (isHorizontal && x > viewRect.x + viewRect.width) {\n      break;\n    }\n  }\n  return renderItems;\n}\n\n\nexport function itemize({\n  resolved,\n  dock\n}, renderer) {\n  let label;\n  let items = [];\n  let item;\n  let sourceItems = resolved.items.items;\n  let sourceSymbols = resolved.symbols.items;\n  let sourceLabels = resolved.labels.items;\n\n  let maxSymbolSize = 0;\n  let maxLabelWidth = 0;\n  let maxLabelHeight = 0;\n\n  for (let i = 0; i < sourceItems.length; i++) {\n    if (sourceItems[i].show === false) {\n      continue;\n    }\n\n    const text = typeof sourceLabels[i].text !== 'undefined' ? sourceLabels[i].text : sourceLabels[i].data.label || '';\n    label = extend({}, sourceLabels[i], { // create the displayObject here in order to measure it\n      type: 'text',\n      fontSize: `${parseInt(sourceLabels[i].fontSize, 10)}px`,\n      text,\n      title: text\n    });\n\n    item = {\n      symbol: {\n        // can't create a displayObject here due to need to wiggle the center position of the symbol later on,\n        // just store the object needed later on\n        meta: sourceSymbols[i]\n      },\n      label: {\n        displayObject: label,\n        bounds: renderer.textBounds(label)\n      }\n    };\n\n    items.push(item);\n\n    maxSymbolSize = Math.max(sourceSymbols[i].size, maxSymbolSize);\n    maxLabelWidth = Math.max(item.label.bounds.width, maxLabelWidth);\n    maxLabelHeight = Math.max(item.label.bounds.height, maxLabelHeight);\n  }\n\n  return {\n    items,\n    globalMetrics: {\n      spacing: 8,\n      maxSymbolSize,\n      maxItemBounds: {\n        height: Math.max(maxSymbolSize, maxLabelHeight),\n        width: maxSymbolSize + 8 + maxLabelWidth\n      },\n      maxLabelBounds: {\n        width: maxLabelWidth,\n        height: maxLabelHeight\n      }\n    },\n    layout: {\n      margin: {\n        vertical: typeof resolved.layout.item.vertical !== 'undefined' ? resolved.layout.item.vertical : 8,\n        horizontal: typeof resolved.layout.item.horizontal !== 'undefined' ? resolved.layout.item.horizontal : 8\n      },\n      mode: resolved.layout.item.mode,\n      size: resolved.layout.item.size,\n      orientation: dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical',\n      direction: resolved.layout.item.direction,\n      scrollOffset: resolved.layout.item.scrollOffset\n    }\n  };\n}\n\nexport function extent(itemized, parallels) {\n  const count = itemized.items.length;\n  const size = Math.ceil(count / parallels);\n  const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size)\n    + ((size - 1) * itemized.layout.margin[margin]);\n}\n\nexport function spread(itemized, parallels) {\n  const size = parallels;\n  const property = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n  const margin = property === 'width' ? 'horizontal' : 'vertical';\n  return (itemized.globalMetrics.maxItemBounds[property] * size) // expected vertical size of items\n    + ((size - 1) * itemized.layout.margin[margin]); // expected spacing between items\n}\n\nexport function parallelize(availableExtent, availableSpread, itemized) {\n  const count = itemized.items.length;\n  const extentProperty = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n  const margin = extentProperty === 'width' ? 'horizontal' : 'vertical';\n  const extentInPx = (itemized.globalMetrics.maxItemBounds[extentProperty] * count)\n    + ((count - 1) * itemized.layout.margin[margin]);\n  let numNeeded = Math.ceil(extentInPx / availableExtent);\n\n  if (availableSpread != null) {\n    const spreadProperty = itemized.layout.orientation === 'horizontal' ? 'height' : 'width';\n    const numAllowed = Math.floor(availableSpread / (4 + itemized.globalMetrics.maxItemBounds[spreadProperty]));\n    numNeeded = Math.min(numNeeded, numAllowed);\n  }\n\n  const numInput = isNaN(itemized.layout.size) ? 1 : itemized.layout.size;\n  return Math.max(1, Math.min(numNeeded, numInput));\n}\n\nexport default function (legend, {\n  onScroll = () => {}\n}) {\n  let itemized;\n  let parallels;\n  let viewRect;\n  let containerRect;\n  let offset = null;\n  let overflow = 0;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend.renderer);\n      offset = offset === null && !isNaN(itemized.layout.scrollOffset) ? itemized.layout.scrollOffset : offset; // Set the initial offset\n    },\n    getItemsToRender: (obj) => {\n      viewRect = obj.viewRect;\n      overflow = api.getContentOverflow(viewRect);\n      const ext = api.extent();\n      offset = Math.max(0, Math.min(offset, overflow));\n\n      containerRect = extend({}, viewRect);\n\n      const offsetProperty = api.orientation() === 'horizontal' ? 'x' : 'y';\n      containerRect[offsetProperty] -= offset;\n      containerRect[offsetProperty === 'x' ? 'width' : 'height'] = ext;\n\n      return getItemsToRender(obj, containerRect, { itemized, parallels });\n    },\n    parallelize: (availableExtent, availableSpread) => {\n      parallels = parallelize(availableExtent, availableSpread, itemized);\n      return parallels;\n    },\n    hasContentOverflow: () => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return extent(itemized, parallels) > viewRect[property];\n    },\n    getContentOverflow: (rect = viewRect) => {\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      return Math.max(0, extent(itemized, parallels) - rect[property]);\n    },\n    getNextSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    getPrevSize: () => {\n      // TODO - calculate the actual size to next item to ensure alignment\n      const property = itemized.layout.orientation === 'horizontal' ? 'width' : 'height';\n      const margin = property === 'width' ? 'horizontal' : 'vertical';\n      return itemized.globalMetrics.maxItemBounds[property] + itemized.layout.margin[margin];\n    },\n    hasNext: () => {\n      if (api.orientation() === 'horizontal') {\n        return viewRect.x + viewRect.width < containerRect.x + containerRect.width;\n      }\n      return viewRect.y + viewRect.height < containerRect.y + containerRect.height;\n    },\n    hasPrev: () => {\n      if (api.orientation() === 'horizontal') {\n        return containerRect.x < viewRect.x;\n      }\n      return containerRect.y < viewRect.y;\n    },\n    next: () => {\n      api.scroll(-api.getNextSize());\n    },\n    prev: () => {\n      api.scroll(api.getPrevSize());\n    },\n    scroll: (delta) => {\n      const current = Math.max(0, Math.min(overflow, (offset - delta)));\n      if (current === offset) {\n        return;\n      }\n      offset = current;\n      onScroll();\n    },\n    offset: () => offset,\n    orientation: () => itemized.layout.orientation,\n    direction: () => itemized.layout.direction,\n    extent: () => extent(itemized, parallels), // total amount of space along orientation\n    spread: () => spread(itemized, parallels) // total amount of space perpendicular to orientation\n  };\n\n  return api;\n}\n","/**\n * Concatenate object keys into a space separated string. Use for transforming a 'class name map' into a class string\n * @private\n * @param  {Object} classMap Object with class names as keys and true or false values depending on if they should be in the returned class string or not\n * @return {String} Space separated string with class names\n */\nexport default function classString(classMap) {\n  return Object.keys(classMap).filter(className => classMap[className]).join(' ');\n}\n","import extend from 'extend';\nimport classString from '../../utils/class-string';\n\nconst DIR = {\n  up: '\\u25B2',\n  right: '\\u25B6',\n  down: '\\u25BC',\n  left: '\\u25C0'\n};\n\nfunction itemize({\n  // resolved,\n  dock,\n  navigation\n}) {\n  return {\n    layout: {\n      orientation: dock === 'top' || dock === 'bottom' ? 'vertical' : 'horizontal'\n    },\n    navigation\n  };\n}\n\nfunction btn(h, {\n  size,\n  isActive,\n  direction,\n  nav,\n  attrs\n}) {\n  let c = {};\n  let content = '';\n  if (nav && nav.button) {\n    if (typeof nav.button.class === 'function') {\n      c = nav.button.class({ direction });\n    } else if (nav.button.class) {\n      c = nav.button.class;\n    }\n    if (typeof nav.button.content === 'function') {\n      content = nav.button.content(h, { direction });\n    }\n  }\n  const style = {\n    width: `${size}px`,\n    minWidth: `${size}px`,\n    height: `${size}px`\n  };\n\n  if (!Object.keys(c).length) { // if no classes are set, add some basic styling\n    style.border = '0';\n    style.background = 'none';\n  }\n  const attrsMerged = attrs;\n  if (!isActive) {\n    attrsMerged.disabled = 'disabled';\n  }\n\n  return h('button', extend({\n    class: classString(c),\n    style\n  }, attrsMerged), [content || h('span', {\n    style: {\n      pointerEvents: 'none'\n    }\n  }, [DIR[direction]])]);\n}\n\nfunction render(renderer, {\n  rect,\n  itemRenderer\n}, itemized, legend) {\n  if (!renderer || !renderer.renderArgs) {\n    return;\n  }\n  renderer.size(rect);\n  const h = renderer.renderArgs[0];\n\n  const isVertical = itemized.layout.orientation === 'vertical'; // orientation of the navigation (not the legend)\n  const isRtl = itemRenderer.direction() === 'rtl';\n\n  const hasNext = itemRenderer.hasNext();\n  const hasPrev = itemRenderer.hasPrev();\n\n  if (!hasPrev && !hasNext) {\n    renderer.render([]);\n    return;\n  }\n\n  const buttonSize = 32;\n\n  const order = isVertical ? ['right', 'left'] : ['down', 'up'];\n\n  if (isRtl && isVertical) {\n    order.reverse();\n  }\n\n  const nodes = [h('div', {\n    style: {\n      position: 'relative',\n      display: 'flex',\n      'flex-direction': isVertical ? 'column' : 'row',\n      'justify-content': 'center',\n      height: '100%',\n      pointerEvents: 'auto'\n    },\n    dir: isRtl && !isVertical ? 'rtl' : 'ltr'\n  }, [btn(h, {\n    size: buttonSize,\n    isActive: hasNext,\n    direction: order[0],\n    attrs: {\n      'data-action': 'next',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  }), btn(h, {\n    size: buttonSize,\n    isActive: hasPrev,\n    direction: order[1],\n    attrs: {\n      'data-action': 'prev',\n      'data-component-key': legend.settings.key\n    },\n    nav: itemized.navigation\n  })])];\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const nav = {\n    itemize: (obj) => {\n      itemized = itemize(obj);\n    },\n    render: obj => render(nav.renderer, obj, itemized, legend),\n    extent: () => 32,\n    spread: () => 64\n  };\n\n  return nav;\n}\n","import extend from 'extend';\n\nfunction itemize({\n  resolved\n}, legend) {\n  if (resolved.title.item.show === false) {\n    return null;\n  }\n  const t = extend({}, resolved.title.item, {\n    type: 'text'\n  });\n\n  if (resolved.layout.item.direction === 'rtl') {\n    if (!t.anchor || t.anchor === 'start') {\n      t.anchor = 'end';\n    } else if (t.anchor === 'end') {\n      t.anchor = 'start';\n    }\n  }\n\n  if (typeof resolved.title.settings.text === 'undefined') {\n    const fields = legend.scale.data().fields;\n    t.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  return {\n    displayObject: t,\n    bounds: legend.renderer.textBounds(t)\n  };\n}\n\nfunction render({\n  rect\n}, renderer, itemized) {\n  if (!renderer) {\n    return;\n  }\n  const nodes = [];\n  renderer.size(rect);\n  if (itemized) {\n    const align = {\n      start: 0,\n      end: rect.width,\n      middle: rect.width / 2\n    };\n    nodes.push(extend({}, itemized.displayObject, {\n      x: align[itemized.displayObject.anchor] || 0,\n      y: 0,\n      baseline: 'hanging',\n      title: itemized.displayObject.text\n    }));\n  }\n  renderer.render(nodes);\n}\n\nexport default function (legend) {\n  let itemized;\n\n  const api = {\n    itemize: (obj) => {\n      itemized = itemize(obj, legend);\n    },\n    render: (obj) => {\n      render(obj, api.renderer, itemized);\n    },\n    spread: () => (itemized ? itemized.bounds.height : 0),\n    extent: () => (itemized ? itemized.bounds.width : 0)\n  };\n\n  return api;\n}\n","import extend from 'extend';\n/* eslint no-mixed-operators:0 */\n\nexport default function layout(rect, display, orientation, {\n  itemRenderer,\n  navigationRenderer,\n  titleRenderer,\n  isPreliminary = false\n}) {\n  let title;\n  let content;\n  let navigation;\n  let preferredSize = 0;\n\n  const paddedRect = {\n    x: display.spacing,\n    y: display.spacing,\n    width: rect.width - (2 * display.spacing),\n    height: rect.height - (2 * display.spacing)\n  };\n\n  title = {\n    x: paddedRect.x,\n    y: paddedRect.y,\n    width: paddedRect.width,\n    height: titleRenderer.spread()\n  };\n\n  if (orientation === 'horizontal') {\n    // const titleAtTop = false;\n    // if (titleAtTop) { // this might be a nicer layout sometimes\n    //   // |------------------|\n    //   // |title             |\n    //   // |------------|-----|\n    //   // |content     | nav |\n    //   // |------------|-----|\n\n    //   // available space for items without navigation UI\n    //   const availableExtentForItems = paddedRect.width;\n    //   const availableSpreadForItems = paddedRect.height - (title.y + title.height) + 8;\n    //   const isRtl = itemRenderer.direction() === 'rtl';\n    //   itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    //   const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    //   content = {\n    //     x: paddedRect.x,\n    //     y: title.y + title.height,\n    //     width: paddedRect.width - navigationSize,\n    //     height: availableSpreadForItems\n    //   };\n    //   navigation = {\n    //     x: content.x + content.width,\n    //     y: title.y + title.height,\n    //     width: navigationSize,\n    //     height: paddedRect.height - (title.y + title.height) + 8\n    //   };\n\n    //   if (isRtl) { // switch navigation and content\n    //     navigation.x = content.x;\n    //     content.x = navigation.x + navigation.width;\n    //     // totalContent.x = navigation.x;\n    //   }\n    //   preferredSize = title.height + Math.max(navigationRenderer.spread(), itemRenderer.spread());\n    // } else {\n    // |-----|------------|-----|\n    // |title|content     | nav |\n    // |-----|------------|-----|\n\n    title = {\n      x: paddedRect.x,\n      y: paddedRect.y,\n      width: titleRenderer.extent(),\n      height: titleRenderer.spread()\n    };\n\n    // available space for items without navigation UI\n    const availableExtentForItems = paddedRect.width - title.width - (title.width ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.height;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    const spread = itemRenderer.spread();\n    const navigationSpread = navigationSize ? navigationRenderer.spread() : 0;\n    content = {\n      x: title.x + title.width + (title.width ? display.spacing : 0),\n      y: paddedRect.y + Math.max(0, (navigationSpread - spread) / 2),\n      width: paddedRect.width - navigationSize - title.width - (navigationSize ? display.spacing : 0) - (title.width ? display.spacing : 0),\n      height: availableSpreadForItems\n    };\n    navigation = {\n      x: content.x + content.width + (navigationSize ? display.spacing : 0),\n      y: paddedRect.y,\n      width: navigationSize,\n      height: paddedRect.height\n    };\n\n    title.y = content.y;\n\n    const isRtl = itemRenderer.direction() === 'rtl';\n    if (isRtl) { // switch title, content and navigation\n      navigation.x = paddedRect.x;\n      content.x = navigation.x + navigation.width + (navigation.width ? display.spacing : 0);\n      title.x = content.x + content.width + (title.width ? display.spacing : 0);\n    }\n    preferredSize = Math.max(title.height, navigationSpread, itemRenderer.spread());\n    // }\n  } else {\n    // |------------|\n    // |title       |\n    // |------------|\n    // |content     |\n    // |------------|\n    // |navigation  |\n    // |------------|\n\n    const availableExtentForItems = paddedRect.height - title.height - (title.height ? display.spacing : 0);\n    const availableSpreadForItems = paddedRect.width;\n    itemRenderer.parallelize(availableExtentForItems, isPreliminary ? undefined : availableSpreadForItems);\n\n    const navigationSize = itemRenderer.extent() > availableExtentForItems ? navigationRenderer.extent() : 0;\n    navigation = {\n      x: paddedRect.x,\n      y: paddedRect.y + paddedRect.height - navigationSize,\n      width: paddedRect.width,\n      height: navigationSize\n    };\n\n    content = {\n      x: paddedRect.x,\n      y: title.y + title.height + (title.height ? display.spacing : 0),\n      width: paddedRect.width,\n      height: paddedRect.height - title.height - (title.height ? display.spacing : 0) - navigation.height - (navigation.height ? display.spacing : 0)\n    };\n\n    preferredSize = Math.max(titleRenderer.extent(), navigationSize ? navigationRenderer.spread() : 0, itemRenderer.spread());\n  }\n\n  content = extend({}, rect, {\n    x: rect.x + content.x,\n    y: rect.y + content.y,\n    width: content.width,\n    height: content.height\n  });\n\n  navigation.x += rect.x;\n  navigation.y += rect.y;\n\n  title.x += rect.x;\n  title.y += rect.y;\n\n  return {\n    title: extend({}, rect, title),\n    content: extend({}, rect, content),\n    navigation: extend({}, rect, navigation),\n    orientation,\n    preferredSize\n  };\n}\n","import extend from 'extend';\nimport resolveSettings from './legend-resolver';\nimport itemRendererFactory from './item-renderer';\nimport navigationRendererFactory from './navigation-renderer';\nimport titleRendererFactory from './title-renderer';\nimport layout from './legend-layout';\n\nfunction update(comp) {\n  comp.state.resolved = resolveSettings(comp);\n  comp.titleRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center'\n  });\n  comp.itemRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center'\n  });\n  comp.navigationRenderer.itemize({\n    resolved: comp.state.resolved,\n    dock: comp.settings.layout.dock || 'center',\n    navigation: comp.settings.settings.navigation\n  });\n\n  comp.state.display = {\n    spacing: 8\n  };\n}\n\nfunction preferredSize(comp, size) {\n  let s = 0;\n  const dock = comp.settings.layout.dock || 'center';\n  const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n  const d = comp.state.display;\n  const tempLayout = layout(size.inner, d, orientation, {\n    itemRenderer: comp.itemRenderer,\n    navigationRenderer: comp.navigationRenderer,\n    titleRenderer: comp.titleRenderer,\n    isPreliminary: true\n  });\n  s += d.spacing; // start padding in both vertical and horizontal mode\n  s += tempLayout.preferredSize;\n  s += d.spacing; // end padding in both vertical and horizontal mode\n  return s;\n}\n\nfunction render(legend) {\n  const {\n    rect,\n    settings,\n    state,\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  } = legend;\n  const dock = settings.layout.dock;\n  const orientation = dock === 'top' || dock === 'bottom' ? 'horizontal' : 'vertical';\n  const l = layout(rect, state.display, orientation, {\n    itemRenderer,\n    navigationRenderer,\n    titleRenderer\n  });\n\n  legend.renderer.size(l.content);\n\n  // l.content.x = 0;\n  // l.content.y = 0;\n\n  // l.navigation.x += rect.x;\n  // l.navigation.y += rect.y;\n\n  // l.title.x += rect.x;\n  // l.title.y += rect.y;\n\n  let contentItems = itemRenderer.getItemsToRender({\n    viewRect: extend({}, l.content, { x: 0, y: 0 })\n  });\n\n  navigationRenderer.render({\n    rect: l.navigation,\n    itemRenderer\n  });\n\n  titleRenderer.render({\n    rect: l.title\n  });\n\n  legend.state.views = {\n    layout: l\n  };\n\n  return contentItems;\n}\n\nconst component = {\n  require: ['chart', 'settings', 'renderer', 'update', 'resolver', 'registries'],\n  defaultSettings: {\n    settings: {},\n    style: {\n      item: {\n        label: '$label',\n        shape: '$shape'\n      },\n      title: '$title'\n    }\n  },\n  mounted(renderElement) {\n    if (renderElement && renderElement.parentNode) {\n      this.navigationRenderer.renderer.appendTo(renderElement.parentNode);\n      this.titleRenderer.renderer.appendTo(renderElement.parentNode);\n\n      renderElement.parentNode.insertBefore(this.navigationRenderer.renderer.element(), renderElement);\n      renderElement.parentNode.insertBefore(this.titleRenderer.renderer.element(), renderElement);\n    }\n    this.navigationRenderer.render({\n      rect: this.state.views.layout.navigation,\n      itemRenderer: this.itemRenderer\n    });\n\n    this.titleRenderer.render({\n      rect: this.state.views.layout.title\n    });\n  },\n  beforeUnmount() {\n    this.navigationRenderer.renderer.clear();\n    this.titleRenderer.renderer.clear();\n  },\n  on: {\n    panstart() {\n      if (this.state.interaction.started) {\n        return;\n      }\n      const contentOverflow = this.itemRenderer.getContentOverflow();\n      if (!contentOverflow) {\n        return;\n      }\n      this.state.interaction.started = true;\n      this.state.interaction.delta = 0;\n    },\n    panmove(e) {\n      if (!this.state.interaction.started) {\n        return;\n      }\n      const delta = this.itemRenderer.orientation() === 'horizontal' ? (this.itemRenderer.direction() === 'rtl' ? -1 : 1) * e.deltaX : e.deltaY;\n      this.itemRenderer.scroll(delta - this.state.interaction.delta);\n      this.state.interaction.delta = delta;\n    },\n    panend() {\n      this.state.interaction.started = false;\n    },\n    scroll(delta) {\n      this.itemRenderer.scroll(-delta);\n    },\n    next() {\n      this.itemRenderer.next();\n    },\n    prev() {\n      this.itemRenderer.prev();\n    }\n  },\n  created() {\n    this.state = {\n      interaction: {}\n    };\n    this.onScroll = () => {\n      const items = render(this);\n      this.update(items);\n    };\n    this.itemRenderer = itemRendererFactory(this, {\n      onScroll: this.onScroll\n    });\n    this.navigationRenderer = navigationRendererFactory(this);\n    this.titleRenderer = titleRendererFactory(this);\n    this.navigationRenderer.renderer = this.registries.renderer('dom')();\n    this.titleRenderer.renderer = this.registries.renderer(this.settings.renderer)();\n    update(this);\n  },\n  preferredSize(obj) {\n    return preferredSize(this, obj);\n  },\n  beforeUpdate() {\n    update(this);\n  },\n  render() {\n    return render(this);\n  },\n  beforeDestroy() {\n    this.navigationRenderer.renderer.destroy();\n    this.titleRenderer.renderer.destroy();\n  },\n  additionalElements() {\n    return [\n      this.titleRenderer.renderer.element(),\n      this.navigationRenderer.renderer.element()\n    ];\n  },\n  _DO_NOT_USE_getInfo() {\n    return {\n      offset: this.itemRenderer.offset()\n    };\n  }\n};\n\nexport default component;\n","import component from './legend-cat';\n\n/**\n * @typedef {object} component--legend-cat\n * @property {string} scale\n */\n\n/**\n * @type {string}\n * @memberof component--legend-cat\n */\nconst type = 'legend-cat';\n\nexport default function categoricalLegend(picasso) {\n  picasso.component(type, component);\n}\n","function applyAlignJustify(ctx, node) {\n  let wiggle = 0;\n  const cmd = {\n    type: ctx.state.isVertical ? 'justify' : 'align',\n    coord: ctx.state.isVertical ? 'y' : 'x',\n    pos: ctx.state.isVertical ? 'height' : 'width',\n    fn: ctx.state.isVertical ? 'requiredHeight' : 'requiredWidth'\n  };\n\n  wiggle = ctx.state.rect[cmd.pos] - ctx.state.legend.length() - ctx.state.title[cmd.fn]();\n  wiggle *= Math.min(1, Math.max(ctx.stgns[cmd.type], 0));\n  node[cmd.coord] += wiggle;\n}\n\nexport function generateStopNodes(ctx) {\n  const fillScale = ctx.state.legend.fillScale;\n  const majorScale = ctx.state.legend.majorScale;\n  const stops = fillScale.domain().map(d => ({\n    type: 'stop',\n    color: fillScale(d),\n    offset: Math.min(1, Math.max(0, majorScale.norm(d)))\n  }));\n\n  return stops.sort((a, b) => a.offset - b.offset);\n}\n\nexport function createTitleNode(ctx) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const isTickLeft = state.ticks.anchor === 'left';\n  const isTickTop = state.ticks.anchor === 'top';\n  let x = state.rect.x;\n  let y = state.rect.y;\n  let textAnchor = 'start';\n\n  if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth() - settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n    textAnchor = 'end';\n  } else if (state.title.anchor === 'right') {\n    x += state.legend.length();\n    x += settings.title.padding;\n    y += state.title.textMetrics.height;\n    y += isTickTop ? state.rect.height - state.title.textBounds.height : 0;\n  } else if (state.title.anchor === 'top') {\n    x += isTickLeft ? state.rect.width : 0;\n    y += state.title.textMetrics.height;\n    textAnchor = isTickLeft ? 'end' : 'start';\n  }\n\n  const node = {\n    tag: 'legend-title',\n    type: 'text',\n    x,\n    y: Math.min(y, state.rect.y + state.rect.height),\n    text: settings.title.text,\n    fill: settings.title.fill,\n    fontSize: settings.title.fontSize,\n    fontFamily: settings.title.fontFamily,\n    maxWidth: settings.title.maxLengthPx,\n    maxLines: settings.title.maxLines,\n    wordBreak: settings.title.wordBreak,\n    hyphens: settings.title.hyphens,\n    lineHeight: settings.title.lineHeight,\n    anchor: textAnchor,\n    title: settings.title.text\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createLegendRectNode(ctx, stops) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  const container = state.rect;\n  let x = container.x;\n  let y = container.y;\n  let width = state.isVertical ? settings.size : state.legend.length();\n  let height = state.isVertical ? state.legend.length() : settings.size;\n\n  if (state.ticks.anchor === 'left') {\n    x += state.rect.width - settings.size;\n  } else if (state.ticks.anchor === 'top') {\n    y += state.rect.height - settings.size;\n  }\n\n  if (state.title.anchor === 'top') {\n    y += state.title.requiredHeight();\n  } else if (state.title.anchor === 'left') {\n    x += state.title.requiredWidth();\n  }\n\n  const node = {\n    type: 'rect',\n    x,\n    y,\n    width,\n    height,\n    fill: {\n      type: 'gradient',\n      stops,\n      degree: state.isVertical ? 90 : 180\n    }\n  };\n\n  applyAlignJustify(ctx, node);\n  return node;\n}\n\nexport function createTickNodes(ctx, legendNode) {\n  const state = ctx.state;\n  const settings = ctx.stgns;\n  let anchor = 'start';\n  const rangeSelectorRect = {\n    type: 'rect',\n    x: legendNode.x,\n    y: legendNode.y,\n    width: state.isVertical ? 0 : legendNode.width,\n    height: state.isVertical ? legendNode.height : 0,\n    fill: 'transparent'\n  };\n\n  const nodes = state.ticks.values.map((tick) => {\n    let x = 0;\n    let y = 0;\n    let dx = 0;\n    let dy = 0;\n\n    if (state.isVertical) {\n      y = legendNode.y + (legendNode.height * tick.pos);\n      dy = tick.pos === 1 ? -(tick.textMetrics.height / 5) : tick.textMetrics.height;\n    } else {\n      x = legendNode.x + (legendNode.width * tick.pos);\n    }\n\n    if (state.ticks.anchor === 'right') {\n      x = legendNode.x + settings.size + settings.tick.padding;\n\n      rangeSelectorRect.x = legendNode.x + legendNode.width;\n    } else if (state.ticks.anchor === 'left') {\n      x = legendNode.x - settings.tick.padding;\n      anchor = 'end';\n    } else if (state.ticks.anchor === 'top') {\n      y = legendNode.y - settings.tick.padding;\n      dy -= tick.textMetrics.height * 0.25;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n    } else if (state.ticks.anchor === 'bottom') {\n      y = legendNode.y + legendNode.height + settings.tick.padding;\n      dy = tick.textMetrics.height * 0.8;\n      anchor = tick.pos === 0 ? 'start' : 'end';\n\n      rangeSelectorRect.y = legendNode.y + legendNode.height;\n    }\n\n    const node = {\n      type: 'text',\n      x,\n      y,\n      dx,\n      dy,\n      text: tick.label,\n      fontSize: settings.tick.fontSize,\n      fontFamily: settings.tick.fontFamily,\n      fill: settings.tick.fill,\n      maxWidth: state.isVertical ? settings.tick.maxLengthPx : Math.min(settings.tick.maxLengthPx, state.legend.length() / 2),\n      anchor,\n      textBoundsFn: ctx.renderer.textBounds,\n      title: tick.label\n    };\n\n    return node;\n  });\n\n  return {\n    type: 'container',\n    id: 'legend-seq-ticks',\n    children: [...nodes, rangeSelectorRect]\n  };\n}\n","import {\n  createTitleNode,\n  generateStopNodes,\n  createLegendRectNode,\n  createTickNodes\n} from './node-builder';\n\n\nfunction resolveAnchor(dock, anchor, map) {\n  const mapped = map[dock];\n  if (typeof mapped === 'object') {\n    if (mapped.valid.indexOf(anchor) !== -1) {\n      return anchor;\n    }\n    return mapped.default;\n  }\n\n  return map.default;\n}\n\nfunction resolveTickAnchor(settings) {\n  const dock = settings.layout.dock;\n  const anchor = settings.settings.tick.anchor;\n\n  const dockAnchorMap = {\n    left: { valid: ['left', 'right'], default: 'left' },\n    right: { valid: ['left', 'right'], default: 'right' },\n    top: { valid: ['top', 'bottom'], default: 'top' },\n    bottom: { valid: ['top', 'bottom'], default: 'bottom' },\n    default: 'right'\n  };\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction resolveTitleAnchor(settings) {\n  const dockAnchorMap = {\n    left: { valid: ['top'], default: 'top' },\n    right: { valid: ['top'], default: 'top' },\n    top: { valid: ['left', 'right'], default: 'left' },\n    bottom: { valid: ['left', 'right'], default: 'left' },\n    default: 'top'\n  };\n\n  const dock = settings.layout.dock;\n  const anchor = settings.settings.title.anchor;\n\n  return resolveAnchor(dock, anchor, dockAnchorMap);\n}\n\nfunction initRect(ctx, size) {\n  const rect = {\n    x: 0, y: 0, width: 0, height: 0\n  };\n  const padding = ctx.stgns.padding;\n  rect.x = padding.left;\n  rect.y = padding.top;\n  rect.width = size.width - padding.left - padding.right;\n  rect.height = size.height - padding.top - padding.bottom;\n\n  return rect;\n}\n\nfunction getTicks(ctx, majorScale) {\n  const values = majorScale.domain();\n  let labels = values;\n  let labelFn = ctx.stgns.tick.label;\n  if (!labelFn && ctx.formatter) {\n    labelFn = ctx.formatter;\n  } else if (!labelFn && majorScale.data().fields) {\n    labelFn = majorScale.data().fields[0].formatter();\n  }\n  if (typeof labelFn === 'function') {\n    labels = values.map(labelFn).map(String);\n  }\n\n  const ticks = values.map((value, i) => {\n    const label = labels[i];\n    return {\n      value,\n      label,\n      pos: majorScale.norm(parseFloat(value, 10)),\n      textMetrics: ctx.renderer.measureText({\n        text: label,\n        fontSize: ctx.stgns.tick.fontSize,\n        fontFamily: ctx.stgns.tick.fontFamily\n      })\n    };\n  });\n\n  return ticks;\n}\n\nfunction initState(ctx) {\n  const isVertical = ctx.settings.layout.dock !== 'top' && ctx.settings.layout.dock !== 'bottom';\n  const titleStgns = ctx.stgns.title;\n\n  const fillScale = ctx.chart.scale(ctx.stgns.fill);\n  const majorScale = ctx.chart.scale(ctx.stgns.major);\n  const tickValues = getTicks(ctx, majorScale);\n  const tickAnchor = resolveTickAnchor(ctx.settings);\n\n  if (typeof titleStgns.text === 'undefined') {\n    const fields = majorScale.data().fields;\n    titleStgns.text = fields && fields[0] ? fields[0].title() : '';\n  }\n\n  const titleTextMetrics = ctx.renderer.measureText({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily\n  });\n\n  const titleTextBounds = ctx.renderer.textBounds({\n    text: titleStgns.text,\n    fontSize: titleStgns.fontSize,\n    fontFamily: titleStgns.fontFamily,\n    maxLines: titleStgns.maxLines,\n    maxWidth: titleStgns.maxLengthPx,\n    wordBreak: titleStgns.wordBreak,\n    hyphens: titleStgns.hyphens,\n    lineHeight: titleStgns.lineHeight\n  });\n\n  const state = {\n    isVertical,\n    nodes: [],\n    title: {\n      anchor: resolveTitleAnchor(ctx.settings),\n      textMetrics: titleTextMetrics,\n      textBounds: titleTextBounds,\n      requiredWidth: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let w = titleTextBounds.width;\n        let mw = titleStgns.maxLengthPx;\n        if (!isVertical) {\n          w += titleStgns.padding;\n          mw += titleStgns.padding;\n        }\n        return Math.min(w, mw, state.rect.width);\n      },\n      requiredHeight: () => {\n        if (!titleStgns.show) {\n          return 0;\n        }\n        let h = titleTextBounds.height;\n        if (isVertical) {\n          h += titleStgns.padding;\n        }\n        return Math.min(h, state.rect.height);\n      }\n    },\n    ticks: {\n      values: tickValues,\n      anchor: tickAnchor,\n      length: Math.min(Math.max(...tickValues.map(t => t.textMetrics.width)), ctx.stgns.tick.maxLengthPx),\n      requiredHeight: () => (tickAnchor === 'top' ? Math.max(...state.ticks.values.map(t => t.textMetrics.height)) + ctx.stgns.tick.padding : 0),\n      height: Math.max(...tickValues.map(t => t.textMetrics.height))\n    },\n    legend: {\n      fillScale,\n      majorScale,\n      length: () => {\n        const pos = isVertical ? 'height' : 'width';\n        const fnPos = isVertical ? 'requiredHeight' : 'requiredWidth';\n        const len = Math.min(state.rect[pos], state.rect[pos] * ctx.stgns.length) - state.title[fnPos]();\n        return Math.max(0, Math.min(len, ctx.stgns.maxLengthPx));\n      }\n    }\n  };\n\n  return state;\n}\n\n/**\n * @typedef {object} component--legend-seq\n * @property {string} fill - Reference to definition of sequential color scale\n * @property {string} major - Reference to definition of linear scale\n * @property {number} [size=15] - Size in pixels of the legend, if vertical is the width and height otherwise\n * @property {number} [length=1] - A value in the range 0-1 indicating the length of the legend node\n * @property {number} [maxLengthPx=250] - Max length in pixels\n * @property {number} [align=0.5] - A value in the range 0-1 indicating horizontal alignment of the legend's content. 0 aligns to the left, 1 to the right.\n * @property {number} [justify=0] - A value in the range 0-1 indicating vertical alignment of the legend's content. 0 aligns to the top, 1 to the bottom.\n * @property {object} [padding]\n * @property {number} [padding.left=5]\n * @property {number} [padding.right=5]\n * @property {number} [padding.top=5]\n * @property {number} [padding.bottom=5]\n * @property {object} [tick]\n * @property {function} [tick.label] - Function applied to all tick values, returned values are used as labels\n * @property {string} [tick.fill='#595959']\n * @property {string} [tick.fontSize='12px']\n * @property {string} [tick.fontFamily='Arial']\n * @property {number} [tick.maxLengthPx=150] - Max length in pixels\n * @property {string} [tick.anchor='right'] - Where to anchor the tick in relation to the legend node, supported values are [top, bottom, left and right]\n * @property {number} [tick.padding=5] - padding in pixels to the legend node\n * @property {object} [title] - Title settings\n * @property {boolean} [title.show=true] - Toggle title on/off\n * @property {string} [title.text=''] - Title text. Defaults to the title of the provided data field\n * @property {string} [title.fill='#595959']\n * @property {string} [title.fontSize='12px']\n * @property {string} [title.fontFamily='Arial']\n * @property {number} [title.maxLengthPx=100] - Max length in pixels\n * @property {number} [title.padding=5] - padding in pixels to the legend node\n * @property {string} [title.anchor='top'] - Where to anchor the title in relation to the legend node, supported values are [top, left and right]\n * @property {string} [title.wordBreak='none'] - How overflowing title is handled, if it should insert line breaks at word boundries (break-word) or character boundries (break-all)\n * @property {string} [title.hyphens='auto'] - How words should be hyphenated when text wraps across multiple lines (only applicable with wordBreak)\n * @property {number} [title.maxLines=2] - Number of allowed lines if title contains line breaks (only applicable with wordBreak)\n * @property {number} [title.lineHeight=1.2] - A multiplier defining the distance between lines (only applicable with wordBreak)\n */\n\nconst legendDef = {\n  require: ['chart', 'settings', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 0,\n      dock: 'right'\n    },\n    settings: {\n      size: 15,\n      length: 0.5,\n      maxLengthPx: 250,\n      align: 0.5,\n      justify: 0,\n      padding: {\n        left: 5,\n        right: 5,\n        top: 5,\n        bottom: 5\n      },\n      tick: {\n        label: null,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        anchor: null, // Use default based on dock\n        padding: 5\n      },\n      title: {\n        show: true,\n        text: undefined,\n        fill: '#595959',\n        fontSize: '12px',\n        fontFamily: 'Arial',\n        maxLengthPx: 100,\n        padding: 5,\n        maxLines: 2,\n        wordBreak: 'none',\n        lineHeight: 1.2,\n        hyphens: 'auto',\n        anchor: null // Use default based on dock\n      }\n    }\n  },\n  preferredSize(opts) {\n    const state = this.state;\n    state.rect = initRect(this, opts.inner);\n\n    // Init with size of legend\n    let prefSize = this.stgns.size;\n\n    // Append paddings\n    const paddings = state.isVertical ? this.stgns.padding.left + this.stgns.padding.right : this.stgns.padding.top + this.stgns.padding.bottom;\n    prefSize += paddings;\n\n    // Append tick size\n    const maxSize = Math.max(opts.inner.width, opts.inner.height);\n    if ((state.ticks.anchor === 'left' || state.ticks.anchor === 'right')) {\n      const tHeight = state.ticks.values.reduce((sum, t) => sum + t.textMetrics.height, 0);\n      if (tHeight > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += state.ticks.length;\n    } else {\n      const tWidth = state.ticks.length;\n      if (tWidth > this.state.legend.length()) {\n        return maxSize;\n      }\n      prefSize += Math.max(...state.ticks.values.map(t => t.textMetrics.height));\n    }\n    prefSize += this.stgns.tick.padding;\n\n    // Append or use title size\n    if (this.stgns.title.show) {\n      if (state.title.anchor === 'left' || state.title.anchor === 'right') {\n        prefSize = Math.max(state.title.textBounds.height + paddings, prefSize);\n      } else {\n        prefSize = Math.max(prefSize, state.title.requiredWidth() + paddings);\n      }\n    }\n\n    this.state.preferredSize = prefSize;\n    return prefSize;\n  },\n  created() {\n    this.stgns = this.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeUpdate(opts) {\n    this.stgns = opts.settings.settings;\n\n    this.state = initState(this);\n  },\n  beforeRender(opts) {\n    this.state.nodes = [];\n    this.state.rect = initRect(this, opts.size);\n\n    if (this.stgns.title.show) {\n      const titleNode = createTitleNode(this);\n      this.state.nodes.push(titleNode);\n    }\n\n    const stopNodes = generateStopNodes(this);\n    const rectNode = createLegendRectNode(this, stopNodes);\n    const tickNodes = createTickNodes(this, rectNode);\n\n    const targetNode = { // The target node enables range selection component to limit its range to a specific area\n      id: 'legend-seq-target',\n      type: 'container',\n      children: [rectNode, tickNodes]\n    };\n\n    this.state.nodes.push(targetNode);\n  },\n  render() {\n    return this.state.nodes;\n  }\n};\n\nexport default legendDef;\n","import legendSeq from './legend-seq';\n\nexport default function sequentialLegend(picasso) {\n  picasso.component('legend-seq', legendSeq);\n}\n","import extend from 'extend';\nimport {\n  area,\n  curveLinear,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore,\n  curveBasis,\n  curveCardinal,\n  curveCatmullRom,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural\n} from 'd3-shape';\n\nconst CURVES = {\n  step: curveStep,\n  stepAfter: curveStepAfter,\n  stepBefore: curveStepBefore,\n  linear: curveLinear,\n  basis: curveBasis,\n  cardinal: curveCardinal.tension(0),\n  catmullRom: curveCatmullRom,\n  monotonex: curveMonotoneX,\n  monotoney: curveMonotoneY,\n  natural: curveNatural\n};\n\n/**\n * @callback component--line~layerSort\n * @param {object} a\n * @param {string} a.id\n * @param {Array<datum-extract>} a.data\n * @param {object} b\n * @param {string} b.id\n * @param {Array<datum-extract>} b.data\n */\n\n/**\n * @typedef {object}\n * @alias component--line-settings\n */\nconst SETTINGS = {\n  /**\n   * @typedef {object}\n   */\n  coordinates: {\n    /**\n     * @type {number} */\n    minor: 0.5,\n    /**\n     * @type {number} */\n    major: 0.5,\n    /**\n     * @type {number=} */\n    layerId: 0\n  },\n  /**\n   * @type {string=} */\n  orientation: 'horizontal',\n  /**\n   * @typedef {object} */\n  layers: {\n    /**\n     * @type {string=} */\n    curve: 'linear',\n    /**\n     * @type {boolean=} */\n    show: true,\n    /**\n     * @type {component--line~layerSort=} */\n    sort: undefined,\n    /**\n     * @typedef {object} */\n    line: {\n      /**\n       * @type {string=} */\n      stroke: '#ccc',\n      /**\n       * @type {number=} */\n      strokeWidth: 1,\n      /**\n       * @type {string=} */\n      strokeLinejoin: 'miter',\n      /**\n       * @type {string=} */\n      strokeDasharray: undefined,\n      /**\n       * @type {number=} */\n      opacity: 1,\n      /**\n       * @type {boolean=} */\n      show: true\n    },\n    /**\n     * @typedef {object} */\n    area: {\n      /**\n       * @type {string=} */\n      fill: '#ccc',\n      /**\n       * @type {number=} */\n      opacity: 0.8,\n      /**\n       * @type {boolean=} */\n      show: true\n    }\n  }\n};\n\nfunction createDisplayLayer(points, {\n  generator,\n  item,\n  data\n}, fill = '') {\n  const path = generator(points);\n  const d = {\n    type: 'path',\n    d: path,\n    opacity: item.opacity,\n    stroke: item.stroke,\n    strokeWidth: item.strokeWidth,\n    strokeLinejoin: item.strokeLinejoin,\n    fill: fill || item.fill,\n    data\n  };\n\n  if (item.strokeDasharray) {\n    d.strokeDasharray = item.strokeDasharray;\n  }\n\n  return d;\n}\n\nfunction createDisplayLayers(layers, {\n  width,\n  height,\n  missingMinor0,\n  stngs\n}) {\n  const nodes = [];\n  const layerStngs = stngs.layers || {};\n  layers.forEach((layer) => {\n    const {\n      lineObj, layerObj, areaObj, points\n    } = layer;\n\n    const areaGenerator = area();\n    let lineGenerator;\n    let secondaryLineGenerator;\n    let minor = { size: height, p: 'y' };\n    let major = { size: width, p: 'x' };\n    if (stngs.orientation === 'vertical') {\n      const temp = extend(true, {}, major);\n      major = extend(true, {}, minor);\n      minor = extend(true, {}, temp);\n    }\n\n    areaGenerator\n      [major.p](d => d.major * major.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}1`](d => d.minor * minor.size) // eslint-disable-line no-unexpected-multiline\n      [`${minor.p}0`](d => d.minor0 * minor.size) // eslint-disable-line no-unexpected-multiline\n      .defined(d => typeof d.minor === 'number' && !isNaN(d.minor))\n      .curve(CURVES[layerObj.curve === 'monotone' ? `monotone${major.p}` : layerObj.curve]);\n    lineGenerator = areaGenerator[`line${minor.p.toUpperCase()}1`]();\n    secondaryLineGenerator = areaGenerator[`line${minor.p.toUpperCase()}0`]();\n\n    // area layer\n    if (layerStngs.area && areaObj.show !== false) {\n      nodes.push(createDisplayLayer(points, {\n        data: layer.firstPoint,\n        item: areaObj,\n        generator: areaGenerator\n      }));\n    }\n\n    // main line layer\n    if (lineObj && lineObj.show !== false) {\n      nodes.push(createDisplayLayer(points, {\n        data: layer.firstPoint,\n        item: lineObj,\n        generator: lineGenerator\n      }, 'none'));\n\n      // secondary line layer, used only when rendering area\n      if (!missingMinor0 && layerStngs.area && areaObj.show !== false) {\n        nodes.push(createDisplayLayer(points, {\n          data: layer.firstPoint,\n          item: lineObj,\n          generator: secondaryLineGenerator\n        }, 'none'));\n      }\n    }\n  });\n\n  return nodes;\n}\n\nfunction resolve({\n  data,\n  stngs,\n  rect,\n  resolver,\n  style\n}) {\n  const { width, height } = rect;\n  const coordinates = resolver.resolve({\n    data,\n    defaults: SETTINGS.coordinates,\n    settings: stngs.coordinates || {},\n    scaled: {\n      major: stngs.orientation === 'vertical' ? height : width,\n      minor: stngs.orientation === 'vertical' ? width : height\n    }\n  });\n\n  // collect points into layers\n  const layerIds = {};\n  let numLines = 0;\n  for (let i = 0; i < coordinates.items.length; i++) {\n    let p = coordinates.items[i];\n    let lid = p.layerId;\n    layerIds[lid] = layerIds[lid] || {\n      order: numLines++, id: lid, items: [], firstPoint: p.data\n    };\n    layerIds[lid].items.push(p);\n  }\n\n  const metaLayers = Object.keys(layerIds).map(lid => layerIds[lid]);\n  const layersData = { items: metaLayers.map(layer => layer.firstPoint) };\n  const layerStngs = stngs.layers || {};\n\n  const layersResolved = resolver.resolve({\n    data: layersData,\n    defaults: {\n      curve: SETTINGS.layers.curve,\n      show: SETTINGS.layers.show\n    },\n    settings: {\n      curve: layerStngs.curve,\n      show: layerStngs.show\n    }\n  });\n\n  const linesResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.line, style.line),\n    settings: layerStngs.line\n  });\n\n  const areasResolved = resolver.resolve({\n    data: layersData,\n    defaults: extend({}, SETTINGS.layers.area, style.area),\n    settings: layerStngs.area\n  });\n\n  return {\n    coordinates,\n    metaLayers,\n    layers: layersResolved,\n    lines: linesResolved,\n    areas: areasResolved\n  };\n}\n\nfunction calculateVisibleLayers(opts) {\n  const {\n    metaLayers,\n    coordinates,\n    layers,\n    lines,\n    areas\n  } = resolve(opts);\n\n  const visibleLayers = [];\n  metaLayers.forEach((layer, ix) => {\n    const layerObj = layers.items[ix];\n    if (layerObj.show === false) {\n      return;\n    }\n\n    // layerObj.points = [];\n    layerObj.datum = layerObj.data;\n    layerObj.data = [];\n    layerObj.id = layer.id;\n\n    const values = [];\n    const points = [];\n    let point;\n    let pData;\n    for (let i = 0; i < layer.items.length; i++) {\n      point = layer.items[i];\n      pData = point.data;\n      if (isNaN(point.major)) {\n        continue;\n      }\n      if (opts.missingMinor0) {\n        point.minor0 = coordinates.settings.minor.scale ? coordinates.settings.minor.scale(pData.minor0 ? pData.minor0.value : 0) : 0;\n      }\n      if (!isNaN(point.minor)) {\n        values.push(point.minor);\n      }\n      points.push(point);\n      layerObj.data.push(point.data);\n    }\n\n    const median = values.sort((a, b) => a - b)[Math.floor((values.length - 1) / 2)];\n\n    visibleLayers.push({\n      layerObj,\n      lineObj: lines.items[ix],\n      areaObj: areas.items[ix],\n      median,\n      points,\n      firstPoint: layer.firstPoint\n    });\n  });\n\n  return visibleLayers;\n}\n\nconst lineMarkerComponent = {\n  require: ['chart', 'resolver'],\n  defaultSettings: {\n    style: {\n      area: '$shape',\n      line: '$shape-outline'\n    }\n  },\n  created() {\n  },\n  render({ data }) {\n    const { width, height } = this.rect;\n    this.stngs = this.settings.settings || {};\n    const missingMinor0 = !this.stngs.coordinates || typeof this.stngs.coordinates.minor0 === 'undefined';\n\n    const visibleLayers = calculateVisibleLayers({\n      data,\n      stngs: this.stngs,\n      rect: this.rect,\n      resolver: this.resolver,\n      style: this.style,\n      missingMinor0\n    });\n\n    if (this.stngs.layers && this.stngs.layers.sort) {\n      const sortable = visibleLayers.map(v => ({\n        id: v.layerObj.id,\n        data: v.layerObj.data\n      }));\n      sortable.sort(this.stngs.layers.sort).map(s => s.id);\n      visibleLayers.sort((a, b) => sortable.indexOf(b.layerObj.id) - sortable.indexOf(a.layerObj.id));\n    } else {\n      visibleLayers.sort((a, b) => a.median - b.median);\n    }\n\n    // generate visuals\n    return createDisplayLayers(visibleLayers, {\n      width,\n      height,\n      missingMinor0,\n      stngs: this.stngs\n    });\n  }\n};\n\nexport default lineMarkerComponent;\n","import component from './line';\n\n/**\n * @typedef {object} component--line\n */\n\n/**\n * @type {string}\n * @memberof component--line\n */\nconst type = 'line';\n\nexport default function line(picasso) {\n  picasso.component(type, component);\n}\n","import extend from 'extend';\nimport { testRectPoint } from '../../../core/math/narrow-phase-collision';\n\n/**\n * @typedef {object} component--brush-area-brush\n * @property {string} key - Component key\n * @property {string[]} [contexts] - Name of the brushing contexts to affect\n * @property {string[]} [data] - The mapped data properties to add to the brush\n * @property {string} [action='set'] - Type of action to respond with\n */\n\n/**\n  * @typedef {object}\n  * @alias component--brush-area-settings\n  */\nconst DEFAULT_SETTINGS = {\n  /**\n   * @type {object}\n   */\n  brush: {\n    /**\n   * @type {Array<component--brush-area-brush>}\n   */\n    components: []\n  }\n};\n\n/**\n * Transform the incoming event into point in the local coordinate system. That is the coordinate system of the component.\n * @private\n * @param {object} ctx - Context\n * @param {object} event - Incoming event, either native event or hammer event\n * @param {boolean} clamp - True to clamp the point inside the component bounds\n * @returns {point}\n */\nfunction getLocalPoint(ctx, event, clamp = true) {\n  let x;\n  let y;\n\n  if (typeof event.center === 'object') {\n    x = event.center.x;\n    y = event.center.y;\n  } else {\n    x = event.clientX;\n    y = event.clientY;\n  }\n\n  const localX = x - ctx.state.boundingRect.left;\n  const localY = y - ctx.state.boundingRect.top;\n\n  return {\n    x: clamp ? Math.max(0, Math.min(localX, ctx.rect.width)) : localX,\n    y: clamp ? Math.max(0, Math.min(localY, ctx.rect.height)) : localY\n  };\n}\n\n/**\n * Transform a local point into a point in the chart coordinate system.\n * @private\n * @param {object} ctx - Context\n * @param {object} p - Point to transform\n * @returns {point}\n */\nfunction localToChartPoint(ctx, p) {\n  return {\n    x: p.x + ctx.rect.x,\n    y: p.y + ctx.rect.y\n  };\n}\n\n/**\n * Extract and apply default brush configuration.\n * @private\n * @param {object} settings\n * @returns {object[]} An Array of brush configurations\n */\nfunction getBrushConfig(settings) {\n  return settings.settings.brush.components.map(b => (\n    {\n      key: b.key,\n      contexts: b.contexts,\n      data: b.data,\n      action: b.action || 'set'\n    }));\n}\n\n/**\n * End all active brush contexts.\n * @private\n * @param {oject} state\n * @param {object} chart - Chart instance\n */\nfunction doEndBrush(state, chart) {\n  state.brushConfig.forEach((config) => {\n    if (Array.isArray(config.contexts)) {\n      config.contexts.forEach((context) => {\n        chart.brush(context).end();\n      });\n    }\n  });\n}\n\n/**\n * Convert two points into a rectangle.\n * @private\n * @param {point} p0\n * @param {point} p1\n * @returns {rect}\n */\nfunction toRect(p0, p1) {\n  const xMin = Math.min(p0.x, p1.x);\n  const yMin = Math.min(p0.y, p1.y);\n  const xMax = Math.max(p0.x, p1.x);\n  const yMax = Math.max(p0.y, p1.y);\n\n  return {\n    x: xMin,\n    y: yMin,\n    width: xMax - xMin,\n    height: yMax - yMin\n  };\n}\n\n/**\n * Perform a brush on the given area.\n * @private\n * @param {object} ctx\n */\nfunction doAreaBrush(ctx) {\n  if (ctx.state.active) {\n    const start = localToChartPoint(ctx, ctx.state.start);\n    const end = localToChartPoint(ctx, ctx.state.end);\n\n    const shapes = ctx.chart.shapesAt(toRect(start, end), { components: ctx.state.brushConfig });\n    ctx.chart.brushFromShapes(shapes, { components: ctx.state.brushConfig });\n  }\n}\n\nfunction render(ctx) {\n  ctx.renderer.render([\n    extend({ type: 'rect' }, toRect(ctx.state.start, ctx.state.end), ctx.style.area)\n  ]);\n}\n\nfunction resetState() {\n  return {\n    start: { x: 0, y: 0 },\n    end: { x: 0, y: 0 },\n    active: false\n  };\n}\n\nconst definition = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    layout: {\n      displayOrder: 99\n    },\n    settings: DEFAULT_SETTINGS,\n    style: {\n      area: '$selection-area-target'\n    }\n  },\n  on: {\n    areaStart(e) {\n      this.start(e);\n    },\n    areaMove(e) {\n      this.move(e);\n    },\n    areaEnd(e) {\n      this.end(e);\n    },\n    areaCancel() {\n      this.cancel();\n    }\n  },\n  created() {\n    this.state = resetState();\n  },\n  preferredSize() {\n    return 0;\n  },\n  render() {},\n  start(e) {\n    this.state.boundingRect = this.renderer.element().getBoundingClientRect();\n    const p = getLocalPoint(this, e, false);\n\n    // Require event to be inside the component bounds\n    if (!testRectPoint({\n      x: 0, y: 0, width: this.rect.width, height: this.rect.height\n    }, p)) {\n      return;\n    }\n\n    this.state.brushConfig = getBrushConfig(this.settings);\n    this.state.start = getLocalPoint(this, e);\n    this.state.active = true;\n  },\n  move(e) {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state.end = getLocalPoint(this, e);\n\n    doAreaBrush(this);\n    render(this);\n  },\n  end() {\n    if (!this.state.active) {\n      return;\n    }\n\n    this.state = resetState();\n    this.renderer.render([]);\n  },\n  cancel() {\n    if (!this.state.active) {\n      return;\n    }\n    doEndBrush(this.state, this.chart);\n    this.state = resetState();\n    this.renderer.render([]);\n  }\n\n};\n\nexport default definition;\n","import definition from './brush-area';\n\nexport default function areaBrush(picasso) {\n  picasso.component('brush-area', definition);\n}\n","import extend from 'extend';\n\nexport default function extractor(nodes, {\n  chart,\n  scale,\n  props,\n  h\n}) {\n  const dataCtx = {\n    resources: {\n      dataset: chart.dataset,\n      scale: chart.scale,\n      formatter: chart.formatter\n    },\n    scale,\n    h\n  };\n\n  const data = [];\n  nodes.forEach((node) => {\n    if (typeof props.extract === 'function') {\n      const ctx = extend({ node }, dataCtx);\n      data.push(props.extract(ctx));\n    }\n  });\n\n  return data;\n}\n","import extend from 'extend';\nimport classString from '../../../core/utils/class-string';\n\nfunction resolveClasses(props, opts) {\n  return {\n    tooltip: typeof props.tooltipClass === 'function' ? props.tooltipClass({ dock: opts.dock }) : props.tooltipClass,\n    content: typeof props.contentClass === 'function' ? props.contentClass({ dock: opts.dock }) : props.contentClass,\n    arrow: typeof props.arrowClass === 'function' ? props.arrowClass({ dock: opts.dock }) : props.arrowClass\n  };\n}\n\nfunction resolveContent(h, data, style, props) {\n  return props.content({\n    h,\n    style,\n    data\n  });\n}\n\nexport default function render(data, placement, {\n  renderer,\n  style,\n  props,\n  h\n}) {\n  const classes = resolveClasses(props, placement);\n  const content = resolveContent(h, data, style, props);\n\n  const tooltipDefaultStyle = {\n    position: 'relative',\n    display: 'inline-block'\n  };\n\n  const tooltipNode = (\n    <div dir={props.direction} class={classString(extend({ 'pic-tooltip': true }, classes.tooltip))} style={extend(tooltipDefaultStyle, placement.computedTooltipStyle)}>\n      <div style={style.content} class={classString(extend({ 'pic-tooltip-content': true }, classes.content))}>\n        {content}\n      </div>\n      <div class={classString(extend({ 'pic-tooltip-arrow': true }, classes.arrow))} style={extend({}, style.arrow, style[`arrow-${placement.dock}`], placement.computedArrowStyle)}></div>\n    </div>\n  );\n\n  renderer.render(tooltipNode);\n\n  return renderer.element().children[0];\n}\n","// Successfull flow: pending -> active -> fulfilled (only with duration)\n// Cancelled flow: pending -> active -> cancelled\n// Rejected flow: pending -> rejected\n// Debounced flow: pending -> debounced -> pending -> [rejected|fulfilled]\nfunction dispatcherState() {\n  const fn = function fn() { };\n  const on = {\n    pending: [],\n    debounced: [],\n    active: [],\n    cancelled: [],\n    rejected: [],\n    fulfilled: []\n  };\n  let state;\n\n  fn.set = (s) => {\n    state = s;\n    on[state].forEach(event => event(s));\n  };\n\n  fn.on = (key, event) => {\n    if (Array.isArray(key)) {\n      key.forEach(k => on[k].push(event));\n    } else {\n      on[key].push(event);\n    }\n  };\n\n  fn.destroy = () => {\n    Object.keys(on).forEach((key) => {\n      on[key].length = 0;\n    });\n  };\n\n  // fn.on(['pending', 'debounced', 'active', 'cancelled', 'rejected', 'fulfilled'], (e) => {\n  //   console.log(e);\n  // });\n\n  return fn;\n}\n\nexport default function timeSpanDispatcher({\n  defaultDuration,\n  defaultDelay\n}) {\n  let actionId = null;\n  let fulfilledId = null;\n  let isActive = false;\n  const state = dispatcherState();\n  const fn = function fn() {};\n  const fulfilled = () => {\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n    state.set('fulfilled');\n  };\n\n  fn.invoke = (action, duration = defaultDuration, delay = defaultDelay) => {\n    if (actionId) {\n      clearTimeout(actionId);\n      state.set('debounced');\n    }\n\n    state.set('pending');\n    actionId = setTimeout(() => {\n      action();\n      isActive = true;\n      actionId = null;\n      state.set('active');\n    }, delay);\n\n    if (duration > 0) {\n      if (fulfilledId) {\n        clearTimeout(fulfilledId);\n      }\n      fulfilledId = setTimeout(fulfilled, duration + Math.max(delay, 0));\n    }\n  };\n\n  fn.clear = () => {\n    if (isActive) {\n      state.set('cancelled');\n    } else if (actionId) {\n      clearTimeout(actionId);\n      state.set('rejected');\n    }\n    if (fulfilledId) {\n      clearTimeout(fulfilledId);\n    }\n    actionId = null;\n    fulfilledId = null;\n    isActive = false;\n  };\n\n  fn.on = (key, event) => {\n    state.on(key, event);\n  };\n\n  fn.destroy = () => {\n    fn.clear();\n    state.destroy();\n  };\n\n  return fn;\n}\n","import extend from 'extend';\n\nfunction getDockTransform(offset = 0) {\n  return {\n    left: `translate(-100%,-50%) translateX(${-offset}px)`,\n    right: `translate(${offset}px, -50%)`,\n    top: `translate(-50%, -100%) translateY(${-offset}px)`,\n    bottom: `translate(-50%, ${offset}px)`\n  };\n}\n\nfunction getDockOffset(width, height, offset = 0) {\n  return {\n    left: { x: -width - offset, y: -height / 2 },\n    right: { x: offset, y: -height / 2 },\n    top: { x: -width / 2, y: -height - offset },\n    bottom: { x: -width / 2, y: offset }\n  };\n}\n\nfunction getComputedArrowStyle(offset) {\n  return {\n    left: {\n      left: '100%',\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    right: {\n      left: `${-offset * 2}px`,\n      top: `calc(50% - ${offset}px)`,\n      borderWidth: `${offset}px`\n    },\n    top: {\n      left: `calc(50% - ${offset}px)`,\n      top: '100%',\n      borderWidth: `${offset}px`\n    },\n    bottom: {\n      left: `calc(50% - ${offset}px)`,\n      top: `${-offset * 2}px`,\n      borderWidth: `${offset}px`\n    }\n  };\n}\n\nfunction isInsideArea(area, vx, vy, width, height, offset) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  if (rect.x < 0 || rect.y < 0) {\n    return false;\n  }\n  if (rect.x + rect.width > area.width || rect.y + rect.height > area.height) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * @param {vx} vx X-coordinate realative to the area\n * @param {vy} vy Y-coordinate realative to the area\n */\nexport function calcOffset({\n  area, vx, vy, width, height, offset\n}) {\n  const rect = {\n    x: vx + offset.x,\n    y: vy + offset.y,\n    width,\n    height\n  };\n\n  let offsetX = rect.x < 0 ? -rect.x : 0;\n  let offsetY = rect.y < 0 ? -rect.y : 0;\n\n  offsetX += rect.x + rect.width > area.width\n    ? -((rect.x + rect.width) - area.width) : 0;\n  offsetY += rect.y + rect.height > area.height\n    ? -((rect.y + rect.height) - area.height) : 0;\n\n  return {\n    x: offsetX,\n    y: offsetY\n  };\n}\n\nfunction alignToBounds({\n  resources,\n  nodes,\n  pointer,\n  width: elmWidth,\n  height: elmHeight,\n  options\n}) {\n  const { targetBounds } = pointer;\n  const {\n    x,\n    y,\n    width,\n    height\n  } = resources.getNodeBoundsRelativeToTarget(nodes[0]);\n\n  const docks = {\n    left: { x, y: y + (height / 2) },\n    right: { x: x + width, y: y + (height / 2) },\n    top: { x: x + (width / 2), y },\n    bottom: { x: x + (width / 2), y: y + height }\n  };\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${docks[options.dock].x}px`,\n        top: `${docks[options.dock].y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(elmWidth, elmHeight, options.offset);\n  const dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n    const vx = options.area === 'target' ? docks[dock].x : targetBounds.left + docks[dock].x;\n    const vy = options.area === 'target' ? docks[dock].y : targetBounds.top + docks[dock].y;\n    if (isInsideArea(area, vx, vy, elmWidth, elmHeight, dockOffsets[dock])) {\n      return {\n        computedTooltipStyle: {\n          left: `${docks[dock].x}px`,\n          top: `${docks[dock].y}px`,\n          transform: dockTransforms[dock]\n        },\n        computedArrowStyle: getComputedArrowStyle(options.offset)[dock],\n        dock\n      };\n    }\n  }\n\n  return {\n    computedTooltipStyle: {\n      left: `${docks.top.x}px`,\n      top: `${docks.top.y}px`,\n      transform: dockTransforms.top\n    },\n    computedArrowStyle: getComputedArrowStyle(options.offset).top,\n    dock: 'top'\n  };\n}\n\nfunction alignToPoint({\n  options,\n  pointer,\n  width,\n  height,\n  dockOrder,\n  x,\n  y\n}) {\n  const {\n    targetBounds\n  } = pointer;\n\n  // Check if explicit dock\n  const dockTransforms = getDockTransform(options.offset);\n  const transform = dockTransforms[options.dock];\n  if (transform) {\n    return {\n      computedTooltipStyle: {\n        left: `${x}px`,\n        top: `${y}px`,\n        transform\n      },\n      computedArrowStyle: getComputedArrowStyle(options.offset)[options.dock],\n      dock: options.dock\n    };\n  }\n\n  const area = {\n    width: options.area === 'target' ? targetBounds.width : window.innerWidth,\n    height: options.area === 'target' ? targetBounds.height : window.innerHeight\n  };\n  const dockOffsets = getDockOffset(width, height, options.offset);\n\n  const results = [];\n  const edgeMargin = 20;\n  const vx = options.area === 'target' ? x : targetBounds.left + x;\n  const vy = options.area === 'target' ? y : targetBounds.top + y;\n\n  for (let i = 0; i < dockOrder.length; i += 1) {\n    const dock = dockOrder[i];\n\n    const offset = calcOffset({\n      area, vx, vy, width, height, offset: dockOffsets[dock]\n    });\n\n    const computedTooltipStyle = {\n      left: `${x}px`,\n      top: `${y}px`,\n      transform: dockTransforms[dock]\n    };\n    const computedArrowStyle = getComputedArrowStyle(options.offset)[dock];\n\n    if (offset.x !== 0) {\n      computedTooltipStyle.width = `${width - edgeMargin - Math.abs(offset.x)}px`;\n\n      if (dock === 'top' || dock === 'bottom') {\n        computedTooltipStyle.left = `${x + offset.x}px`;\n\n        computedArrowStyle.left = `calc(50% ${offset.x > 0 ? '-' : '+'} ${Math.abs(offset.x)}px)`;\n      }\n    }\n\n    const result = {\n      computedTooltipStyle,\n      computedArrowStyle,\n      dock,\n      rect: {\n        width,\n        height\n      }\n    };\n\n    if (offset.x === 0 && offset.y === 0) {\n      return result;\n    }\n\n    result.offset = offset;\n\n    results.push(result);\n  }\n\n  results.sort((a, b) => Math.abs(a.offset.x) - Math.abs(b.offset.x));\n\n  return results[0];\n}\n\nfunction alignToPointer({\n  options,\n  pointer,\n  width,\n  height\n}) {\n  const {\n    x,\n    y\n  } = pointer;\n\n  return alignToPoint({\n    x,\n    y,\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder: ['top', 'left', 'right', 'bottom']\n  });\n}\n\nfunction alignToSlice({\n  options,\n  pointer,\n  width,\n  height,\n  nodes,\n  resources\n}) {\n  const node = nodes[0];\n  const { dx, dy } = pointer;\n  const componentBounds = resources.getComponentBoundsFromNode(node);\n\n  // cx and cy relative to targetBounds\n  const center = {\n    x: dx + componentBounds.x + (componentBounds.width / 2),\n    y: dy + componentBounds.y + (componentBounds.height / 2)\n  };\n\n  const {\n    start,\n    end,\n    outerRadius\n  } = node.desc.slice;\n\n  // Node origin is at 12 o clock, clockwise, but Math uses 3 a clock, so it's transformed to origin at 3 a clock\n  const middle = ((start + end) / 2) - (Math.PI / 2);\n  const PI2 = Math.PI * 2;\n  const radians = ((middle % PI2) + PI2) % PI2;\n  let dockOrder = ['top', 'left', 'right', 'bottom'];\n\n  if (options.dock === 'auto') {\n    if (radians <= Math.PI / 4 || radians >= (Math.PI * 7) / 4) {\n      dockOrder = ['right', 'top', 'bottom', 'left'];\n    } else if (radians <= (Math.PI * 3) / 4) {\n      dockOrder = ['bottom', 'left', 'right', 'top'];\n    } else if (radians <= (Math.PI * 5) / 4) {\n      dockOrder = ['left', 'top', 'bottom', 'right'];\n    } else {\n      dockOrder = ['top', 'left', 'right', 'bottom'];\n    }\n  }\n\n  return alignToPoint({\n    x: center.x + (outerRadius * componentBounds.scaleRatio.x * Math.cos(radians)),\n    y: center.y + (outerRadius * componentBounds.scaleRatio.y * Math.sin(radians)),\n    pointer,\n    width,\n    height,\n    options,\n    dockOrder\n  });\n}\n\nfunction getComponentBoundsFromNode(node, pointer, chart) {\n  const comp = node.key ? chart.component(node.key)\n    : chart.componentsFromPoint({ x: pointer.clientX, y: pointer.clientY })[0];\n\n  if (!comp) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      scaleRatio: {\n        x: 1,\n        y: 1\n      }\n    };\n  }\n\n  const componentSize = comp.rect;\n  return extend({ scaleRatio: componentSize.scaleRatio }, componentSize.computedInner);\n}\n\nfunction getNodeBoundsRelativeToTarget(node, pointer, chart) {\n  const componentBounds = getComponentBoundsFromNode(node, pointer, chart);\n  const bounds = node.bounds;\n\n  return {\n    x: componentBounds.x + pointer.dx + bounds.x,\n    y: componentBounds.y + pointer.dy + bounds.y,\n    width: bounds.width,\n    height: bounds.height\n  };\n}\n\nconst STRATEGIES = {\n  bounds: alignToBounds,\n  pointer: alignToPointer,\n  slice: alignToSlice\n};\n\nexport default function placement({ width, height }, {\n  chart,\n  state,\n  props\n}) {\n  const propCtx = {\n    resources: {\n      formatter: chart.formatter,\n      scale: chart.scale,\n      component: chart.component,\n      getComponentBoundsFromNode: node => getComponentBoundsFromNode(node, state.pointer, chart),\n      getNodeBoundsRelativeToTarget: node => getNodeBoundsRelativeToTarget(node, state.pointer, chart)\n    },\n    nodes: state.activeNodes,\n    pointer: state.pointer,\n    width,\n    height\n  };\n  const type = typeof props.placement;\n\n  if (type === 'object' && typeof props.placement.fn === 'function') {\n    // Custom placement strategy function\n    return props.placement.fn(propCtx);\n  }\n\n  let opts = {\n    type: 'pointer',\n    offset: 8,\n    dock: 'auto',\n    area: 'viewport'\n  };\n  if (type === 'function') {\n    // Custom placement function\n    opts = extend(opts, props.placement(propCtx));\n  }\n\n  if (type === 'object' && STRATEGIES[props.placement.type]) {\n    // Predefined placement function with options\n    opts = extend(opts, props.placement);\n  } else if (type === 'string' && STRATEGIES[props.placement]) {\n    // Predefined placement function without options\n    opts = extend(opts, { type: props.placement });\n  }\n\n  propCtx.options = opts;\n  const plcm = STRATEGIES[opts.type](propCtx);\n\n  let {\n    x: minX,\n    y: minY,\n    width: maxX,\n    height: maxY\n  } = propCtx.resources.getComponentBoundsFromNode(propCtx.nodes[0]);\n  minX += propCtx.pointer.dx;\n  maxX += minX;\n  minY += propCtx.pointer.dy;\n  maxY += minY;\n\n  // Clamp tooltip position\n  plcm.computedTooltipStyle.left = `${Math.min(Math.max(0, minX, parseFloat(plcm.computedTooltipStyle.left)), maxX)}px`;\n  plcm.computedTooltipStyle.top = `${Math.min(Math.max(0, minY, parseFloat(plcm.computedTooltipStyle.top)), maxY)}px`;\n\n  return plcm;\n}\n","let instance;\n\nexport function setActive(action) {\n  instance = action;\n}\n\nexport function removeActive(action) {\n  if (instance === action) {\n    instance = null;\n    return true;\n  }\n\n  return false;\n}\n\nexport function cancelActive(a) {\n  if (instance && instance !== a) {\n    instance();\n  }\n}\n\nexport function getActive() {\n  return instance;\n}\n\nexport function remove() {\n  instance = null;\n}\n","import extend from 'extend';\nimport extractor from './extractor';\nimport render from './render';\nimport timeSpanDispatcher from './timespan-dispatcher';\nimport placement from './placement';\nimport {\n  setActive,\n  removeActive,\n  cancelActive,\n  remove\n} from './instance-handler';\n\n/**\n * @typedef {object}\n * @alias component--tooltip.settings\n */\nconst DEFAULT_SETTINGS = {\n  /**\n   * How long the tooltip is visible, in milliseconds\n   * @type {number=}\n   */\n  duration: 8000,\n  /**\n   * Delay before the tooltip is rendered, in milliseconds\n   * @type {number=}\n   */\n  delay: 500,\n  /**\n   * Reduce incoming nodes to only a set of applicable nodes. Is called as a part of the `show` event.\n   * @type {function=}\n   * @returns {array} An array of nodes\n   */\n  filter: nodes => nodes.filter(node => node.data && typeof node.data.value !== 'undefined'),\n  /**\n   * Extract data from a node.\n   * @type {function=}\n   * @returns {object} An array of data\n   */\n  extract: ctx => ctx.node.data.value,\n  /**\n   * Content generator. Extracted data is available in the `data` property, where each value in the area is the extracted datum from a node.\n   * @type {function=}\n   * @returns {object[]} Array of h objects\n   */\n  content: ({ h, data }) => data.map(datum => h('div', {}, datum)),\n  /**\n   * Comparison function. If evaluted to true, the incoming nodes in the `show` event are ignored. If evaluated to false, any active tooltip is cleared and a new tooltip is queued.\n   *\n   * The function gets two parameters, the first is the currently active set of nodes, if any, and the second is the incoming set of nodes. By default the two set of nodes are considered equal if their data attributes are the same.\n   * @type {function=}\n   * @returns {boolean}\n   */\n  isEqual: (prev, curr) => prev.length\n    && prev.length === curr.length\n    && prev.every((p, i) => curr[i] && JSON.stringify(p.data) === JSON.stringify(curr[i].data)),\n  /**\n   * @typedef {object=}\n   */\n  placement: {\n    /**\n     * Available types: [pointer | bounds | slice]\n     * @type {string=}\n     */\n    type: 'pointer',\n    /**\n     * Docking position of the tooltip. Available positions: [left | right | top | bottom | auto]\n     * @type {string=}\n     */\n    dock: 'auto',\n    /**\n     * Distance from the content area to the tooltip position, in px.\n     * @type {number=}\n     */\n    offset: 8,\n    /**\n     * Specify the limiting area, where target is the component area unless the appendTo property is set, in which case it referes to the appendTo element. Viewport is the browser viewport.\n     *\n     * Available options are: [viewport | target]\n     * @type {number=}\n     */\n    area: 'viewport'\n  },\n  /**\n   * Set tooltip class.\n  * @type {object<string, boolean>=}\n  */\n  tooltipClass: {},\n  /**\n   * Set content class.\n  * @type {object<string, boolean>=}\n  */\n  contentClass: {},\n  /**\n   * Set arrow class.\n  * @type {object<string, boolean>=}\n  */\n  arrowClass: {},\n  /**\n   * Content direction [ltr | rtl]\n   * @type {string=}\n   */\n  direction: 'ltr',\n  /**\n   * Explicitly set a target element. This allows the tooltip to attach itself outside the picasso container.\n   * @type {HTMLElement=}\n   */\n  appendTo: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is displayed.\n   * @type {function=}\n   */\n  beforeShow: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip have been displayed.\n   * @type {function=}\n   */\n  afterShow: undefined,\n  /**\n   * Component lifecycle hook. Called before the tooltip is hidden.\n   * @type {function=}\n   */\n  beforeHide: undefined,\n  /**\n   * Component lifecycle hook. Called when the toolip is hidden. By default this deletes the tooltip element.\n   * @type {function=}\n   */\n  onHide: undefined,\n  /**\n   * Component lifecycle hook. Called after the tooltip is hidden.\n   * @type {function=}\n   */\n  afterHide: undefined\n};\n\nconst DEFAULT_STYLE = {\n  tooltip: {},\n  content: {\n    backgroundColor: '$gray-25',\n    color: '$font-color--inverted',\n    fontFamily: '$font-family',\n    fontSize: '$font-size',\n    lineHeight: '$line-height',\n    borderRadius: '4px',\n    padding: '8px',\n    opacity: 0.9\n  },\n  arrow: {\n    position: 'absolute',\n    width: '0px',\n    height: '0px',\n    borderStyle: 'solid',\n    color: '$gray-25',\n    opacity: 0.9\n  },\n  'arrow-bottom': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-top': {\n    borderBottomColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderRightColor: 'transparent'\n  },\n  'arrow-right': {\n    borderTopColor: 'transparent',\n    borderLeftColor: 'transparent',\n    borderBottomColor: 'transparent'\n  },\n  'arrow-left': {\n    borderTopColor: 'transparent',\n    borderBottomColor: 'transparent',\n    borderRightColor: 'transparent'\n  }\n};\n\nfunction toPoint(event, { chart, state }) {\n  let x = 0;\n  let y = 0;\n  if (event.center) {\n    x += event.center.x;\n    y += event.center.y;\n  } else {\n    x += event.clientX;\n    y += event.clientY;\n  }\n  // TODO Don't do getBoundingClientRect lookup here. It's performance heavy.\n  const chartBounds = chart.element.getBoundingClientRect();\n  const targetBounds = state.targetElement.getBoundingClientRect();\n  const clientX = x;\n  const clientY = y;\n  const dx = chartBounds.left - targetBounds.left;\n  const dy = chartBounds.top - targetBounds.top;\n  const cx = x - chartBounds.left;\n  const cy = y - chartBounds.top;\n  x -= targetBounds.left;\n  y -= targetBounds.top;\n  return {\n    x, // Target point relative to the target bounds\n    y,\n    dx, // Delta from target bounds to the chart bounds\n    dy,\n    cx, // Target point relative to the chart bounds\n    cy,\n    clientX,\n    clientY,\n    targetBounds, // Target bounding rect\n    chartBounds // Chart bounding rect\n  };\n}\n\nconst component = {\n  require: ['chart', 'renderer'],\n  defaultSettings: {\n    settings: DEFAULT_SETTINGS,\n    style: DEFAULT_STYLE\n  },\n  renderer: 'dom',\n  on: {\n    hide() {\n      this.hide();\n    },\n    show(event, opts = {}) {\n      this.show(event, opts);\n    },\n    prevent(p) {\n      this.prevent(p);\n    }\n  },\n  hide() {\n    this.dispatcher.clear();\n    this.state.activeNodes = [];\n    this.state.pointer = {};\n  },\n  show(event, { nodes, duration, delay } = {}) {\n    if (this.state.prevent) {\n      return;\n    }\n\n    // Set pointer here to always expose latest pointer to invokeRenderer\n    this.state.pointer = toPoint(event, this);\n\n    let fNodes;\n    if (Array.isArray(nodes)) {\n      fNodes = this.props.filter(nodes);\n    } else {\n      fNodes = this.props.filter(this.chart.shapesAt({\n        x: this.state.pointer.cx,\n        y: this.state.pointer.cy\n      }));\n    }\n\n    if (this.props.isEqual(this.state.activeNodes, fNodes)) {\n      return;\n    }\n\n    this.dispatcher.clear();\n    this.state.activeNodes = fNodes;\n\n    if (this.state.activeNodes.length) {\n      this.dispatcher.invoke(\n        () => this.invokeRenderer(this.state.activeNodes),\n        duration,\n        delay\n      );\n    }\n  },\n  prevent(p) {\n    this.state.prevent = !!p;\n  },\n  init(settings) {\n    this.state = {\n      activeNodes: [],\n      pointer: {},\n      targetElement: null,\n      prevent: false\n    };\n    this.props = settings.settings;\n    this.dispatcher = timeSpanDispatcher({\n      defaultDuration: this.props.duration,\n      defaultDelay: this.props.delay\n    });\n\n    const instanceId = this.dispatcher.clear;\n    this.dispatcher.on('pending', () => {\n      // Cancel only if the active is another instance\n      cancelActive(instanceId);\n      setActive(instanceId);\n\n      if (typeof this.props.beforeShow === 'function') {\n        this.props.beforeShow.call(undefined, {\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n\n    this.dispatcher.on(['cancelled', 'fulfilled'], () => {\n      const listenerCtx = {\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      };\n\n      if (typeof this.props.beforeHide === 'function') {\n        this.props.beforeHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      }\n\n      if (typeof this.props.onHide === 'function') {\n        this.props.onHide.call(undefined, extend({ element: this.state.tooltipElm }, listenerCtx));\n      } else {\n        this.renderer.clear([]); // Hide tooltip\n      }\n\n      if (typeof this.props.afterHide === 'function') {\n        this.props.afterHide.call(undefined, listenerCtx);\n      }\n\n      removeActive(instanceId);\n      this.state.tooltipElm = undefined;\n    });\n\n    this.dispatcher.on('active', () => {\n      if (typeof this.props.afterShow === 'function') {\n        this.props.afterShow.call(undefined, {\n          element: this.state.tooltipElm,\n          resources: {\n            formatter: this.chart.formatter,\n            scale: this.chart.scale\n          }\n        });\n      }\n    });\n  },\n  created() {\n    this.init(this.settings);\n  },\n  beforeUpdate({ settings }) {\n    if (this.dispatcher) {\n      this.dispatcher.destroy();\n      remove();\n    }\n    this.init(settings);\n  },\n  render(h) {\n    this.h = h;\n    return []; // Nothing to render initially.\n  },\n  beforeDestroy() {\n    this.dispatcher.destroy();\n    remove();\n  },\n  appendTo() {\n    if (this.props.appendTo) {\n      this.state.targetElement = typeof this.props.appendTo === 'function' ? this.props.appendTo({\n        resources: {\n          formatter: this.chart.formatter,\n          scale: this.chart.scale\n        }\n      }) : this.props.appendTo;\n      const { width, height } = this.state.targetElement.getBoundingClientRect();\n      this.renderer.destroy();\n      this.renderer.size({ width, height });\n      this.renderer.appendTo(this.state.targetElement);\n    } else {\n      this.state.targetElement = this.renderer.element();\n    }\n  },\n  mounted() {\n    this.appendTo();\n  },\n  updated() {\n    // Append here to, otherwise the picasso displayOrder logic screw things up\n    this.appendTo();\n  },\n  invokeRenderer(nodes) {\n    const items = extractor(nodes, this);\n    const pseudoElement = render(items, { style: { left: '0px', top: '0px', visibility: 'hidden' } }, this);\n    const pos = placement(pseudoElement.getBoundingClientRect(), this);\n    this.state.tooltipElm = render(items, pos, this);\n  }\n};\n\nexport { component as default };\n","import tooltip from './tooltip';\n\n/**\n * @typedef {object} component--tooltip\n */\n\n/**\n * @type {string}\n * @memberof component--tooltip\n */\nconst type = 'tooltip';\n\nexport default function addTooltip(picasso) {\n  picasso.component(type, tooltip);\n}\n","const debugColliderDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      selector: '*',\n      fill: 'rgba(0, 255, 0, 0.1)',\n      stroke: 'lime',\n      opacity: 1,\n      useOuterRect: false\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes(this.props.selector).filter(s => s.key === this.props.target); // Find all shapes\n    const colliders = shapes.filter(s => s.collider).map(s => s.collider);\n\n    colliders.forEach((c) => {\n      c.fill = this.props.fill;\n      c.stroke = this.props.stroke;\n      c.opacity = this.props.opacity;\n      c.collider = { type: null };\n    });\n\n    this.renderer.render(colliders);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  resize({ outer, inner }) {\n    if (this.props.useOuterRect) {\n      return outer;\n    }\n    return inner;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugColliderDef;\n","import { toRadians } from './angles';\n\nconst PI_X2 = Math.PI * 2;\n\n/**\n * Implementation of F.6.5 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n * @ignore\n * @param {number} rx - Arc x-radius\n * @param {number} ry - Arc y-radius\n * @param {number} rotation - Arc rotation in degrees (0-360)\n * @param {boolean} largeArcFlag\n * @param {boolean} sweepFlag\n * @param {number} endX - X-coordinate for end of arc\n * @param {number} endY - Y-coordinate for end of arc\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n * @returns {object}\n */\nfunction arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY) {\n  let startAngle;\n  let endAngle;\n  let sweepAngle;\n  let cx;\n  let cy;\n  let radiusRatio;\n\n  const rad = toRadians(rotation % 360);\n\n  // F.6.5.1\n  const cos = Math.cos(rad);\n  const sin = Math.sin(rad);\n  const hdx = (startX - endX) / 2;\n  const hdy = (startY - endY) / 2;\n\n  const x1d = (cos * hdx) + (sin * hdy);\n  const y1d = (cos * hdy) - (sin * hdx);\n\n  // F.6.6\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n\n  radiusRatio = (Math.pow(x1d, 2) / Math.pow(rx, 2)) + (Math.pow(y1d, 2) / Math.pow(ry, 2));\n  if (radiusRatio > 1) {\n    radiusRatio = Math.sqrt(radiusRatio);\n    rx *= radiusRatio;\n    ry *= radiusRatio;\n  }\n\n  // F.6.5.2\n  const rxry = rx * ry;\n  const rxy1d = rx * y1d;\n  const ryx1d = ry * x1d;\n  const den = Math.pow(rxy1d, 2) + Math.pow(ryx1d, 2);\n  const num = Math.pow(rxry, 2) - den;\n\n  let frac = Math.sqrt(Math.max(num / den, 0));\n\n  if (largeArcFlag === sweepFlag) {\n    frac = -frac;\n  }\n\n  const cxd = frac * (rxy1d / ry);\n  const cyd = frac * -(ryx1d / rx);\n\n  // F.6.5.3\n  const mx = (startX + endX) / 2;\n  const my = (startY + endY) / 2;\n  cx = ((cos * cxd) - (sin * cyd)) + mx;\n  cy = (sin * cxd) + (cos * cyd) + my;\n\n  // F.6.5.6 clockwise angle\n  const ux = (x1d - cxd) / rx;\n  const uy = (y1d - cyd) / ry;\n  const vx = (-x1d - cxd) / rx;\n  const vy = (-y1d - cyd) / ry;\n  startAngle = Math.atan2(uy, ux);\n  startAngle += startAngle < 0 ? PI_X2 : 0;\n  endAngle = Math.atan2(vy, vx);\n  endAngle += endAngle < 0 ? PI_X2 : 0;\n\n  sweepAngle = endAngle - startAngle;\n\n  if (!sweepFlag && startAngle < endAngle) {\n    sweepAngle -= PI_X2;\n  } else if (sweepFlag && endAngle < startAngle) {\n    sweepAngle += PI_X2;\n  }\n\n  sweepAngle %= PI_X2;\n\n  return {\n    startAngle,\n    sweepAngle,\n    cx,\n    cy,\n    rx,\n    ry\n  };\n}\n\nexport {\n  arcToCenter as default,\n  PI_X2\n};\n","/**\n * Measure the flatnass of a cubic bezier curve\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n */\nexport default function flatness(s, cp1, cp2, e) {\n  const ux = Math.abs((s.x + cp2.x) - (cp1.x + cp1.x));\n  const uy = Math.abs((s.y + cp2.y) - (cp1.y + cp1.y));\n  const vx = Math.abs((cp1.x + e.x) - (cp2.x + cp2.x));\n  const vy = Math.abs((cp1.y + e.y) - (cp2.y + cp2.y));\n\n  return ux + uy + vx + vy;\n}\n","import flatness from './curve-flattness';\n\nfunction mid(p0, p1) {\n  return {\n    x: (p0.x + p1.x) / 2,\n    y: (p0.y + p1.y) / 2\n  };\n}\n\nfunction interpolate(t, s, cp1, cp2, e) {\n  const td = 1 - t;\n  const t0 = Math.pow(td, 3) * s;\n  const t1 = 3 * Math.pow(td, 2) * t * cp1;\n  const t2 = 3 * td * Math.pow(t, 2) * cp2;\n  const t3 = Math.pow(t, 3) * e;\n\n  return t0 + t1 + t2 + t3;\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp1 - First control point\n * @param {point} cp2 - Second control point\n * @param {point} e - End point\n * @param {array} points - Initial set of points\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp1, cp2, e, points = []) {\n  if (flatness(s, cp1, cp2, e) <= 10) {\n    // Poor man's Set\n    if (points.indexOf(s) === -1) {\n      points.push(s);\n    }\n    if (points.indexOf(e) === -1) {\n      points.push(e);\n    }\n    return points;\n  }\n\n  const t = 0.5;\n\n  const m0 = mid(s, cp1);\n  const m1 = mid(cp1, cp2);\n  const m2 = mid(cp2, e);\n\n  const b = { // Split curve at point\n    x: interpolate(t, s.x, cp1.x, cp2.x, e.x),\n    y: interpolate(t, s.y, cp1.y, cp2.y, e.y)\n  };\n\n  const q0 = mid(m0, m1); // New cp2 for left curve\n  const q1 = mid(m1, m2); // New cp1 for right curve\n\n  toPoints(s, m0, q0, b, points); // left curve\n  toPoints(b, q1, m2, e, points); // Right curve\n\n  return points;\n}\n\nexport {\n  toPoints as default,\n  interpolate\n};\n","import cubicToPoints from './cubic-bezier-curve-interpolation';\n\nfunction interpolate(t, s, cp, e) {\n  const td = (1 - t);\n\n  return (Math.pow(td, 2) * s)\n    + (2 * td * t * cp)\n    + (Math.pow(t, 2) * e);\n}\n\nfunction toCubic(s, cp, e) {\n  const cp1x = s.x + ((2 / 3) * (cp.x - s.x));\n  const cp1y = s.y + ((2 / 3) * (cp.y - s.y));\n  const cp2x = e.x + ((2 / 3) * (cp.x - e.x));\n  const cp2y = e.y + ((2 / 3) * (cp.y - e.y));\n  const cp1 = { x: cp1x, y: cp1y };\n  const cp2 = { x: cp2x, y: cp2y };\n\n  return { cp1, cp2 };\n}\n\n/**\n * Recursive subdivision of a curve using de Casteljau algorithm.\n * Splits the curve into multiple line segments where each segments is choosen based on a level of flatness.\n * @ignore\n * @param {point} s - Start point\n * @param {point} cp - Control point\n * @param {point} e - End point\n * @returns {point[]} Array of points\n */\nfunction toPoints(s, cp, e) {\n  const { cp1, cp2 } = toCubic(s, cp, e);\n\n  return cubicToPoints(s, cp1, cp2, e);\n}\n\nexport {\n  interpolate,\n  toPoints as default\n};\n","import { parsePath } from 'path2d-polyfill';\nimport arcToCenter, { PI_X2 } from '../math/arc-to-center';\nimport cubicCurveToPoints from '../math/cubic-bezier-curve-interpolation';\nimport quadCurveToPoints from '../math/quad-bezier-curve-interpolation';\n\nconst EPSILON = 1e-12;\n\nfunction removeDuplicates(points) {\n  for (let i = 0; i < points.length - 1; i++) {\n    const p0 = points[i];\n    const p1 = points[i + 1];\n    if (Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON) {\n      points.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Transform an arc to a set of points a long the arc.\n * Specifiction F.6 (https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes)\n * @ignore\n * @param {array} s - Segments\n * @param {number} startX - X-coordinate for start of arc\n * @param {number} startY - Y-coordinate for start of arc\n */\nfunction arcToPoints(s, startX, startY) {\n  const points = [];\n  const largeArcFlag = !!s[4]; // F.6.3\n  const sweepFlag = !!s[5]; // F.6.3\n  const rotation = s[3];\n  let endX = s[6];\n  let endY = s[7];\n  let rx = s[1];\n  let ry = s[2];\n  let cx;\n  let cy;\n  let sweepAngle;\n  let startAngle;\n\n  if (s[0] === 'a') {\n    endX += startX;\n    endY += startY;\n  }\n\n  // F.6.2\n  if (startX === endY && startY === endY) {\n    return points;\n  }\n\n  // Given no radius, threat as lineTo command\n  if (!rx || !ry) {\n    points.push({ x: endX, y: endY });\n    return points;\n  }\n\n  ({\n    cx, cy, rx, ry, sweepAngle, startAngle\n  } = arcToCenter(rx, ry, rotation, largeArcFlag, sweepFlag, endX, endY, startX, startY));\n\n  // Approximation of perimeter\n  const p = Math.abs(sweepAngle * Math.sqrt((Math.pow(rx, 2) + Math.pow(ry, 2)) / 2));\n\n  // Generate a point every 10th pixel. Scaling of the node should probably be included in this calculation\n  const res = Math.ceil(p / 10);\n  const resAngle = sweepAngle / res;\n\n  for (let k = 1; k <= res; k++) {\n    const deltaAngle = resAngle * k;\n    const radians = (startAngle + deltaAngle) % PI_X2;\n    const cos = Math.cos(radians);\n    const sin = Math.sin(radians);\n    // F.6.3 https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    points.push({\n      x: cx + (cos * rx) + (-sin * cos),\n      y: cy + (sin * ry) + (cos * sin)\n    });\n  }\n\n  // points.push({ x: cx, y: cy });\n\n  return points;\n}\n\n/**\n * Converts a SVG path data string into a set of points.\n * @ignore\n * @param {string} path\n * @returns {Array<point[]>} Array of points\n */\nexport default function pathToPoints(path) {\n  const commands = parsePath(path);\n  const segments = [];\n  const points = [];\n  let x = 0; // Current point\n  let y = 0;\n  let cpx = null; // Last control point on a cubic curve\n  let cpy = null;\n  let qcpx = null; // Last control point on a quad curve\n  let qcpy = null;\n\n  for (let i = 0; i < commands.length; ++i) {\n    const cmd = commands[i];\n    const pathType = cmd[0];\n\n    // Reset control point if command is not cubic\n    if (pathType !== 'S' && pathType !== 's' && pathType !== 'C' && pathType !== 'c') {\n      cpx = null;\n      cpy = null;\n    }\n\n    if (pathType !== 'T' && pathType !== 't' && pathType !== 'Q' && pathType !== 'q') {\n      qcpx = null;\n      qcpy = null;\n    }\n\n    switch (pathType) {\n      case 'm':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'l': // eslint-disable-line no-fallthrough\n        x += cmd[1];\n        y += cmd[2];\n        points.push({ x, y });\n        break;\n      case 'M':\n        if (points.length) {\n          segments.push(points.splice(0));\n        }\n        // Fall through\n      case 'L': // eslint-disable-line no-fallthrough\n        x = cmd[1];\n        y = cmd[2];\n        points.push({ x, y });\n        break;\n      case 'H':\n        x = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'h':\n        x += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'V':\n        y = cmd[1];\n        points.push({ x, y });\n        break;\n      case 'v':\n        y += cmd[1];\n        points.push({ x, y });\n        break;\n      case 'a':\n        points.push(...arcToPoints(cmd, x, y));\n        x += cmd[6];\n        y += cmd[7];\n        break;\n      case 'A':\n        points.push(...arcToPoints(cmd, x, y));\n        x = cmd[6];\n        y = cmd[7];\n        break;\n      case 'c':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y },\n          { x: cmd[5] + x, y: cmd[6] + y }\n        ));\n        cpx = cmd[3] + x; // Last control point\n        cpy = cmd[4] + y;\n        x += cmd[5];\n        y += cmd[6];\n        break;\n      case 'C':\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] },\n          { x: cmd[5], y: cmd[6] }\n        ));\n        cpx = cmd[3]; // Last control point\n        cpy = cmd[4];\n        x = cmd[5];\n        y = cmd[6];\n        break;\n      case 's':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n        cpx = cmd[1] + x; // last control point\n        cpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'S':\n        if (cpx === null || cpx === null) {\n          cpx = x;\n          cpy = y;\n        }\n\n        points.push(...cubicCurveToPoints(\n          { x, y },\n          { x: (2 * x) - cpx, y: (2 * y) - cpy },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n        cpx = cmd[1]; // last control point\n        cpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'Q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1], y: cmd[2] },\n          { x: cmd[3], y: cmd[4] }\n        ));\n\n        qcpx = cmd[1]; // last control point\n        qcpy = cmd[2];\n        x = cmd[3];\n        y = cmd[4];\n        break;\n      case 'q':\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: cmd[1] + x, y: cmd[2] + y },\n          { x: cmd[3] + x, y: cmd[4] + y }\n        ));\n\n        qcpx = cmd[1] + x; // last control point\n        qcpy = cmd[2] + y;\n        x += cmd[3];\n        y += cmd[4];\n        break;\n      case 'T':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1], y: cmd[2] }\n        ));\n\n        x = cmd[1];\n        y = cmd[2];\n        break;\n      case 't':\n        if (qcpx === null || qcpx === null) {\n          qcpx = x;\n          qcpy = y;\n        }\n\n        qcpx = (2 * x) - qcpx; // last control point\n        qcpy = (2 * y) - qcpy;\n        points.push(...quadCurveToPoints(\n          { x, y },\n          { x: qcpx, y: qcpy },\n          { x: cmd[1] + x, y: cmd[2] + y }\n        ));\n        x += cmd[1];\n        y += cmd[2];\n        break;\n      case 'z':\n      case 'Z':\n        if (points.length) {\n          points.push({ x: points[0].x, y: points[0].y });\n        }\n        break;\n      default:\n        // Do nothing\n    }\n  }\n\n  removeDuplicates(points);\n  segments.push(points.splice(0));\n\n  return segments;\n}\n","import pathToSegments from '../../scene-graph/parse-path-d';\n\nconst debugPathToPointsDef = {\n  require: ['renderer', 'chart'],\n  defaultSettings: {\n    settings: {\n      target: '',\n      fill: 'transparent',\n      stroke: 'lime',\n      opacity: 1,\n      radius: 2,\n      useOuterRect: false\n    }\n  },\n  on: {\n    update() {\n      this.draw();\n    }\n  },\n  draw() {\n    const shapes = this.chart.findShapes('path').filter(s => s.key === this.props.target); // Find all shapes\n\n    const circles = [];\n    shapes.forEach((s) => {\n      pathToSegments(s.attrs.d).forEach((segment) => {\n        segment.forEach((p) => {\n          circles.push({\n            type: 'circle',\n            cx: p.x,\n            cy: p.y,\n            r: this.props.radius,\n            fill: this.props.fill,\n            stroke: this.props.stroke,\n            opacity: this.props.opacity,\n            collider: { type: null }\n          });\n        });\n      });\n    });\n\n    this.renderer.render(circles);\n  },\n  created() {\n    this.props = this.settings.settings;\n  },\n  resize({ outer, inner }) {\n    if (this.props.useOuterRect) {\n      return outer;\n    }\n    return inner;\n  },\n  render() { },\n  mounted() {\n    this.draw();\n  },\n  updated() {\n    this.props = this.settings.settings;\n    this.draw();\n  }\n};\n\nexport default debugPathToPointsDef;\n","import createDebugCollider from './debug-collider';\nimport createDebugPathToPoints from './debug-path-to-points';\n\nexport function debugCollider(picasso) {\n  picasso.component('debug-collider', createDebugCollider);\n}\n\nexport function debugPathToPoints(picasso) {\n  picasso.component('debug-path-to-points', createDebugPathToPoints);\n}\n","import boxComponent from '../core/chart-components/box';\nimport pointComponent from '../core/chart-components/point';\nimport pieComponent from '../core/chart-components/pie';\nimport gridLineComponent from '../core/chart-components/grid';\nimport refLineComponent from '../core/chart-components/ref-line';\nimport axisComponent from '../core/chart-components/axis';\nimport textComponent from '../core/chart-components/text';\nimport scrollbarComponent from '../core/chart-components/scrollbar';\nimport brushRangeComponent from '../web/components/brush-range';\nimport rangeComponent from '../core/chart-components/range';\nimport brushLassoComponent from '../core/chart-components/brush-lasso';\nimport labelsComponent from '../core/chart-components/labels';\nimport categoricalLegend from '../core/chart-components/legend-cat';\nimport sequentialLegend from '../core/chart-components/legend-seq';\nimport lineComponent from '../core/chart-components/line';\nimport brushAreaComponent from '../web/components/brush-area';\nimport tooltipComponent from '../web/components/tooltip';\nimport {\n  debugCollider,\n  debugPathToPoints\n} from '../core/chart-components/debug';\n\nexport default [\n  boxComponent,\n  pointComponent,\n  pieComponent,\n  gridLineComponent,\n  refLineComponent,\n  axisComponent,\n  textComponent,\n  scrollbarComponent,\n  brushRangeComponent,\n  rangeComponent,\n  brushLassoComponent,\n  labelsComponent,\n  categoricalLegend,\n  sequentialLegend,\n  lineComponent,\n  brushAreaComponent,\n  tooltipComponent,\n  debugCollider,\n  debugPathToPoints\n];\n","function diff(from, to) {\n  const added = [];\n  let items;\n  const removed = [];\n  const updatedNew = [];\n  const updatedOld = [];\n  let fromIds;\n  let toIds;\n  const idMapper = a => a.id;\n  const nodeMapper = (node, i) => {\n    let id;\n    if (typeof node === 'object') {\n      if ('id' in node) {\n        id = node.id;\n      } else {\n        id = i;\n      }\n    } else {\n      id = node;\n    }\n    return {\n      content: node,\n      id: `${id}__${node.type || ''}`\n    };\n  };\n\n  if (!from.isTree) {\n    from = from.map(nodeMapper);\n  }\n\n  to = to.map(nodeMapper);\n\n  fromIds = from.map(idMapper);\n  toIds = to.map(idMapper);\n  // TODO - handle duplicate values\n\n  // added = to.filter( v => fromIds.indexOf( v.id ) < 0 );\n  // updatedNew = to.filter( v => fromIds.indexOf( v.id ) >= 0 );\n  // removed = from.filter( v => toIds.indexOf( v.id ) < 0 );\n  // updatedOld = from.filter( v => toIds.indexOf( v.id ) >= 0 );\n\n  for (let i = 0, len = to.length; i < len; i++) {\n    const idx = fromIds.indexOf(to[i].id);\n    if (idx === -1) {\n      added.push(to[i]);\n    } else {\n      updatedNew.push(to[i]);\n    }\n  }\n\n  for (let i = 0, len = from.length; i < len; i++) {\n    const idx = toIds.indexOf(from[i].id);\n    if (idx === -1) {\n      removed.push(from[i]);\n    } else {\n      updatedOld.push(from[i]);\n    }\n  }\n\n  for (let i = 0, len = added.length; i < len; i++) {\n    if (added[i].content.children) {\n      added[i].diff = diff([], added[i].content.children);\n      added[i].children = added[i].diff.updatedNew.concat(added[i].diff.added);\n      added[i].children.isTree = true;\n    }\n  }\n\n  for (let i = 0, len = updatedNew.length; i < len; i++) {\n    updatedNew[i].diff = diff(updatedOld[i].children || [], updatedNew[i].content.children || []);\n    updatedNew[i].object = updatedOld[i].object;\n    updatedNew[i].children = updatedNew[i].diff.items;\n  }\n\n  items = updatedNew.concat(added);\n\n  added.isTree = true;\n  removed.isTree = true;\n  updatedNew.isTree = true;\n  updatedOld.isTree = true;\n  items.isTree = true;\n\n  return {\n    added,\n    updatedNew,\n    updatedOld,\n    removed,\n    items\n  };\n}\n\nfunction createNodes(nodes, parent, create) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].object = create(nodes[i].content.type, parent);\n  }\n}\n\nfunction destroyNodes(nodes, destroy) {\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    if (nodes[i].object !== null && typeof nodes[i].object !== 'undefined') {\n      destroy(nodes[i].object);\n      nodes[i].object = null;\n    }\n  }\n}\n\nfunction updateNodes(nodes, creator, maintainer, destroyer) {\n  let item;\n  for (let i = 0, len = nodes.length; i < len; i++) {\n    item = nodes[i];\n    if (item.object !== null && typeof item.object !== 'undefined') {\n      maintainer(item.object, item.content);\n      if (item.diff) {\n        createNodes(item.diff.added, item.object, creator);\n        destroyNodes(item.diff.removed, destroyer);\n        updateNodes(item.diff.items, creator, maintainer, destroyer);\n      }\n    }\n  }\n}\n\nfunction createTree(oldItems, newItems, root, creator, maintainer, destroyer) {\n  const d = diff(oldItems, newItems);\n\n  createNodes(d.added, root, creator);\n  destroyNodes(d.removed, destroyer);\n  updateNodes(d.items, creator, maintainer, destroyer);\n\n  return d.items;\n}\n\nexport {\n  diff,\n  createTree,\n  destroyNodes,\n  createNodes,\n  updateNodes\n};\n","const LINEBREAK_REGEX = /\\n+|\\r+|\\r\\n/;\nconst WHITESPACE_REGEX = /\\s/;\nconst HYPHEN_REGEX = /[a-zA-Z\\u00C0-\\u00F6\\u00F8-\\u00FF\\u00AD]/;\nexport const NO_BREAK = 0;\nexport const MANDATORY = 1;\nexport const BREAK_ALLOWED = 2;\n\nexport function includesLineBreak(c) {\n  if (typeof c === 'string') {\n    return c.search(LINEBREAK_REGEX) !== -1;\n  }\n  return String(c).search(LINEBREAK_REGEX) !== -1;\n}\n\nfunction includesWhiteSpace(c) {\n  return c.search(WHITESPACE_REGEX) !== -1;\n}\n\nfunction hyphenationAllowed(c) {\n  /* Latin character set. Excluding numbers, sign and symbol characters, but including soft hyphen */\n  return c.search(HYPHEN_REGEX) !== -1;\n}\n\nfunction resolveBreakOpportunity(chunk, i, chunks, mandatory, noBreakAllowed) {\n  if (mandatory.some(fn => fn(chunk, i, chunks))) {\n    return MANDATORY;\n  }\n  if (noBreakAllowed.some(fn => fn(chunk, i, chunks))) {\n    return NO_BREAK;\n  }\n\n  return BREAK_ALLOWED;\n}\n\nfunction cleanEmptyChunks(chunks) {\n  if (chunks[0] === '') {\n    chunks.shift();\n  }\n  if (chunks[chunks.length - 1] === '') {\n    chunks.pop();\n  }\n}\n\nfunction clamp(val, min, max) {\n  return Math.max(min, Math.min(max, val));\n}\n\nexport default function stringTokenizer({\n  string,\n  separator = '',\n  reverse = false,\n  measureText = text => ({ width: text.length, height: 1 }),\n  mandatoryBreakIdentifiers = [includesLineBreak],\n  noBreakAllowedIdentifiers = [],\n  suppressIdentifier = [includesWhiteSpace, includesLineBreak, chunk => chunk === ''],\n  hyphenationIdentifiers = [hyphenationAllowed]\n} = {}) {\n  const chunks = String(string).split(separator);\n  cleanEmptyChunks(chunks);\n  const length = chunks.length;\n  const isNotDone = reverse ? p => p >= 0 : p => p < length;\n  let position = reverse ? length : -1; // Set init position 1 step before or after to make first next call go to first position\n\n  function peek(peekAt) {\n    const i = clamp(peekAt, 0, length - 1);\n    const chunk = chunks[i];\n    const textMeasure = measureText(chunk);\n    const opportunity = resolveBreakOpportunity(\n      chunk,\n      i,\n      chunks,\n      mandatoryBreakIdentifiers,\n      noBreakAllowedIdentifiers\n    );\n\n    return {\n      index: i,\n      value: chunk,\n      breakOpportunity: opportunity,\n      suppress: suppressIdentifier.some(fn => fn(chunk, i, chunks)),\n      hyphenation: hyphenationIdentifiers.some(fn => fn(chunk, i, chunks)),\n      width: textMeasure.width,\n      height: textMeasure.height,\n      done: false\n    };\n  }\n\n  function next(jumpToPosition) {\n    if (isNaN(jumpToPosition)) {\n      if (reverse) {\n        position--;\n      } else {\n        position++;\n      }\n    } else {\n      position = clamp(jumpToPosition, 0, length - 1);\n    }\n\n    if (isNotDone(position)) {\n      return peek(position);\n    }\n    return { done: true };\n  }\n\n  return {\n    next,\n    peek,\n    length\n  };\n}\n","const DEFAULT_LINE_HEIGHT = 1.2;\nconst HYPHENS_CHAR = '\\u2010';\nconst ELLIPSIS_CHAR = '';\n\nexport {\n  DEFAULT_LINE_HEIGHT,\n  HYPHENS_CHAR,\n  ELLIPSIS_CHAR\n};\n","import stringTokenizer, {\n  MANDATORY,\n  BREAK_ALLOWED\n} from './string-tokenizer';\nimport {\n  DEFAULT_LINE_HEIGHT,\n  HYPHENS_CHAR\n} from './text-const';\n\nfunction resolveMaxAllowedLines(node, measuredLineHeight) {\n  const maxHeight = node.maxHeight;\n  let maxLines = Math.max(node.maxLines, 1) || Infinity;\n\n  if (isNaN(maxHeight)) {\n    return maxLines;\n  }\n\n  const lineHeight = node.lineHeight || DEFAULT_LINE_HEIGHT;\n  const calcLineHeight = measuredLineHeight * lineHeight;\n\n  return Math.max(1, Math.min(Math.floor(maxHeight / calcLineHeight), maxLines));\n}\n\nfunction initState(node, measureText) {\n  return {\n    lines: [],\n    line: '',\n    width: 0,\n    maxLines: resolveMaxAllowedLines(node, measureText(node.text).height),\n    maxWidth: node.maxWidth,\n    hyphens: {\n      enabled: node.hyphens === 'auto',\n      char: HYPHENS_CHAR,\n      metrics: measureText(HYPHENS_CHAR)\n    }\n  };\n}\n\nfunction newLine(state) {\n  state.lines.push(state.line);\n  state.line = '';\n  state.width = 0;\n}\n\nfunction appendToLine(state, token) {\n  state.line += token.value;\n  state.width += token.width;\n}\n\nfunction insertHyphenAndJump(state, token, iterator) {\n  if (token.width > state.maxWidth) {\n    return token;\n  }\n\n  const startIndex = token.index;\n\n  for (let i = 1; i < 5; i++) {\n    const pairToken = iterator.peek(token.index - 1);\n\n    if (!token.hyphenation || !pairToken.hyphenation || token.index === 0) {\n      return token;\n    }\n    if (state.width + state.hyphens.metrics.width <= state.maxWidth) {\n      state.line += state.hyphens.char;\n      return token;\n    }\n    if (state.line.length === 1) {\n      return token;\n    }\n\n    token = iterator.next(startIndex - i);\n    state.line = state.line.slice(0, -1);\n    state.width -= token.width;\n  }\n\n  return token;\n}\n\nfunction breakSequence(state, token, measureText) {\n  const charTokenIterator = stringTokenizer({\n    string: token.value,\n    measureText\n  });\n\n  while (state.lines.length < state.maxLines) {\n    let charToken = charTokenIterator.next();\n    if (charToken.done) {\n      break;\n    } else if (state.width + charToken.width > state.maxWidth && charToken.breakOpportunity === BREAK_ALLOWED && state.line.length > 0) {\n      charToken = state.hyphens.enabled ? insertHyphenAndJump(state, charToken, charTokenIterator) : charToken;\n      newLine(state);\n      appendToLine(state, charToken);\n    } else {\n      appendToLine(state, charToken);\n    }\n  }\n}\n\nexport function breakAll(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: '',\n    measureText,\n    noBreakAllowedIdentifiers: [(chunk, i) => i === 0]\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        state.width += token.width;\n      } else {\n        token = state.hyphens.enabled ? insertHyphenAndJump(state, token, iterator) : token;\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n\nexport function breakWord(node, measureText) {\n  const text = node.text;\n  const iterator = stringTokenizer({\n    string: text,\n    separator: /(\\s|-|\\u2010)/,\n    measureText\n  });\n  const state = initState(node, measureText);\n  let reduced = true;\n\n  while (state.lines.length < state.maxLines) {\n    let token = iterator.next();\n\n    if (token.done) {\n      newLine(state);\n      reduced = false;\n      break;\n    } else if (token.breakOpportunity === MANDATORY) {\n      newLine(state);\n    } else if (state.width + token.width > state.maxWidth && token.breakOpportunity === BREAK_ALLOWED) {\n      if (token.suppress) { // Token is suppressable and can be ignored\n        newLine(state);\n      } else if (token.width > state.maxWidth) { // Single sequence is wider then maxWidth, break sequence into multiple lines\n        breakSequence(state, token, measureText);\n      } else {\n        newLine(state);\n        appendToLine(state, token);\n      }\n    } else {\n      appendToLine(state, token);\n    }\n  }\n\n  return {\n    lines: state.lines,\n    reduced\n  };\n}\n","import extend from 'extend';\nimport { breakAll, breakWord } from './word-break';\nimport { DEFAULT_LINE_HEIGHT, ELLIPSIS_CHAR } from './text-const';\nimport { includesLineBreak } from './string-tokenizer';\n\nfunction generateLineNodes(result, item, halfLead, height) {\n  const container = { type: 'container', children: [] };\n\n  if (typeof item.id !== 'undefined') { // TODO also inherit data attribute and more?\n    container.id = item.id;\n  }\n\n  let currentY = 0;\n\n  result.lines.forEach((line, i) => {\n    const node = extend({}, item);\n    node.text = line;\n    node._lineBreak = true; // Flag node as processed to avoid duplicate linebreak run\n    currentY += halfLead; // leading height above\n\n    if (result.reduced && i === result.lines.length - 1) {\n      node.text += ELLIPSIS_CHAR;\n    } else {\n      delete node.maxWidth;\n    }\n\n    node.dy = isNaN(node.dy) ? currentY : node.dy + currentY;\n    currentY += height;\n    currentY += halfLead; // Leading height below\n    container.children.push(node);\n  });\n\n  return container;\n}\n\nfunction shouldLineBreak(item) {\n  // If type text and not already broken into lines\n  return item.type === 'text' && !item._lineBreak;\n}\n\nfunction wrappedMeasureText(node, measureText) {\n  return text => measureText({\n    text,\n    fontSize: node.fontSize,\n    fontFamily: node.fontFamily\n  });\n}\n\nexport function resolveLineBreakAlgorithm(node) {\n  const WORDBREAK = {\n    'break-all': breakAll,\n    'break-word': breakWord\n  };\n\n  return WORDBREAK[node.wordBreak];\n}\n\n/**\n * Apply wordBreak rules to text nodes.\n * @ignore\n * @param {function} measureText\n * @returns {function} Event function to convert a text node into multiple nodes\n */\nexport function onLineBreak(measureText) {\n  return (state) => {\n    const item = state.node;\n    if (shouldLineBreak(item)) {\n      const wordBreakFn = resolveLineBreakAlgorithm(item);\n      if (!wordBreakFn) {\n        return;\n      }\n\n      const tm = measureText(item);\n      if (tm.width <= item.maxWidth && !includesLineBreak(item.text)) {\n        return;\n      }\n\n      const lineHeight = tm.height * Math.max((isNaN(item.lineHeight) ? DEFAULT_LINE_HEIGHT : item.lineHeight), 0);\n      const diff = lineHeight - tm.height;\n      const halfLead = diff / 2;\n      const result = wordBreakFn(item, wrappedMeasureText(item, measureText));\n\n      state.node = generateLineNodes(result, item, halfLead, tm.height); // Convert node to container\n    }\n  };\n}\n","import { ELLIPSIS_CHAR } from './text-const';\n\nexport default function ellipsText({\n  text, 'font-size': fontSize, 'font-family': fontFamily, maxWidth\n}, measureText) { // eslint-disable-line import/prefer-default-export\n  text = typeof text === 'string' ? text : `${text}`;\n  if (maxWidth === undefined) {\n    return text;\n  }\n  let textWidth = measureText({ text, fontSize, fontFamily }).width;\n  if (textWidth <= maxWidth) {\n    return text;\n  }\n\n  let min = 0;\n  let max = text.length - 1;\n  while (min <= max) {\n    let reduceIndex = Math.floor((min + max) / 2);\n    let reduceText = text.substr(0, reduceIndex) + ELLIPSIS_CHAR;\n    textWidth = measureText({ text: reduceText, fontSize, fontFamily }).width;\n    if (textWidth <= maxWidth) {\n      min = reduceIndex + 1;\n    } else { // textWidth > maxWidth\n      max = reduceIndex - 1;\n    }\n  }\n  return text.substr(0, max) + ELLIPSIS_CHAR;\n}\n","import fontWidths from './fontWidths.json';\n\nconst defaultFontFamily = \"'Source Sans Pro', Arial, sans-serif\";\nconst defaultFontSize = \"12px\";\n\nconst RNHelper = {\n  measureText : (fontFamily, fontSize,  text) => {\n    if (text === undefined) text = \"undefined\";\n    if (text === null) text = \"null\";\n    if (text === NaN) text = \"NaN\";\n    if (typeof text !== \"string\") text = text.toString();\n    if (text.length === 0) return 0;\n\n    if (!fontWidths.hasOwnProperty(fontFamily)) fontFamily = defaultFontFamily;\n    if (!fontWidths[fontFamily].hasOwnProperty(fontSize)) fontSize = defaultFontSize;\n\n        let w = 0;\n       for (var i = 0; i < text.length; i++) {\n        const ch = text.charAt(i);\n        w += fontWidths[fontFamily][fontSize].lengths[ch]\n       }\n       console.log(w);\n        return w\n    }\n}\nexport default RNHelper;\n\n\n\n\n/** GENERATOR FUNCTION\n * \n * <Canvas id=\"c\"></Canvas>\nconst series = ' !\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~';\nvar o = {};\nvar fontFamily = \"'Source Sans Pro', Arial, sans-serif\";\n\no[fontFamily] = {};\nfor (var fontSize = 8; fontSize <= 36; fontSize++) {\nvar fontSizeText = fontSize+\"px\";\nvar c = document.getElementById('c');\nvar ctx = c.getContext('2d');\nctx.font = fontSizeText + \" \" + fontFamily;\n\no[fontFamily][fontSizeText] = { lengths: {}};\n\nfor (var i = 0; i < series.length; i++) {\n  const ch = series.charAt(i);\n  o[fontFamily][fontSizeText].lengths[ch] = ctx.measureText(ch).width;\n}\n}\n\nconsole.log(JSON.stringify(o));\n*/","/**\n * Currently some browsers, IE11 and Edge confirmed, doesn't support the dominant-baseline svg-attribute and\n * the browser that does, have different implementations. Thus giving an unpredictable result when rendering'\n * text and predicting it's position (ex. in collision detection).\n *\n * To supplement and the aid in aligning/positioning text with various items, this function can be used\n * to follow a common heuristic across supported renderers.\n * @ignore\n * @param {object} textNode\n * @param {string|number} [textNode['font-size']=0] - String in px format or number\n * @param {string} [textNode['dominant-baseline']] - If baseline is omitted dominant-baseline is used\n * @param {string} [textNode.baseline]\n * @returns {number} Delta-y required to adjust for baseline\n */\nexport default function baselineHeuristic(textNode) {\n  const baseline = textNode.baseline || textNode['dominant-baseline'];\n  let dy = 0;\n\n  const fontSize = parseInt(textNode.fontSize || textNode['font-size'], 10) || 0;\n\n  switch (baseline) {\n    case 'hanging':\n      dy = fontSize * 0.75;\n      break;\n    case 'text-before-edge':\n      dy = fontSize * 0.85;\n      break;\n    case 'middle':\n      dy = fontSize * 0.25;\n      break;\n    case 'central':\n      dy = fontSize * 0.35;\n      break;\n    case 'mathemetical':\n      dy = fontSize / 2;\n      break;\n    case 'text-after-edge':\n    case 'ideographic':\n      dy = -fontSize * 0.2;\n      break;\n    default:\n      dy = 0;\n      break;\n  }\n\n  return dy;\n}\n","import extend from 'extend';\nimport RNHelper from '../../RNHelper';\nimport { resolveLineBreakAlgorithm } from './line-break-resolver';\nimport baselineHeuristic from './baseline-heuristic';\nimport {\n  DEFAULT_LINE_HEIGHT,\n  ELLIPSIS_CHAR\n} from './text-const';\n\nlet heightMeasureCache = {},\n  widthMeasureCache = {},\n  canvasCache;\n\n\nfunction measureTextWidth({ text, fontSize, fontFamily }) {\n    const match = widthMeasureCache[text + fontSize + fontFamily];\n    if (match !== undefined) {\n      return match;\n    }\n    const w = RNHelper.measureText(fontFamily, fontSize, text);\n    widthMeasureCache[text + fontSize + fontFamily] = w;\n    return w;\n  }\n\n  /*\nfunction measureTextWidth({ text, fontSize, fontFamily }) {\n  const match = widthMeasureCache[text + fontSize + fontFamily];\n  if (match !== undefined) {\n    return match;\n  }\n // canvasCache = canvasCache || document.createElement('canvas');\n  const g = canvasCache.getContext('2d');\n  g.font = `${fontSize} ${fontFamily}`;\n  const w = g.measureText(text).width;\n  widthMeasureCache[text + fontSize + fontFamily] = w;\n  return w;\n}\n*/\n\nfunction measureTextHeight({ fontSize, fontFamily }) {\n  const match = heightMeasureCache[fontSize + fontFamily];\n\n  if (match !== undefined) {\n    return match;\n  }\n  const text = 'M';\n  const height = measureTextWidth({ text, fontSize, fontFamily }) * 1.2;\n  heightMeasureCache[fontSize + fontFamily] = height;\n  return height;\n}\n\n/**\n * @private\n * @param {object} opts\n * @param {string} opts.text - Text to measure\n * @param {string} opts.fontSize - Font size with a unit definition, ex. 'px' or 'em'\n * @param {string} opts.fontFamily - Font family\n * @return {object} Width and height of text in pixels\n * @example\n * measureText({\n *  text: 'my text',\n *  fontSize: '12px',\n *  fontFamily: 'Arial'\n * }); // returns { width: 20, height: 12 }\n */\nexport function measureText({ text, fontSize, fontFamily }) { // eslint-disable-line import/prefer-default-export\n  const w = measureTextWidth({ text, fontSize, fontFamily }); // 10\n  const h = measureTextHeight({ fontSize, fontFamily }); // 10\n  return { width: w, height: h };\n}\n\n/**\n * Calculates the bounding rectangle of a text node.\n * The bounding rectangle is a approximate of the \"em square\" seen here (http://www.w3resource.com/html5-canvas/html5-canvas-text.php)\n * @ignore\n * @param {object} attrs - Text node definition\n * @param {number} [attrs.x] - X-coordinate\n * @param {number} [attrs.y] - Y-coordinate\n * @param {number} [attrs.dx] - Delta x-coordinate\n * @param {number} [attrs.dy] - Delta y-coordinate\n * @param {string} [attrs.anchor] - Text anchor\n * @param {number} [attrs.maxWidth] - Maximum allowed text width\n * @return {object} The bounding rectangle\n */\nfunction calcTextBounds(attrs, measureFn = measureText) {\n  const fontSize = attrs['font-size'] || attrs.fontSize;\n  const fontFamily = attrs['font-family'] || attrs.fontFamily;\n  const textMeasure = measureFn({ text: attrs.text, fontFamily, fontSize });\n  const calWidth = Math.min(attrs.maxWidth || textMeasure.width, textMeasure.width); // Use actual value if max is not set\n  const x = attrs.x || 0;\n  const y = attrs.y || 0;\n  const dx = attrs.dx || 0;\n  const dy = (attrs.dy || 0) + baselineHeuristic(attrs);\n\n  const boundingRect = {\n    x: 0,\n    y: (y + dy) - (textMeasure.height * 0.75), // Magic number for alphabetical baseline\n    width: calWidth,\n    height: textMeasure.height\n  };\n\n  const anchor = attrs['text-anchor'] || attrs.anchor;\n\n  if (anchor === 'middle') {\n    boundingRect.x = (x + dx) - (calWidth / 2);\n  } else if (anchor === 'end') {\n    boundingRect.x = (x + dx) - calWidth;\n  } else {\n    boundingRect.x = x + dx;\n  }\n\n  return boundingRect;\n}\n\n/**\n * Calculates the bounding rectangle of a text node. Including any line breaks.\n * @ignore\n * @param {object} node\n * @param {string} node.text - Text to measure\n * @param {number} [node.x=0] - X-coordinate\n * @param {number} [node.y=0] - Y-coordinate\n * @param {number} [node.dx=0] - Delta x-coordinate\n * @param {number} [node.dy=0] - Delta y-coordinate\n * @param {string} [node.anchor='start'] - Text anchor\n * @param {string} [node.fontSize] - Font size\n * @param {string} [node.fontFamily] - Font family\n * @param {string} [node['font-size']] - Font size\n * @param {string} [node['font-family']] - Font family\n * @param {string} [node.wordBreak] - Word-break option\n * @param {number} [node.maxWidth] - Maximum allowed text width\n * @param {number} [node.maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @param {number} [node.maxLines] - Maximum number of lines allowed.\n * @param {number} [node.lineHeight=1.2] - Line height\n * @param {function} [measureFn] - Optional text measure function\n * @return {object} The bounding rectangle\n */\nexport function textBounds(node, measureFn = measureText) {\n  const lineBreakFn = resolveLineBreakAlgorithm(node);\n  if (lineBreakFn) {\n    const fontSize = node['font-size'] || node.fontSize;\n    const fontFamily = node['font-family'] || node.fontFamily;\n    const resolvedLineBreaks = lineBreakFn(node, text => measureFn({ text, fontFamily, fontSize }));\n    const nodeCopy = extend({}, node);\n    let maxWidth = 0;\n    let widestLine = '';\n    for (let i = 0, len = resolvedLineBreaks.lines.length; i < len; i++) {\n      let line = resolvedLineBreaks.lines[i];\n      line += i === len - 1 && resolvedLineBreaks.reduced ? ELLIPSIS_CHAR : '';\n      const width = measureFn({ text: line, fontSize, fontFamily }).width;\n      if (width >= maxWidth) {\n        maxWidth = width;\n        widestLine = line;\n      }\n    }\n    nodeCopy.text = widestLine;\n    const bounds = calcTextBounds(nodeCopy, measureFn);\n    const lineHeight = bounds.height * Math.max(isNaN(node.lineHeight) ? DEFAULT_LINE_HEIGHT : node.lineHeight, 0);\n    const diff = lineHeight - bounds.height;\n\n    bounds.height = (bounds.height + diff) * resolvedLineBreaks.lines.length;\n\n    return bounds;\n  }\n\n  return calcTextBounds(node, measureFn);\n}\n","\n// Source: https://en.wikipedia.org/wiki/Bi-directional_text and http://www.unicode.org/Public/6.0.0/ucd/UnicodeData.txt\n// 3 types of strong direction characters: L (strong left-to-right), R(strong right-to-left, Hebrew) and AL(strong right-to-left, Arabic language)\nconst rangesOfLChars = '[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02B8\\u02BB-\\u02C1\\u02D0-\\u02D1\\u02E0-\\u02E4\\u02EE\\u0370-\\u0373\\u0376-\\u037D\\u0386\\u0388-\\u03F5\\u03F7-\\u0482\\u048A-\\u0589\\u0903-\\u0939\\u093B\\u093D-\\u0940\\u0949-\\u094C\\u094E-\\u0950\\u0958-\\u0961\\u0964-\\u097F\\u0982-\\u09B9\\u09BD-\\u09C0\\u09C7-\\u09CC\\u09CE-\\u09E1\\u09E6-\\u09F1\\u09F4-\\u09FA\\u0A03-\\u0A39\\u0A3E-\\u0A40\\u0A59-\\u0A6F\\u0A72-\\u0A74\\u0A83-\\u0AB9\\u0ABD-\\u0AC0\\u0AC9-\\u0ACC\\u0AD0-\\u0AE1\\u0AE6-\\u0AEF\\u0B02-\\u0B39\\u0B3D-\\u0B3E\\u0B40\\u0B47-\\u0B4C\\u0B57-\\u0B61\\u0B66-\\u0B77\\u0B83-\\u0BBF\\u0BC1-\\u0BCC\\u0BD0-\\u0BF2\\u0C01-\\u0C3D\\u0C41-\\u0C44\\u0C58-\\u0C61\\u0C66-\\u0C6F\\u0C7F-\\u0CB9\\u0CBD-\\u0CCB\\u0CD5-\\u0CE1\\u0CE6-\\u0D40\\u0D46-\\u0D4C\\u0D4E-\\u0D61\\u0D66-\\u0DC6\\u0DCF-\\u0DD1\\u0DD8-\\u0E30\\u0E32-\\u0E33\\u0E40-\\u0E46\\u0E4F-\\u0EB0\\u0EB2-\\u0EB3\\u0EBD-\\u0EC6\\u0ED0-\\u0F17\\u0F1A-\\u0F34\\u0F36\\u0F38\\u0F3E-\\u0F6C\\u0F7F\\u0F85\\u0F88-\\u0F8C\\u0FBE-\\u0FC5\\u0FC7-\\u102C\\u1031\\u1038\\u103B-\\u103C\\u103F-\\u1057\\u105A-\\u105D\\u1061-\\u1070\\u1075-\\u1081\\u1083-\\u1084\\u1087-\\u108C\\u108E-\\u109C\\u109E-\\u135A\\u1360-\\u138F\\u13A0-\\u13F4\\u1401-\\u167F\\u1681-\\u169A\\u16A0-\\u1711\\u1720-\\u1731\\u1735-\\u1751\\u1760-\\u1770\\u1780-\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u17D4-\\u17DA\\u17DC\\u17E0-\\u17E9\\u1810-\\u18A8\\u18AA-\\u191C\\u1923-\\u1926\\u1929-\\u1931\\u1933-\\u1938\\u1946-\\u19DA\\u1A00-\\u1A16\\u1A19-\\u1A55\\u1A57\\u1A61\\u1A63-\\u1A64\\u1A6D-\\u1A72\\u1A80-\\u1AAD\\u1B04-\\u1B33\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B6A\\u1B74-\\u1B7C\\u1B82-\\u1BA1\\u1BA6-\\u1BA7\\u1BAA-\\u1BE5\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1C2B\\u1C34-\\u1C35\\u1C3B-\\u1C7F\\u1CD3\\u1CE1\\u1CE9-\\u1CEC\\u1CEE-\\u1DBF\\u1E00-\\u1FBC\\u1FBE\\u1FC2-\\u1FCC\\u1FD0-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FFC\\u200E\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E-\\u214F\\u2160-\\u2188\\u2336-\\u237A\\u2395\\u249C-\\u24E9\\u26AC\\u2800-\\u28FF\\u2C00-\\u2CE4\\u2CEB-\\u2CEE\\u2D00-\\u2D70\\u2D80-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u31BA\\u31F0-\\u321C\\u3220-\\u324F\\u3260-\\u327B\\u327F-\\u32B0\\u32C0-\\u32CB\\u32D0-\\u3376\\u337B-\\u33DD\\u33E0-\\u33FE\\u3400-\\u4DB5\\u4E00-\\uA48C\\uA4D0-\\uA60C\\uA610-\\uA66E\\uA680-\\uA6EF\\uA6F2-\\uA6F7\\uA722-\\uA787\\uA789-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA824\\uA827\\uA830-\\uA837\\uA840-\\uA873\\uA880-\\uA8C3\\uA8CE-\\uA8D9\\uA8F2-\\uA925\\uA92E-\\uA946\\uA952-\\uA97C\\uA983-\\uA9B2\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BD-\\uAA28\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA4D-\\uAAAF\\uAAB1\\uAAB5-\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEC\\uABF0-\\uFB17\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFDC]';\nconst rangesOfRChars = '[\\u05BE\\u05C0\\u05C3\\u05C6\\u05D0-\\u05F4\\u07C0-\\u07EA\\u07F4-\\u07F5\\u07FA-\\u0815\\u081A\\u0824\\u0828\\u0830-\\u0858\\u085E\\u200F\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB4F]';\nconst rangesOfALChars = '[\\u0608\\u060B\\u060D\\u061B-\\u064A\\u066D-\\u066F\\u0671-\\u06D5\\u06E5-\\u06E6\\u06EE-\\u06EF\\u06FA-\\u070D\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\uFB50-\\uFD3D\\uFD50-\\uFDFC\\uFE70-\\uFEFC]';\n// let rangesOfNChars = '[\\u0009-\\u000D\\u001C-\\u0022\\u0026-\\u002A\\u003B-\\u0040\\u005B-\\u0060\\u007B-\\u007E\\u0085\\u00A1\\u00A6-\\u00A9\\u00AB-\\u00AC\\u00AE-\\u00AF\\u00B4\\u00B6-\\u00B8\\u00BB-\\u00BF\\u00D7\\u00F7\\u02B9-\\u02BA\\u02C2-\\u02CF\\u02D2-\\u02DF\\u02E5-\\u02ED\\u02EF-\\u02FF\\u0374-\\u0375\\u037E-\\u0385\\u0387\\u03F6\\u058A\\u0606-\\u0607\\u060E-\\u060F\\u06DE\\u06E9\\u07F6-\\u07F9\\u0BF3-\\u0BF8\\u0BFA\\u0C78-\\u0C7E\\u0F3A-\\u0F3D\\u1390-\\u1399\\u1400\\u1680\\u169B-\\u169C\\u17F0-\\u180A\\u180E\\u1940-\\u1945\\u19DE-\\u19FF\\u1FBD\\u1FBF-\\u1FC1\\u1FCD-\\u1FCF\\u1FDD-\\u1FDF\\u1FED-\\u1FEF\\u1FFD-\\u200A\\u2010-\\u2029\\u2035-\\u2043\\u2045-\\u205F\\u207C-\\u207E\\u208C-\\u208E\\u2100-\\u2101\\u2103-\\u2106\\u2108-\\u2109\\u2114\\u2116-\\u2118\\u211E-\\u2123\\u2125\\u2127\\u2129\\u213A-\\u213B\\u2140-\\u2144\\u214A-\\u214D\\u2150-\\u215F\\u2189-\\u2211\\u2214-\\u2335\\u237B-\\u2394\\u2396-\\u2487\\u24EA-\\u26AB\\u26AD-\\u27FF\\u2900-\\u2B59\\u2CE5-\\u2CEA\\u2CF9-\\u2CFF\\u2E00-\\u3004\\u3008-\\u3020\\u3030\\u3036-\\u3037\\u303D-\\u303F\\u309B-\\u309C\\u30A0\\u30FB\\u31C0-\\u31E3\\u321D-\\u321E\\u3250-\\u325F\\u327C-\\u327E\\u32B1-\\u32BF\\u32CC-\\u32CF\\u3377-\\u337A\\u33DE-\\u33DF\\u33FF\\u4DC0-\\u4DFF\\uA490-\\uA4C6\\uA60D-\\uA60F\\uA673\\uA67E-\\uA67F\\uA700-\\uA721\\uA788\\uA828-\\uA82B\\uA874-\\uA877\\uFD3E-\\uFD3F\\uFDFD\\uFE10-\\uFE19\\uFE30-\\uFE4F\\uFE51\\uFE54\\uFE56-\\uFE5E\\uFE60-\\uFE61\\uFE64-\\uFE68\\uFE6B\\uFF01-\\uFF02\\uFF06-\\uFF0A\\uFF1B-\\uFF20\\uFF3B-\\uFF40\\uFF5B-\\uFF65\\uFFE2-\\uFFE4\\uFFE8-\\uFFFD]';\nconst rangesOfLRgExp = new RegExp(rangesOfLChars);\nconst rangesOfRRgExp = new RegExp(rangesOfRChars);\nconst rangesOfALRgExp = new RegExp(rangesOfALChars);\n// let rangesOfNRgExp = new RegExp(rangesOfNChars);\n// let lrm = String.fromCharCode(8206); // left-to-right marker\n// let rlm = String.fromCharCode(8207); // right-to-left marker\n\nfunction isLtrChar(c) {\n  return rangesOfLRgExp.test(c);\n}\n\nfunction isRtlChar(c) {\n  return rangesOfRRgExp.test(c) || rangesOfALRgExp.test(c);\n}\n\nexport function detectTextDirection(s) {\n  let n = s ? s.length : 0,\n    i,\n    c;\n  for (i = 0; i < n; i++) {\n    c = s[i];\n    if (isLtrChar(c)) {\n      return 'ltr';\n    }\n    if (isRtlChar(c)) {\n      return 'rtl';\n    }\n  }\n  return 'ltr';\n}\n\nconst textAnchorRTLMap = {\n  start: 'end',\n  end: 'start',\n  center: 'center',\n  middle: 'middle'\n};\n\n/* let flippedTextAnchor = true;\nlet detected = false;\nexport function detectRtlSvgSupport(ns, ownerDoc) {\n  if (!detected) {\n    const body = ownerDoc.body;\n    if (body) {\n      const rtlTestSVG = ownerDoc.createElementNS(ns, 'svg');\n      const textNode = ownerDoc.createElementNS(ns, 'text');\n      const group = ownerDoc.createElementNS(ns, 'g');\n\n      rtlTestSVG.setAttribute('xmlns', ns);\n      rtlTestSVG.setAttribute('style', 'position: absolute; width: 100px; height: 100px; top: -100px; left: 0px');\n\n      textNode.setAttribute('text-anchor', 'start');\n      textNode.setAttribute('direction', 'rtl');\n      textNode.setAttribute('font-size', '14px');\n      textNode.setAttribute('x', 50);\n      textNode.setAttribute('y', 50);\n      textNode.textContent = '';\n\n      group.appendChild(textNode);\n      rtlTestSVG.appendChild(group);\n      body.appendChild(rtlTestSVG);\n\n      flippedTextAnchor = textNode.getBoundingClientRect().left < 50;\n      body.removeChild(rtlTestSVG);\n    }\n  }\n  detected = true;\n} */\n\nexport function flipTextAnchor(value, dir) {\n  if (dir === 'rtl') {\n    return textAnchorRTLMap[value];\n  }\n  return value;\n}\n","import { ellipsText, measureText } from '../../text-manipulation';\nimport baselineHeuristic from '../../text-manipulation/baseline-heuristic';\nimport { detectTextDirection, flipTextAnchor } from '../../../core/utils/rtl-util';\n\nconst svgNs = 'http://www.w3.org/2000/svg';\n\nconst creator = (type, parent) => {\n  if (!type || typeof type !== 'string') {\n    throw new Error(`Invalid type: ${type}`);\n  }\n\n  const el = parent.ownerDocument.createElementNS(svgNs, type === 'container' ? 'g' : type);\n\n  parent.appendChild(el);\n  return el;\n};\n\nconst destroyer = (el) => {\n  if (el.parentNode) {\n    el.parentNode.removeChild(el);\n  }\n};\n\nconst maintainer = (element, item) => {\n  for (const attr in item.attrs) {\n    if (attr === 'stroke' && item.strokeReference) {\n      element.setAttribute('stroke', item.strokeReference);\n    } else if (attr === 'fill' && item.fillReference) {\n      element.setAttribute('fill', item.fillReference);\n    } else if (attr === 'text') {\n      element.setAttribute('style', 'white-space: pre');\n      element.textContent = ellipsText(item.attrs, measureText);\n      const dir = detectTextDirection(item.attrs.text);\n      if (dir === 'rtl') {\n        element.setAttribute('direction', 'rtl');\n        element.setAttribute('dir', 'rtl');\n        element.setAttribute('text-anchor', flipTextAnchor(element.getAttribute('text-anchor'), dir));\n      }\n    } else if (item.type === 'text' && (attr === 'dy' || attr === 'dominant-baseline')) {\n      const dy = +element.getAttribute(attr) || 0;\n      let val = 0;\n      if (attr === 'dominant-baseline') {\n        val = baselineHeuristic(item.attrs);\n      } else {\n        val = item.attrs[attr];\n      }\n      element.setAttribute('dy', val + dy);\n    } else if (item.type === 'text' && attr === 'title' && item.attrs.title) {\n      const t = element.ownerDocument.createElementNS(svgNs, 'title');\n      t.textContent = item.attrs.title;\n      element.appendChild(t);\n    } else {\n      element.setAttribute(attr, item.attrs[attr]);\n    }\n  }\n\n  if (typeof item.data === 'string' || typeof item.data === 'number' || typeof item.data === 'boolean') {\n    element.setAttribute('data', item.data);\n  } else if (typeof item.data === 'object' && item.data !== null) {\n    for (const d in item.data) {\n      if (typeof item.data[d] === 'string' || typeof item.data[d] === 'number' || typeof item.data[d] === 'boolean') {\n        element.setAttribute(`data-${d}`, item.data[d]);\n      }\n    }\n  }\n};\n\nexport {\n  svgNs,\n  creator,\n  maintainer,\n  destroyer\n};\n","import { createTree } from '../node-tree';\nimport { creator, maintainer, destroyer } from './svg-nodes';\n\nclass TreeItemRenderer {\n  /**\n   * Constructor\n   * @private\n   * @param  {TreeCreator} treeCreator - Function used to create the DOM tree..\n   * @param  {SVGCreator} nodeCreator - Function used to create nodes.\n   * @param  {SVGMaintainer} nodeMaintainer - Function used to update nodes.\n   * @param  {SVGDestroyer} nodeDestroyer - Function used to destroy nodes.\n   */\n  constructor(treeCreator, nodeCreator, nodeMaintainer, nodeDestroyer) {\n    this.create = treeCreator;\n    this.nodeCreator = nodeCreator;\n    this.nodeMaintainer = nodeMaintainer;\n    this.nodeDestroyer = nodeDestroyer;\n  }\n\n  render(newItems, root) {\n    return this.create([], newItems, root, this.nodeCreator, this.nodeMaintainer, this.nodeDestroyer);\n  }\n}\n\nfunction tree() {\n  return new TreeItemRenderer(createTree, creator, maintainer, destroyer);\n}\n\nexport {\n  TreeItemRenderer as default,\n  tree\n};\n\n/**\n * Create an SVGElement and attach to parent.\n * @private\n * @callback SVGCreator\n * @param {String} type - The type of element to create.\n * @param {SVGElement} parent - The parent element to append the new element to.\n * @return {SVGElement} The created element\n */\n\n/**\n * Update the element with content from item.\n * @private\n * @callback SVGMaintainer\n * @param {SVGElement} el - The element to update\n * @param {Object} item - The object to use as input for the update\n */\n\n/**\n * Detach element from its parent.\n * @private\n * @callback SVGDestroyer\n * @param {SVGElement} el - Element to destroy.\n */\n\n/**\n * Create, update and destroy nodes.\n * @private\n * @callback TreeCreator\n * @param {Object[]} existing - The existing items in the tree.\n * @param {Object[]} active - The new items to create the tree from.\n * @param {SVGCreator} creator - Function used to create nodes.\n * @param {SVGMaintainer} maintainer - Function used to update nodes.\n * @param {SVGDestroyer} destroyer - Function used to destroy nodes.\n */\n","class Node {\n  /**\n   * @private\n   */\n  constructor(type) {\n    this._parent = null;\n    this._children = [];\n    this._ancestors = null;\n    this.type = type;\n    this.data = null;\n  }\n\n  /**\n   * Detaches this node from its parent, if such exists.\n   * @returns {Node}\n   */\n  detach() {\n    if (this._parent) {\n      this._parent.removeChild(this);\n    }\n    return this;\n  }\n\n  /**\n   * Parent of this node.\n   * @readonly\n   * @type {Node}\n   */\n  get parent() {\n    return this._parent;\n  }\n\n  /**\n   * Checks whether this node is a branch.\n   *\n   * True if this node has children, false otherwise.\n   * @readonly\n   * @type {Boolean}\n   */\n  get isBranch() {\n    return this._children && this._children.length;\n  }\n\n  /**\n   * Children of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get children() {\n    return this._children;\n  }\n\n  /**\n   * Ancestors of this node, including parent.\n   * @readonly\n   * @type {Node[]}\n   */\n  get ancestors() {\n    if (!this._ancestors) {\n      this._ancestors = [];\n      if (this.parent) {\n        this._ancestors.push(this.parent, ...this.parent.ancestors);\n      }\n    }\n\n    return this._ancestors;\n  }\n\n  /**\n   * Descendants of this node.\n   * @readonly\n   * @type {Node[]}\n   */\n  get descendants() {\n    const r = [];\n    const len = this.children.length;\n    let i;\n    let c;\n\n    for (i = 0, len; i < len; i++) {\n      c = this.children[i];\n      r.push(c);\n\n      if (c.children.length) {\n        r.push(...c.descendants);\n      }\n    }\n    return r;\n  }\n\n  /**\n   *\n   * @returns {Boolean}\n   */\n  equals(n) {\n    const children = this.children;\n    const nChildren = n.children;\n    if (children.length !== nChildren.length) {\n      return false;\n    }\n    // Requires deterministic child order\n    for (let i = 0; i < children.length; i++) {\n      if (!children[i].equals(nChildren[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      children: this.children.map(ch => ch.toJSON())\n    };\n  }\n}\n\nexport default Node;\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleRect,\n  testPolygonRect,\n  testRectRect,\n  testRectPoint,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoRect instance\n * @private\n */\nclass GeoRect {\n  constructor({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.set({\n      x, y, width, height, minWidth, minHeight\n    });\n  }\n\n  set({\n    x = 0, y = 0, width = 0, height = 0, minWidth = 0, minHeight = 0\n  } = {}) {\n    this.type = 'rect';\n\n    if (width >= 0) {\n      this.x = x;\n      this.width = Math.max(width, minWidth);\n    } else {\n      this.x = x + Math.min(width, -minWidth);\n      this.width = -Math.min(width, -minWidth);\n    }\n\n    if (height >= 0) {\n      this.y = y;\n      this.height = Math.max(height, minHeight);\n    } else {\n      this.y = y + Math.min(height, -minHeight);\n      this.height = -Math.min(height, -minHeight);\n    }\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testRectPoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testRectLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleRect(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonRect(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x, y: this.y },\n      { x: this.x + this.width, y: this.y },\n      { x: this.x + this.width, y: this.y + this.height },\n      { x: this.x, y: this.y + this.height }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoRect(...args);\n}\n\nexport {\n  GeoRect as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCirclePoint,\n  testCircleRect,\n  testCircleLine,\n  testCircleCircle,\n  testCirclePolygon\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoCircle instance\n * @private\n */\nclass GeoCircle {\n  constructor({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.set({\n      cx, cy, r, minRadius\n    });\n  }\n\n  set({\n    cx = 0, cy = 0, r = 0, minRadius = 0\n  } = {}) {\n    this.type = 'circle';\n    this.cx = cx;\n    this.cy = cy;\n    this.r = Math.max(r, minRadius);\n    this.vector = { x: this.cx, y: this.cy };\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return testCirclePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n\n    return testCircleLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n\n    return testCircleRect(this, rect);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleCircle(this, c);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testCirclePolygon(this, polygon);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      {\n        x: this.cx,\n        y: this.cy\n      }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoCircle(...args);\n}\n\nexport {\n  GeoCircle as default,\n  create\n};\n","import { pointsToLine, pointsToRect } from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testRectLine,\n  testLinePoint,\n  testLineLine\n} from '../math/narrow-phase-collision';\n\n/**\n * Construct a new GeoLine instance\n * @private\n */\nclass GeoLine {\n  constructor({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.set({\n      x1, y1, x2, y2, tolerance\n    });\n  }\n\n  set({\n    x1 = 0, y1 = 0, x2 = 0, y2 = 0, tolerance = 0\n  } = {}) {\n    this.type = 'line';\n    this.x1 = x1;\n    this.y1 = y1;\n    this.x2 = x2;\n    this.y2 = y2;\n    this.tolerance = Math.max(0, Math.round(tolerance));\n\n    this.vectors = this.points();\n    this.zeroSize = x1 === x2 && y1 === y2;\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    if (this.tolerance > 0) {\n      const c = { cx: p.x, cy: p.y, r: this.tolerance };\n      return testCircleLine(c, this);\n    }\n    return testLinePoint(this, p);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const line = pointsToLine(points);\n    return testLineLine(this, line);\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return testRectLine(rect, this);\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return testCircleLine(c, this);\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return testPolygonLine(polygon, this);\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return [\n      { x: this.x1, y: this.y1 },\n      { x: this.x2, y: this.y2 }\n    ];\n  }\n}\n\nfunction create(...args) {\n  return new GeoLine(...args);\n}\n\nexport {\n  GeoLine as default,\n  create\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCirclePolygon,\n  testPolygonPoint,\n  testPolygonLine,\n  testPolygonRect,\n  testRectRect\n} from '../math/narrow-phase-collision';\n\nfunction close(vertices) {\n  const first = vertices[0];\n  const last = vertices[vertices.length - 1];\n\n  if (first.x !== last.x || first.y !== last.y) {\n    vertices.push(first);\n  }\n}\n\nfunction removeDuplicates(vertices) {\n  for (let i = 0; i < vertices.length - 1; i++) {\n    const v0 = vertices[i];\n    const v1 = vertices[i + 1];\n    if (v0.x === v1.x && v0.y === v1.y) {\n      vertices.splice(i, 1);\n      i--;\n    }\n  }\n}\n\n/**\n * Construct a new GeoPolygon instance\n * @private\n */\nclass GeoPolygon {\n  constructor({ vertices = [] } = {}) {\n    this.set({ vertices });\n  }\n\n  /**\n   * Set the vertices.\n   * If vertices doesn't close the polygon, a closing vertice is appended.\n   * @param {object} input An object with a vertices property\n   * @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n   */\n  set({ vertices = [] } = {}) {\n    this.type = 'polygon';\n    this.vertices = vertices.slice();\n    this.edges = [];\n\n    removeDuplicates(this.vertices);\n\n    if (this.vertices.length <= 2) {\n      return;\n    }\n\n    close(this.vertices);\n\n    this.xMin = NaN;\n    this.yMin = NaN;\n    this.xMax = NaN;\n    this.yMax = NaN;\n\n    for (let i = 0; i < this.vertices.length; i++) {\n      if (i < this.vertices.length - 1) {\n        this.edges.push([this.vertices[i], this.vertices[i + 1]]);\n      }\n\n      this.xMin = isNaN(this.xMin) ? this.vertices[i].x : Math.min(this.xMin, this.vertices[i].x);\n      this.xMax = isNaN(this.xMax) ? this.vertices[i].x : Math.max(this.xMax, this.vertices[i].x);\n      this.yMin = isNaN(this.yMin) ? this.vertices[i].y : Math.min(this.yMin, this.vertices[i].y);\n      this.yMax = isNaN(this.yMax) ? this.vertices[i].y : Math.max(this.yMax, this.vertices[i].y);\n    }\n\n    this._bounds = null;\n    this._boundingRect = null;\n  }\n\n  /**\n   * Check if a point is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return testPolygonPoint(this, point);\n  }\n\n  /**\n   * Check if circle is inside the area of the polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return testCirclePolygon(circle, this);\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return testPolygonLine(this, pointsToLine((points)));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return testPolygonRect(this, pointsToRect(points));\n  }\n\n  /**\n   * Check if polygon intersects another polygon.\n   * Supports convex, concave and self-intersecting polygons (filled area).\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    if (!testRectRect(this.boundingRect(), polygon.boundingRect())) {\n      return false;\n    }\n\n    let intersects = false;\n    for (let i = 0, len = this.edges.length; i < len; i++) {\n      intersects = testPolygonLine(polygon, pointsToLine(this.edges[i]));\n      if (intersects === true) {\n        break;\n      }\n    }\n    return intersects;\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this.vertices;\n  }\n\n  /**\n   * Get the bounds of the polygon, as an array of points\n   * @returns {point[]}\n   */\n  bounds() {\n    if (!this._bounds) {\n      this._bounds = [\n        { x: this.xMin, y: this.yMin },\n        { x: this.xMax, y: this.yMin },\n        { x: this.xMax, y: this.yMax },\n        { x: this.xMin, y: this.yMax }\n      ];\n    }\n\n    return this._bounds;\n  }\n\n  /**\n   * Get the bounding rect of the polygon\n   * @returns {rect}\n   */\n  boundingRect() {\n    if (!this._boundingRect) {\n      this._boundingRect = {\n        x: this.xMin,\n        y: this.yMin,\n        width: this.xMax - this.xMin,\n        height: this.yMax - this.yMin\n      };\n    }\n    return this._boundingRect;\n  }\n}\n\n\n/**\n* Construct a new GeoPolygon instance\n* @param {object} input An object with a vertices property\n* @param {point[]} [input.vertices=[]] Vertices are represented as an array of points.\n* @returns {GeoPolygon} GeoPolygon instance\n* @private\n*/\nfunction create(...a) {\n  return new GeoPolygon(...a);\n}\n\nexport {\n  create,\n  GeoPolygon as default\n};\n","import {\n  pointsToLine,\n  pointsToRect\n} from './util';\nimport {\n  testCircleLine,\n  testPolygonLine,\n  testLinePoint,\n  testLineLine,\n  testRectLine\n} from '../math/narrow-phase-collision';\n\nfunction pointsAreNotEqual(p0, p1) {\n  return p0.x !== p1.x || p0.y !== p1.y;\n}\n\n/**\n * Construct a new GeoPolyline instance\n * @private\n */\nclass GeoPolyline {\n  constructor({ points = [] } = {}) {\n    this.set({ points });\n  }\n\n  set({ points = [] } = {}) {\n    this.type = 'polyline';\n    this.segments = [];\n    this._points = points.slice();\n\n    if (this._points.length > 1) {\n      for (let i = 0, len = this._points.length - 1; i < len; i++) {\n        if (pointsAreNotEqual(this._points[i], this._points[i + 1])) {\n          this.segments.push({\n            x1: this._points[i].x,\n            y1: this._points[i].y,\n            x2: this._points[i + 1].x,\n            y2: this._points[i + 1].y\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {point} point\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(point) {\n    return this.segments.some(line => testLinePoint(line, point));\n  }\n\n  /**\n   * @param {circle} circle\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(circle) {\n    return this.segments.some(line => testCircleLine(circle, line));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    const testLine = pointsToLine(points);\n    return this.segments.some(line => testLineLine(line, testLine));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    const rect = pointsToRect(points);\n    return this.segments.some(line => testRectLine(rect, line));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    // This is a unoptimized solution and should be replaced by a more efficient algorithm.\n    return this.segments.some(line => testPolygonLine(polygon, line));\n  }\n\n  /**\n   * Get the points\n   * @returns {point[]}\n   */\n  points() {\n    return this._points;\n  }\n}\n\nfunction create(...a) {\n  return new GeoPolyline(...a);\n}\n\nexport {\n  create,\n  GeoPolyline as default\n};\n","import { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as polygon } from './polygon';\nimport { create as polyline } from './polyline';\nimport registry from '../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('line', line);\nreg.add('polygon', polygon);\nreg.add('polyline', polyline);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n\n/**\n * @typedef {object} rect\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n * @property {number} width - Width\n * @property {number} height - Height\n */\n\n/**\n * @typedef {object} line\n * @property {number} x1 - Start x-coordinate\n * @property {number} y1 - Start y-coordinate\n * @property {number} x2 - End x-coordinate\n * @property {number} y2 - End y-coordinate\n */\n\n/**\n * @typedef {object} point\n * @property {number} x - X-coordinate\n * @property {number} y - Y-coordinate\n */\n\n/**\n * @typedef {object} circle\n * @property {number} cx - Center x-coordinate\n * @property {number} cy - Center y-coordinate\n * @property {number} r - Circle radius\n */\n\n/**\n * @typedef {object} polygon\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} polyline\n * @property {Array<point>} points - Array of connected points\n */\n\n/**\n * @typedef {object} path\n * @property {string} d - Path definition\n */\n","import { create as factory } from './index';\n\n/**\n * Construct a new GeometryCollection instance\n * @private\n  */\nclass GeometryCollection {\n  constructor(collection = []) {\n    this.set(collection);\n  }\n\n  set(collection = []) {\n    this.geometries = [];\n    collection.forEach((geo) => {\n      const geoInstance = factory(geo.type, geo);\n      if (geoInstance) {\n        this.geometries.push(geoInstance);\n      }\n    });\n  }\n\n  /**\n   * @param {point} p\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  containsPoint(p) {\n    return this.geometries.some(geo => geo.containsPoint(p));\n  }\n\n  /**\n   * @param {point[]} points - Line start and end point as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsLine(points) {\n    return this.geometries.some(geo => geo.intersectsLine(points));\n  }\n\n  /**\n   * @param {point[]} points - Rect vertices as an array of points\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsRect(points) {\n    return this.geometries.some(geo => geo.intersectsRect(points));\n  }\n\n  /**\n   * @param {circle} c\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsCircle(c) {\n    return this.geometries.some(geo => geo.intersectsCircle(c));\n  }\n\n  /**\n   * @param {GeoPolygon} polygon\n   * @returns {boolean} True if there is an intersection, false otherwise\n   */\n  intersectsPolygon(polygon) {\n    return this.geometries.some(geo => geo.intersectsPolygon(polygon));\n  }\n}\n\nfunction create(...args) {\n  return new GeometryCollection(...args);\n}\n\nexport {\n  GeometryCollection as default,\n  create\n};\n","class Matrix {\n  /**\n   * Creates a matrix with identity values.\n   * @private\n   */\n  constructor() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n\n    this._stack = [];\n  }\n\n  /**\n   * Creates a new matrix with a copy of the current values.\n   */\n  clone() {\n    const mt = new Matrix();\n    return mt.multiply(this);\n  }\n\n  /**\n  * Sets the matrix values\n  * @param {Number[][]} arr A 3x3 array.\n  */\n  set(arr) {\n    this._elements = arr;\n    return this;\n  }\n\n  /**\n  * Saves the current matrix values to a stack.\n  */\n  save() {\n    this._stack.push(this.elements);\n    return this;\n  }\n\n  /**\n  * Sets the current matrix values to the last ones saved on to the stack.\n  */\n  restore() {\n    if (this._stack.length) {\n      this._elements = this._stack.pop(); // TODO - use a copy instead\n    }\n    return this;\n  }\n\n  /**\n  * Adds a scalar value to each element in the matrix.\n  * @param {Number} value\n  */\n  add(value) { // assume scalar\n    let i,\n      j;\n    for (i = 0; i < this._elements.length; i++) {\n      for (j = 0; j < this._elements[i].length; j++) {\n        this._elements[i][j] += value;\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Translates the current matrix along the x and y axis.\n  * @param {Number} x\n  * @param {Number} y\n  */\n  translate(x, y) {\n    this.multiply([[1, 0, x], [0, 1, y], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  * Rotates the current matrix.\n  * @param {Number} radianAngle Angle in radians.\n  */\n  rotate(radianAngle) {\n    let cos = Math.cos(-radianAngle),\n      sin = Math.sin(-radianAngle);\n    this.multiply([[cos, sin, 0], [-sin, cos, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n  *\n  * If value is a number; multiplies each element in the matrix by the given value.\n  * If value is a matrix; multiplies the two matrices.\n  * @param {Number|Array|Matrix} value\n  */\n  multiply(value) {\n    let i,\n      j,\n      m,\n      k;\n    if (value instanceof Matrix) {\n      value = value._elements;\n    }\n    if (Array.isArray(value)) { // matrix multiplication\n      m = [\n        [0, 0, 0],\n        [0, 0, 0],\n        [0, 0, 0]\n      ];\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          for (k = 0; k < 3; k++) { // row\n            m[i][j] += this._elements[i][k] * value[k][j];\n          }\n        }\n      }\n      this._elements = m;\n    } else { // scalar multiplication\n      for (i = 0; i < this._elements.length; i++) {\n        for (j = 0; j < this._elements[i].length; j++) {\n          this._elements[i][j] *= value;\n        }\n      }\n    }\n    return this;\n  }\n\n  /**\n  * Scales the matrix along x and y axis.\n  * @param {Number} x The value to scale the matrix with along the x direction\n  * @param {Number} [y=x] The value to scale the matrix with along the y direction.\n  */\n  scale(x, y = x) {\n    // if ( arguments.length < 2 || typeof y === \"undefined\" ) {\n    //  y = x;\n    // }\n\n    this.multiply([[x, 0, 0], [0, y, 0], [0, 0, 1]]);\n    return this;\n  }\n\n  /**\n   * Multiples the matrix with the supplied transformation values\n   * @param {Number} a Horizontal scaling\n   * @param {Number} b Horizontal skewing\n   * @param {Number} c Vertical skewing\n   * @param {Number} d Vertical scaling\n   * @param {Number} e Horizontal moving\n   * @param {Number} f Vertical scaling\n   */\n  transform(a, b, c, d, e, f) {\n    this.multiply([[a, c, e], [b, d, f], [0, 0, 1]]);\n\n    return this;\n  }\n\n  /**\n  * Gets the value of the determinant.\n  * @return {Number}\n  */\n  determinant() {\n    let a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      i = this._elements[2][2],\n      p = 0;\n\n    p = ((a * e * i) + (b * f * g) + (c * d * h)) - (c * e * g) - (b * d * i) - (a * f * h);\n\n    return p;\n  }\n\n  /**\n  * Inverts the matrix.\n  */\n  invert() {\n    let dt = this.determinant(),\n      a = this._elements[0][0],\n      b = this._elements[0][1],\n      c = this._elements[0][2],\n      d = this._elements[1][0],\n      e = this._elements[1][1],\n      f = this._elements[1][2],\n      g = this._elements[2][0],\n      h = this._elements[2][1],\n      k = this._elements[2][2];\n\n    this._elements = [\n      [(e * k) - (f * h), (c * h) - (b * k), (b * f) - (c * e)],\n      [(f * g) - (d * k), (a * k) - (c * g), (c * d) - (a * f)],\n      [(d * h) - (e * g), (g * b) - (a * h), (a * e) - (b * d)]\n    ];\n\n    this.multiply(1 / dt); // TODO - handle when dt === 0 ?\n    return this;\n  }\n\n  /**\n  * Transposes the elements of the matrix.\n  */\n  transpose() {\n    const m = Object.create(this._elements); // ?\n    this._elements = [\n      [m[0][0], m[1][0], m[2][0]],\n      [m[0][1], m[1][1], m[2][1]],\n      [m[0][2], m[1][2], m[2][2]]\n    ];\n    return this;\n  }\n\n  /**\n  * Resets the inner elements of the matrix to identity values.\n  */\n  identity() {\n    this._elements = [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n    return this;\n  }\n\n  toString() {\n    return `${this._elements.map(r => r.join('\\t')).join('\\n')}`;\n  }\n\n  isIdentity() {\n    const m = this._elements;\n    return m[0][0] === 1 && m[0][1] === 0 && m[0][2] === 0\n      && m[1][0] === 0 && m[1][1] === 1 && m[1][2] === 0\n      && m[2][0] === 0 && m[2][1] === 0 && m[2][2] === 1;\n  }\n\n  /**\n   * Transforms the given point by this matrix and returns a new point\n   */\n  transformPoint(p) {\n    let vec = [p.x, p.y, 1],\n      i,\n      j,\n      e = this._elements,\n      m = [0, 0, 0];\n    for (i = 0; i < this._elements.length; i++) { // row\n      for (j = 0; j < this._elements[i].length; j++) { // column\n        m[i] += vec[j] * e[i][j];\n      }\n    }\n\n    return { x: m[0], y: m[1] };\n  }\n\n  /**\n   * Transforms the given points by this matrix and returns the new points\n   */\n  transformPoints(array) {\n    let vec,\n      i,\n      j,\n      k,\n      m,\n      e = this._elements,\n      ret = [];\n\n    for (k = 0; k < array.length; k++) {\n      vec = [array[k].x, array[k].y, 1];\n      m = [0, 0, 0];\n\n      for (i = 0; i < this._elements.length; i++) { // row\n        for (j = 0; j < this._elements[i].length; j++) { // column\n          m[i] += vec[j] * e[i][j];\n        }\n      }\n      ret.push({ x: m[0], y: m[1] });\n    }\n    return ret;\n  }\n\n  get elements() {\n    const m = this._elements;\n    return [\n      [m[0][0], m[0][1], m[0][2]],\n      [m[1][0], m[1][1], m[1][2]],\n      [m[2][0], m[2][1], m[2][2]]\n    ];\n  }\n}\n\nexport default Matrix;\n","const transformRegEx = /(translate|scale|rotate|matrix)\\(([0-9,.eE+-\\s]+)(?:,|\\s?)+\\)/g;\n\nfunction parseTransform(transform) {\n  let m,\n    commands = [];\n  while ((m = transformRegEx.exec(transform)) !== null) { // eslint-disable-line no-cond-assign\n    const argsStr = m[2].trim();\n    const args = argsStr.indexOf(',') === -1 ? argsStr.split(' ') : argsStr.split(',');\n\n    commands.push({\n      cmd: m[1],\n      args: args.filter(a => a.trim().length > 0).map(a => Number(a))\n    });\n  }\n\n  return commands;\n}\n\nfunction resolveRotateCmd(matrix, transform) {\n  const radians = transform.args[0] * (Math.PI / 180);\n\n  if (transform.args.length > 2) {\n    const x = transform.args[1];\n    const y = transform.args[2];\n    matrix.translate(x, y);\n    matrix.rotate(radians);\n    matrix.translate(-x, -y);\n  } else if (transform.args.length === 1) {\n    matrix.rotate(radians);\n  }\n}\n\nfunction resolveScaleCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? transform.args[0] : transform.args[1];\n  matrix.scale(x, y);\n}\n\nfunction resolveTranslateCmd(matrix, transform) {\n  const x = transform.args[0];\n  const y = isNaN(transform.args[1]) ? 0 : transform.args[1];\n  matrix.translate(x, y);\n}\n\nfunction resolveMatrixCmd(matrix, transform) {\n  if (transform.args.length >= 6) {\n    matrix.transform(...transform.args);\n  }\n}\n\nexport default function resolveTransform(t, matrix) {\n  const transforms = parseTransform(t);\n  let transform;\n\n  for (let i = 0, len = transforms.length; i < len; i++) {\n    transform = transforms[i];\n\n    if (transform.cmd === 'rotate') {\n      resolveRotateCmd(matrix, transform);\n    } else if (transform.cmd === 'scale') {\n      resolveScaleCmd(matrix, transform);\n    } else if (transform.cmd === 'matrix') {\n      resolveMatrixCmd(matrix, transform);\n    } else if (transform.cmd === 'translate') {\n      resolveTranslateCmd(matrix, transform);\n    }\n  }\n}\n","/* eslint-disable no-useless-escape */\n\nconst SELECTOR_MAPS = {\n  type: /^\\w[\\w-]+/,\n  attr: /^\\[\\w(?:[\\w\\._-]+)?(?:[!]?=['\\\"][\\w\\s*#_-]*['\\\"])?\\]/,\n  universal: /^(\\*)/,\n  tag: /^\\.(\\w+)/\n};\n\nconst FILTERS = {\n  type: (c, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const type = o.type;\n\n      if (type) {\n        return type.toLowerCase() === c.toLowerCase();\n      }\n      return false;\n    });\n  },\n\n  attr: (attr, operator, value, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const v = o.attrs[attr];\n\n      if (!operator) { // TODO handle undefined differently for != operator? As display object may very well have a default rendering color\n        return typeof v !== 'undefined';\n      }\n      if (typeof v === 'undefined') {\n        return false;\n      }\n\n      switch (operator) {\n        case '=':\n          return value === String(v);\n        case '!=':\n          return value !== String(v);\n        default:\n          return false;\n      }\n    });\n  },\n\n  universal: objects => objects,\n\n  tag: (selector, objects) => { // eslint-disable-line arrow-body-style\n    return objects.filter((o) => {\n      const tag = o.tag;\n      if (tag) {\n        return tag\n          .trim()\n          .split(/\\s+/)\n          .indexOf(selector.replace('.', '')) !== -1;\n      }\n      return false;\n    });\n  }\n};\n\n/**\n* Filters out objects of given type and value\n* @ignore\n* @example\n* filter(\n*   {type:'type', value:'Circle'},\n*   [new Circle(), new Rectangle()]\n* )\n* // [Circle]\n* @param {Object} token\n* @param {Array} objects\n* @returns {Object[]} Objects that fulfill the type and value\n*/\nexport function filter(token, objects) {\n  if (!objects || !objects.length || !token || (typeof FILTERS[token.type] !== 'function')) {\n    return [];\n  }\n\n  switch (token.type) {\n    case 'type':\n      return FILTERS[token.type](token.value, objects);\n    case 'attr':\n      return FILTERS[token.type](token.attribute, token.operator, token.attributeValue, objects);\n    case 'universal':\n      return FILTERS[token.type](objects);\n    case 'tag':\n      return FILTERS[token.type](token.value, objects);\n    default:\n      return [];\n  }\n}\n\n/**\n* Tokenizes a string into supported selectors\n* @ignore\n*\n* @example\n* tokenize(\"Circle[color='red']\")\n*\n* @param {String} s\n*/\nexport function tokenize(s) {\n  const groups = [];\n  let sub;\n  let info;\n  let match;\n  let validSelector;\n\n  s.split(/\\s*,\\s*/).forEach((group) => {\n    group = group.trim();\n    sub = [];\n    const selectorMapsIterator = (key) => {\n      match = group.match(SELECTOR_MAPS[key]);\n      if (match) {\n        validSelector = true;\n        group = group.slice(match[0].length);\n        info = {\n          type: key,\n          value: match[0]\n        };\n\n        if (key === 'attr') {\n          // extract parts of attribute from e.g. [color='red'] => (color, =, red)\n          match = match[0].match(/\\[(\\w[\\w\\._-]+)?(?:([!]?=)['\\\"]([\\w\\s#_-]*)['\\\"])?\\]/);\n          info.attribute = match[1];\n          info.operator = match[2];\n          info.attributeValue = match[3];\n        }\n        sub.push(info);\n      }\n    };\n    while (group) {\n      validSelector = false;\n\n      match = group.match(/^\\s*([>+~]|\\s)\\s*/);\n      if (match) {\n        validSelector = true;\n        sub.push({\n          type: ' ',\n          value: match[0]\n        });\n        group = group.slice(match[0].length);\n      }\n\n      Object.keys(SELECTOR_MAPS).forEach(selectorMapsIterator);\n\n      if (sub && sub.length && groups.indexOf(sub) < 0) {\n        groups.push(sub);\n      }\n\n      if (!validSelector) {\n        break;\n      }\n    }\n  });\n  return groups;\n}\n\nfunction find(s, object) {\n  const result = [];\n  const groupResults = [];\n  let groups;\n  let descendants;\n\n  if (object.isBranch) {\n    groups = tokenize(s);\n    descendants = object.descendants;\n\n    let tokens;\n\n    for (let gi = 0, glen = groups.length; gi < glen; gi++) {\n      tokens = groups[gi];\n\n      const levels = [];\n      let filtered = descendants.slice();\n      let hasRemainder = false;\n      tokens.reverse().forEach((token) => {\n        if (token.type === ' ') {\n          levels.push(filtered);\n          filtered = descendants.slice();\n          hasRemainder = false;\n          return;\n        }\n\n        filtered = filter(token, filtered);\n        hasRemainder = true;\n      });\n\n      if (hasRemainder) {\n        levels.push(filtered);\n      }\n\n      const selected = levels[0].filter((node) => {\n        let ancestor = node.parent;\n        let idx;\n\n        for (let i = 1; i < levels.length; i++) {\n          idx = levels[i].indexOf(ancestor);\n          while (ancestor && idx < 0) {\n            ancestor = ancestor.parent;\n            idx = levels[i].indexOf(ancestor);\n          }\n          if (idx < 0) {\n            return false;\n          }\n        }\n        return true;\n      });\n\n      groupResults.push(selected);\n    }\n\n    for (let i = 0, len = groupResults.length; i < len; i++) {\n      for (let ni = 0, nlen = groupResults[i].length; ni < nlen; ni++) {\n        if (result.indexOf(groupResults[i][ni]) < 0) {\n          result.push(groupResults[i][ni]);\n        }\n      }\n    }\n  }\n\n  return result || [];\n}\n\nexport default {\n  find\n};\n","import { pointsToRect, pointsToCircle, pointsToLine } from '../geometry/util';\nimport pointsToPath from '../utils/points-to-path';\n\nfunction appendDpi(points, dpi) {\n  for (let i = 0, len = points.length; i < len; i++) {\n    points[i].x /= dpi;\n    points[i].y /= dpi;\n  }\n}\n\nfunction geometryToDef(geometry, dpi, mvm) {\n  const type = geometry.type;\n  const points = mvm ? mvm.transformPoints(geometry.points()) : geometry.points();\n  appendDpi(points, dpi);\n  let def = null;\n\n  if (type === 'rect' || type === 'bounds') {\n    def = pointsToRect(points);\n    def.type = type;\n  } else if (type === 'circle') {\n    def = pointsToCircle(points, geometry.r);\n    def.type = type;\n  } else if (type === 'line') {\n    def = pointsToLine(points);\n    def.type = type;\n  } else if (type === 'polygon' || type === 'polyline') {\n    const path = pointsToPath(points, type === 'polygon');\n    def = {\n      type: 'path',\n      d: path\n    };\n  }\n\n  return def;\n}\n\n/**\n * @ignore\n * @returns {object} Returns a node definition of the collider\n */\nfunction colliderToShape(node, dpi) {\n  if (node.collider) {\n    const mvm = node.modelViewMatrix;\n    const isCollection = node.colliderType === 'collection';\n\n    if (isCollection) {\n      const children = node.collider.geometries.map(geometry => geometryToDef(geometry, dpi, mvm));\n\n      return {\n        type: 'container',\n        children\n      };\n    }\n\n    return geometryToDef(node.collider, dpi, mvm);\n  }\n\n  return null;\n}\n\n/**\n * Read-only object representing a node on the scene.\n */\nclass SceneNode {\n  constructor(node) {\n    this._bounds = (includeTransform = true) => {\n      const {\n        x, y, width, height\n      } = node.boundingRect ? node.boundingRect(includeTransform) : {\n        x: 0, y: 0, width: 0, height: 0\n      };\n      return {\n        x, y, width, height\n      };\n    };\n    this._attrs = node.attrs;\n    this._type = node.type;\n    this._data = node.data;\n    this._dpi = node.stage ? node.stage.dpi : 1;\n    this._collider = () => colliderToShape(node, this._dpi);\n    this._desc = node.desc;\n    this._tag = node.tag;\n    this._children = () => node.children.map(n => new SceneNode(n));\n    this._parent = () => (node.parent ? new SceneNode(node.parent) : null);\n\n    this._cache = {\n      elementBoundingRect: null\n    };\n    this._getElementBoundingRect = () => {\n      if (!this._cache.elementBoundingRect && this.element) {\n        this._cache.elementBoundingRect = this.element.getBoundingClientRect();\n      }\n      return this._cache.elementBoundingRect || { left: 0, top: 0 };\n    };\n  }\n\n  /**\n   * Get child nodes\n   * @type {SceneNode[]}\n   */\n  get children() {\n    return this._children();\n  }\n\n  /**\n   * Get parent node\n   * @type {SceneNode}\n   */\n  get parent() {\n    return this._parent();\n  }\n\n  /**\n   * Node type\n   * @type {string}\n   */\n  get type() {\n    return this._type;\n  }\n\n  /**\n   * Get the associated data\n   * @type {any}\n   */\n  get data() {\n    return this._data;\n  }\n\n  /**\n   * Node attributes\n   * @type {object}\n   */\n  get attrs() {\n    return this._attrs;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   * @private\n   */\n  set element(e) {\n    this._cache.elementBoundingRect = null;\n    this._element = e;\n  }\n\n  /**\n   * Element the scene is attached to\n   * @type {HTMLElement}\n   */\n  get element() {\n    return this._element;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  * @private\n  */\n  set key(k) {\n    this._key = k;\n  }\n\n  /**\n  * Key of the component this shape belongs to\n  * @type {string}\n  */\n  get key() {\n    return this._key;\n  }\n\n  /**\n   * Bounding rectangle of the node. After any transform has been applied, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get bounds() {\n    const bounds = this._bounds();\n    bounds.x /= this._dpi;\n    bounds.y /= this._dpi;\n    bounds.width /= this._dpi;\n    bounds.height /= this._dpi;\n    return bounds;\n  }\n\n  /**\n   * Bounding rectangle of the node withing it's local coordinate system.\n   * Origin is in the top-left corner of the scene element.\n   * @type {rect}\n   */\n  get localBounds() {\n    const bounds = this._bounds(false);\n    return bounds;\n  }\n\n  /**\n   * Bounding rectangle of the node, relative a target.\n   *\n   * If target is an HTMLElement, the bounds are relative to the HTMLElement.\n   * Any other target type will return the bounds relative to the viewport of the browser.\n   *\n   * @param {HTMLElement|any} target\n   * @param {boolean} includeTransform - Whether to include any applied transforms on the node\n   * @returns {rect}\n   * @example\n   *\n   * node.boundsRelativeTo($('div'));\n   * node.boundsRelativeTo('viewport');\n   */\n  boundsRelativeTo(target, includeTransform = true) {\n    const type = typeof target;\n    const bounds = includeTransform ? this.bounds : this.localBounds;\n    const selfRect = this._getElementBoundingRect();\n    let dx = selfRect.left;\n    let dy = selfRect.top;\n\n    if (type === 'object' && target !== null && typeof target.getBoundingClientRect === 'function') {\n      const { left = 0, top = 0 } = target.getBoundingClientRect();\n      dx -= left;\n      dy -= top;\n    }\n\n    bounds.x += dx;\n    bounds.y += dy;\n\n    return bounds;\n  }\n\n  /**\n   * Collider of the node. Transform on the node has been applied to the collider shape, if any, but excluding scaling transform related to devicePixelRatio.\n   * Origin is in the top-left corner of the scene element.\n   *\n   * If node has no collider, null is returned.\n   * @type {line|rect|circle|path}\n   */\n  get collider() {\n    return this._collider();\n  }\n\n  /**\n   * Node description\n   * @type {object}\n   */\n  get desc() {\n    return this._desc;\n  }\n\n  /**\n   * Node tag\n   * @type {string}\n   */\n  get tag() {\n    return this._tag;\n  }\n}\n\nfunction create(...a) {\n  return new SceneNode(...a);\n}\n\nexport {\n  create as default,\n  SceneNode\n};\n","import createSceneNode from './scene-node';\n\nexport class Collision {\n  constructor(node) {\n    this._node = createSceneNode(node);\n    this._parent = null;\n    this._input = null;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set parent(p) {\n    this._parent = p;\n  }\n\n  get parent() {\n    return this._parent;\n  }\n\n  set input(i) {\n    this._input = i;\n  }\n\n  get input() {\n    return this._input;\n  }\n}\n\nexport default function create(...a) {\n  return new Collision(...a);\n}\n","import createCollision from './collision';\nimport { scalarMultiply } from '../math/vector';\nimport { create as createPolygon } from '../geometry/polygon';\nimport {\n  lineToPoints,\n  rectToPoints,\n  getShapeType\n} from '../geometry/util';\n\nfunction appendParentNode(node, collision) {\n  const p = node.parent;\n\n  if (p && p.type !== 'stage') {\n    collision.parent = createCollision(p);\n\n    const pp = p.parent;\n    if (pp && pp.type !== 'stage') {\n      appendParentNode(pp, collision.parent);\n    }\n  }\n}\n\nfunction appendInputShape(shape, collisions) {\n  for (let i = 0, len = collisions.length; i < len; i++) {\n    collisions[i].input = shape;\n  }\n}\n\nfunction resolveFrontChildCollision(node, type, input) {\n  const num = node.descendants.length;\n\n  for (let i = num - 1; i >= 0; i--) {\n    const desc = node.descendants[i];\n    if (desc.collider === null) {\n      continue;\n    }\n\n    if (desc.collider[type](input)) {\n      const collision = createCollision(desc);\n\n      appendParentNode(desc, collision);\n\n      return collision;\n    }\n  }\n  return null;\n}\n\nfunction resolveGeometryCollision(node, type, input) {\n  if (node.collider[type](input)) {\n    const c = createCollision(node);\n\n    appendParentNode(node, c);\n\n    return c;\n  }\n\n  return null;\n}\n\nfunction inverseTransform(node, input) {\n  let transformedInput = {};\n  if (node.modelViewMatrix) {\n    if (Array.isArray(input)) { // Rect or Line\n      transformedInput = node.inverseModelViewMatrix.transformPoints(input);\n    } else if (!isNaN(input.r)) { // Circle\n      const p = { x: input.cx, y: input.cy };\n      ({ x: transformedInput.cx, y: transformedInput.cy } = node.inverseModelViewMatrix.transformPoint(p));\n      transformedInput.r = input.r;\n    } else if (Array.isArray(input.vertices)) { // Polygon\n      transformedInput.vertices = node.inverseModelViewMatrix.transformPoints(input.vertices);\n    } else { // Point\n      transformedInput = node.inverseModelViewMatrix.transformPoint(input);\n    }\n  } else {\n    transformedInput = input;\n  }\n\n  if (Array.isArray(transformedInput.vertices)) {\n    transformedInput = createPolygon(transformedInput); // TODO Shouldn't have to do this here, currently its beacause a collision algorithm optimization, i.e. caching of polygon bounds\n  }\n\n  return transformedInput;\n}\n\nfunction resolveCollision(node, intersectionType, input) {\n  if (node.colliderType === null) {\n    return null;\n  }\n\n  const transformedInput = inverseTransform(node, input);\n\n  if (node.colliderType === 'frontChild') {\n    return resolveFrontChildCollision(node, intersectionType, transformedInput);\n  }\n\n  return resolveGeometryCollision(node, intersectionType, transformedInput);\n}\n\nfunction findAllCollisions(nodes, intersectionType, ary, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision) { ary.push(collision); }\n\n    // Only traverse children if no match is found on parent and it doesnt have any custom collider\n    if (node.children && !collision && !node.collider) {\n      findAllCollisions(node.children, intersectionType, ary, input);\n    }\n  }\n}\n\nfunction hasCollision(nodes, intersectionType, input) {\n  const num = nodes.length;\n  for (let i = 0; i < num; i++) {\n    const node = nodes[i];\n\n    const collision = resolveCollision(node, intersectionType, input);\n\n    if (collision !== null) { return true; }\n\n    if (node.children && !node.collider) {\n      return hasCollision(node.children, intersectionType, input);\n    }\n  }\n  return false;\n}\n\nfunction resolveShape(shape, ratio = 1) {\n  const type = getShapeType(shape);\n  let _shape = {};\n\n  switch (type) {\n    case 'circle':\n      _shape.cx = shape.cx * ratio;\n      _shape.cy = shape.cy * ratio;\n      _shape.r = shape.r;\n      return ['intersectsCircle', _shape];\n    case 'rect':\n      _shape = rectToPoints(shape).map(p => scalarMultiply(p, ratio));\n      return ['intersectsRect', _shape];\n    case 'line':\n      _shape = lineToPoints(shape).map(p => scalarMultiply(p, ratio));\n      return ['intersectsLine', _shape];\n    case 'point':\n      _shape = scalarMultiply(shape, ratio);\n      return ['containsPoint', _shape];\n    case 'polygon':\n      _shape.vertices = shape.vertices.map(vertex => scalarMultiply(vertex, ratio));\n      return ['intersectsPolygon', _shape];\n    default:\n      return [];\n  }\n}\n\nexport function resolveCollionsOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n  const collisions = [];\n\n  if (intersectionType) {\n    findAllCollisions([node], intersectionType, collisions, _shape);\n    appendInputShape(shape, collisions);\n  }\n  return collisions;\n}\n\nexport function hasCollisionOnNode(node, shape) {\n  const [intersectionType, _shape] = resolveShape(shape, node.dpi);\n\n  return hasCollision([node], intersectionType, _shape);\n}\n","import extend from 'extend';\nimport Node from '../node';\nimport { create as geometry } from '../../geometry';\nimport { create as geometryCollection } from '../../geometry/geometry-collection';\nimport Matrix from '../../math/matrix';\nimport resolveTransform from '../transform-resolver';\nimport nodeSelector from '../node-selector';\nimport createSceneNode from '../scene-node';\nimport { resolveCollionsOnNode, hasCollisionOnNode } from '../collision-resolver';\nimport { assignMappedAttribute } from '../attributes';\n\n/**\n * @typedef {object} node-def\n * @property {string} type\n * @property {string|gradient-def|pattern-def} [fill] - {@link https://www.w3.org/TR/fill-stroke-3/#fill-shorthand}\n * @property {string|gradient-def|pattern-def} [stroke] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke}\n * @property {number} [strokeWidth] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-width}\n * @property {string|number[]} [strokeDasharray] - {@link https://www.w3.org/TR/fill-stroke-3/#propdef-stroke-dasharray}\n * @property {number} [opacity] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {string} [transform] - {@link https://www.w3.org/TR/SVG/coords.html#TransformAttribute}\n * @property {object} [data] - Data object, may contain any properties\n * @property {object} [desc] - Meta-data object, may contain any properties\n * @property {string} [tag] - White-space seperated list of tags\n * @property {string} [id] - Unique identifier of the node\n * @property {object} [collider]\n */\n\nclass DisplayObject extends Node {\n  constructor(type) {\n    super(type);\n    this._stage = null;\n    this._collider = {\n      type: null,\n      definition: null,\n      fn: null\n    };\n    this._attrs = {};\n    this._node = null;\n  }\n\n  set(v = {}) {\n    this.node = v;\n\n    const {\n      data,\n      desc,\n      tag,\n      strokeReference,\n      fillReference\n    } = v;\n\n    assignMappedAttribute(this.attrs, v);\n\n    if (typeof data !== 'undefined') {\n      this.data = data;\n    }\n\n    if (typeof desc === 'object') {\n      this.desc = extend(true, {}, desc);\n    }\n\n    if (typeof tag === 'string') {\n      this.tag = tag;\n    }\n\n    if (typeof strokeReference === 'string') {\n      this.strokeReference = strokeReference;\n    }\n\n    if (typeof fillReference === 'string') {\n      this.fillReference = fillReference;\n    }\n  }\n\n  findShapes(selector) {\n    return nodeSelector.find(selector, this).map(node => createSceneNode(node));\n  }\n\n  getItemsFrom(shape) {\n    return resolveCollionsOnNode(this, shape);\n  }\n\n  containsPoint(p) {\n    return hasCollisionOnNode(this, p);\n  }\n\n  intersectsLine(line) {\n    return hasCollisionOnNode(this, line);\n  }\n\n  intersectsRect(rect) {\n    return hasCollisionOnNode(this, rect);\n  }\n\n  intersectsCircle(circle) {\n    return hasCollisionOnNode(this, circle);\n  }\n\n  intersectsPolygon(polygon) {\n    return hasCollisionOnNode(this, polygon);\n  }\n\n  resolveLocalTransform(m = new Matrix()) {\n    if (typeof this.attrs.transform !== 'undefined') { resolveTransform(this.attrs.transform, m); }\n    this.modelViewMatrix = m.clone();\n  }\n\n  resolveGlobalTransform(m = new Matrix()) {\n    const a = this.ancestors;\n\n    if (a.length > 0) {\n      for (let i = a.length - 1; i >= 0; i--) {\n        a[i].resolveLocalTransform(m);\n        m = a[i].modelViewMatrix;\n      }\n    }\n\n    this.resolveLocalTransform(m);\n  }\n\n  /**\n   * Returns the value of attribute a.\n   * @private\n   * @param a\n   * @returns {*} The value of attribute a.\n   */\n  attr(a) {\n    return this.attrs[a];\n  }\n\n  equals(d) {\n    const attrs = this.attrs;\n    const attrKeys = Object.keys(attrs);\n    const dAttrs = d.attrs;\n    const dAttrKeys = Object.keys(dAttrs);\n    if (attrKeys.length !== dAttrKeys.length) {\n      return false;\n    }\n    for (let i = 0; i < attrKeys.length; i++) {\n      const key = attrKeys[i];\n      if (!Object.hasOwnProperty.call(dAttrs, key)) {\n        return false;\n      }\n      if (attrs[key] !== dAttrs[key]) {\n        return false;\n      }\n    }\n\n    return super.equals(d);\n  }\n\n  toJSON() {\n    const json = super.toJSON();\n    json.attrs = this.attrs;\n    return json;\n  }\n\n  get attrs() {\n    return this._attrs;\n  }\n\n  get stage() {\n    if (this._parent && !this._stage) { // lazy evaluation\n      this._stage = this._parent.stage;\n    } else if (!this._parent && this._stage !== this) {\n      this._stage = null;\n    }\n    return this._stage;\n  }\n\n  set modelViewMatrix(m) {\n    this._mvm = m;\n    this._imvm = null;\n  }\n\n  get modelViewMatrix() {\n    return this._mvm;\n  }\n\n  get inverseModelViewMatrix() {\n    this._imvm = this._imvm ? this._imvm : this._mvm.clone().invert();\n    return this._imvm;\n  }\n\n  set node(n) {\n    this._node = n;\n  }\n\n  get node() {\n    return this._node;\n  }\n\n  set collider(definition) {\n    const type = Array.isArray(definition) ? 'collection' : (definition && definition.type);\n    if (typeof type !== 'string') {\n      // Non string type definition resets the collider\n      this._collider.type = null;\n      this._collider.definition = null;\n      this._collider.fn = null;\n      return;\n    }\n\n    // Check if a collider of the same type is already defined, if so, do an update\n    if (this._collider !== null && this._collider.type === type && this._collider.fn !== null) {\n      this._collider.fn.set(definition);\n      this._collider.definition = definition;\n      return;\n    }\n\n    // Store the definition so that it can be lazy evaluated\n    this._collider.type = type;\n    this._collider.definition = definition;\n  }\n\n  get collider() {\n    // Resolve geometry function from cache\n    if (this._collider.fn !== null) {\n      return this._collider.fn;\n    }\n\n    // Resolve geometry function and store it in cache\n    switch (this._collider.type) {\n      case 'collection':\n        this._collider.fn = geometryCollection(this._collider.definition);\n        break;\n      case 'frontChild': // TODO Deprecate\n        // Front child is not resolved by a function on this node, but instead on one of its child nodes\n        return true;\n      case 'bounds':\n        this._collider.fn = geometry('rect', this.boundingRect());\n        break;\n      case 'line':\n      case 'rect':\n      case 'circle':\n      case 'polygon':\n      case 'polyline':\n        this._collider.fn = geometry(this._collider.type, this._collider.definition);\n        break;\n      default:\n        return null;\n    }\n\n    return this._collider.fn;\n  }\n\n  get colliderType() {\n    return this._collider.type;\n  }\n}\n\nexport default DisplayObject;\n","import Node from './node';\n\nclass NodeContainer extends Node {\n  addChild(c) {\n    if (!c || !(c instanceof Node)) {\n      throw new TypeError(`Expecting a Node as argument, but got ${c}`);\n    }\n\n    if (c === this) {\n      throw new Error('Can not add itself as child!');\n    }\n\n    if (c._children && c._children.length && this.ancestors.indexOf(c) >= 0) {\n      throw new Error('Can not add an ancestor as child!');\n    }\n\n    if (c._parent && c._parent !== this) {\n      c._parent.removeChild(c);\n    }\n\n    this._children.push(c);\n    c._parent = this;\n    c._ancestors = null;\n\n    return this;\n  }\n\n  addChildren(children) {\n    let i,\n      num = children ? children.length : 0;\n    for (i = 0; i < num; i++) {\n      this.addChild(children[i]);\n    }\n    return this;\n  }\n\n  /**\n   * Removes given child node from this node.\n   * @private\n   * @param {Node} c\n   * @returns {Node} This object, for chaining purposes.\n   */\n  removeChild(c) {\n    const indx = this._children.indexOf(c);\n    if (indx >= 0) {\n      this._children.splice(indx, 1);\n      c._parent = null;\n      c._ancestors = null;\n    }\n    return this;\n  }\n\n  removeChildren(children) {\n    let i,\n      num;\n    if (!this._children) {\n      return this;\n    }\n    if (children) {\n      num = children.length;\n      for (i = 0; i < num; i++) {\n        this.removeChild(children[i]);\n      }\n    } else {\n      while (this._children.length) {\n        this.removeChild(this._children[0]);\n      }\n    }\n    return this;\n  }\n}\n\nexport default NodeContainer;\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @extends node-def\n * @typedef {object} node--container-def\n * @property {node-def[]} children - Array of child nodes\n */\n\nconst NC = NodeContainer.prototype;\n\nexport default class Container extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const { collider } = v;\n    const opts = extend({\n      type: null\n    }, collider);\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  appendChildRect(child, includeTransform) {\n    if (typeof child.bounds !== 'undefined') {\n      const rect = this.__boundingRect[includeTransform] || {};\n      const [p0, , p2] = child.bounds(includeTransform);\n      const { x: xMin, y: yMin } = p0;\n      const { x: xMax, y: yMax } = p2;\n\n      const _xMax = isNaN(rect.width) ? xMax : Math.max(xMax, rect.width + rect.x);\n      const _yMax = isNaN(rect.height) ? yMax : Math.max(yMax, rect.height + rect.y);\n\n      rect.x = isNaN(rect.x) ? xMin : Math.min(xMin, rect.x);\n      rect.y = isNaN(rect.y) ? yMin : Math.min(yMin, rect.y);\n      rect.width = _xMax - rect.x;\n      rect.height = _yMax - rect.y;\n\n      this.__boundingRect[includeTransform] = rect;\n    }\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    const num = this.children.length;\n\n    for (let i = 0; i < num; i++) {\n      this.appendChildRect(this.children[i], includeTransform);\n    }\n\n    this.__boundingRect[includeTransform] = extend({\n      x: 0, y: 0, width: 0, height: 0\n    }, this.__boundingRect[includeTransform]);\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.appendChildRect(c, true);\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this.__boundingRect.true);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n    const num = children.length;\n\n    if (this._collider && this._collider.type === 'bounds' && num > 0) {\n      for (let i = 0; i < num; i++) {\n        this.appendChildRect(children[i], true);\n      }\n      const opts = extend({\n        type: 'bounds', x: 0, y: 0, width: 0, height: 0\n      }, this.__boundingRect.true);\n      this.collider = opts;\n    }\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.__boundingRect = { true: null, false: null };\n      this.__bounds = { true: null, false: null };\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    if (this._collider && this._collider.type === 'bounds') {\n      this.__boundingRect = { true: null, false: null };\n      this.__bounds = { true: null, false: null };\n      const opts = extend(this.boundingRect(true), { type: 'bounds' });\n      this.collider = opts;\n    }\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new Container(...s);\n}\n","import Container from './container';\n\nexport default class Stage extends Container {\n  constructor(dpi) {\n    super('stage');\n    this._stage = this;\n    this._dpiRatio = dpi || 1;\n  }\n\n  get dpi() {\n    return this._dpiRatio;\n  }\n}\n\nexport function create(...a) {\n  return new Stage(...a);\n}\n","import DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @typedef {object} gradient-def\n * @property {string} type\n * @property {object[]} stops\n * @property {string} [stops[].type=linearGradient] - radialGradient|linearGradient\n * @property {string} stops[].color - {@link https://www.w3.org/TR/SVG/types.html#DataTypeColor}\n * @property {string} [stops[].opacity=1] - {@link https://www.w3.org/TR/css-color-4/#propdef-opacity}\n * @property {number} stops[].offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {number} [degree] - Gradient rotation angle\n */\n\n/**\n * @typedef {object} node--gradient-item-def\n * @property {string} id - Gradient identifier\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/pservers.html#LinearGradientElementY2Attribute}\n * @property {number} offset - {@link https://www.w3.org/TR/SVG/pservers.html#StopElementOffsetAttribute}\n * @property {object} style - {@link https://www.w3.org/TR/SVG/styling.html#StyleAttribute}\n */\n\nconst NC = NodeContainer.prototype;\n\nconst allowedAttrs = [\n  'x1',\n  'x2',\n  'y1',\n  'y2',\n  'id',\n  'offset',\n  'style'\n];\n\nexport default class GradientItem extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const attrs = this.attrs;\n\n    let attrKey = '';\n\n    for (let i = 0, len = allowedAttrs.length; i !== len; i++) {\n      attrKey = allowedAttrs[i];\n\n      if (typeof v[attrKey] !== 'undefined') {\n        attrs[attrKey] = v[attrKey];\n      }\n    }\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new GradientItem(...s);\n}\n","import DisplayObject from './display-object';\nimport NodeContainer from '../node-container';\n\n/**\n * @experimental\n * @typedef {object} pattern-def\n * @property {'pattern'} type\n * @property {string} fill\n * @property {number} width\n * @property {number} height\n * @property {object[]} shapes\n * @example\n * Stripe pattern\n * ```js\n * {\n *   type: 'pattern',\n *   fill: 'red',\n *   width: 4,\n *   height: 4,\n *   shapes: [\n *     { type: 'rect', x: 3, y: 0, width: 1, height: 1 },\n *     { type: 'rect', x: 2, y: 1, width: 1, height: 1 },\n *     { type: 'rect', x: 1, y: 2, width: 1, height: 1 },\n *     { type: 'rect', x: 0, y: 3, width: 1, height: 1 },\n *   ]\n * }\n * ```\n */\n\nconst NC = NodeContainer.prototype;\n\nconst allowedAttrs = [\n  'patternUnits',\n  'x',\n  'y',\n  'width',\n  'height',\n  'id'\n];\n\nexport default class PatternItem extends DisplayObject {\n  constructor(s = {}) {\n    const { type = 'container' } = s;\n    super(type);\n    this.set(s);\n    this._boundingRect = {};\n  }\n\n  set(v = {}) {\n    super.set(v);\n\n    const attrs = this.attrs;\n\n    let attrKey = '';\n\n    for (let i = 0, len = allowedAttrs.length; i !== len; i++) {\n      attrKey = allowedAttrs[i];\n\n      if (typeof v[attrKey] !== 'undefined') {\n        attrs[attrKey] = v[attrKey];\n      }\n    }\n  }\n\n  addChild(c) {\n    const r = NC.addChild.call(this, c);\n\n    return r;\n  }\n\n  addChildren(children) {\n    const r = NC.addChildren.call(this, children);\n\n    return r;\n  }\n\n  removeChild(c) {\n    c._stage = null;\n    let desc = c.descendants,\n      num = desc ? desc.length : 0,\n      i;\n    // remove reference to stage from all descendants\n    for (i = 0; i < num; i++) {\n      desc[i]._stage = null;\n    }\n\n    NC.removeChild.call(this, c);\n\n    return this;\n  }\n\n  removeChildren(children) {\n    NC.removeChildren.call(this, children);\n\n    return this;\n  }\n}\n\nexport function create(...s) {\n  return new PatternItem(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--rect-def\n * @property {number} x - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementYAttribute}\n * @property {number} width - {@link https://www.w3.org/TR/SVG/shapes.html#RectElementWidthAttribute}\n * @property {number} height- {@link https://www.w3.org/TR/SVG/shapes.html#RectElementHeightAttribute}\n */\n\nexport default class Rect extends DisplayObject {\n  constructor(...s) {\n    super('rect');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0,\n      y = 0,\n      width = 0,\n      height = 0,\n      rx = 0,\n      ry = 0,\n      collider\n    } = v;\n    const opts = extend({\n      type: 'rect', x, y, width, height\n    }, collider);\n\n    super.set(v);\n\n    if (width >= 0) {\n      this.attrs.x = x;\n      this.attrs.width = width;\n    } else {\n      this.attrs.x = x + width;\n      this.attrs.width = -width;\n    }\n\n    if (height >= 0) {\n      this.attrs.y = y;\n      this.attrs.height = height;\n    } else {\n      this.attrs.y = y + height;\n      this.attrs.height = -height;\n    }\n\n    if (rx > 0) { this.attrs.rx = rx; }\n    if (ry > 0) { this.attrs.ry = ry; }\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    const p = rectToPoints(this.attrs);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Rect(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--circle-def\n * @property {number} cx - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCXAttribute}\n * @property {number} cy - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementCYAttribute}\n * @property {number} r - {@link https://www.w3.org/TR/SVG/shapes.html#CircleElementRAttribute}\n */\n\nexport default class Circle extends DisplayObject {\n  constructor(...s) {\n    super('circle');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      cx = 0, cy = 0, r = 0, collider\n    } = v;\n    const opts = extend({\n      type: 'circle', cx, cy, r\n    }, collider);\n\n    super.set(v);\n\n    this.attrs.cx = cx;\n    this.attrs.cy = cy;\n    this.attrs.r = r;\n\n    this.collider = opts;\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    // Current solution only rotate the bounds, giving a larger boundingRect if rotated\n    const p = this.bounds(includeTransform);\n\n    this.__boundingRect[includeTransform] = {\n      x: p[0].x,\n      y: p[0].y,\n      width: p[2].x - p[0].x,\n      height: p[2].y - p[0].y\n    };\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    // TODO Handle Circle bounds correctly for a circle transformed to an non axis aligned ellipse/circle\n    const {\n      cx, cy, r: rX, r: rY\n    } = this.attrs;\n    const x = cx - rX;\n    const y = cy - rY;\n    let w = rX * 2;\n    let h = rY * 2;\n    let p = [\n      { x, y },\n      { x: x + w, y },\n      { x: x + w, y: y + h },\n      { x, y: y + h }\n    ];\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n      const [xMin, yMin, xMax, yMax] = getMinMax(p);\n      w = xMax - xMin;\n      h = yMax - yMin;\n\n      this.__bounds[includeTransform] = [\n        { x: xMin, y: yMin },\n        { x: xMin + w, y: yMin },\n        { x: xMin + w, y: yMin + h },\n        { x: xMin, y: yMin + h }\n      ];\n    } else {\n      this.__bounds[includeTransform] = p;\n    }\n\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Circle(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  lineToPoints,\n  getMinMax\n} from '../../geometry/util';\n\n/**\n * @extends node-def\n * @typedef {object} node--line-def\n * @property {number} x1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX1Attribute}\n * @property {number} y1 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY1Attribute}\n * @property {number} x2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementX2Attribute}\n * @property {number} y2 - {@link https://www.w3.org/TR/SVG/shapes.html#LineElementY2Attribute}\n */\n\nexport default class Line extends DisplayObject {\n  constructor(...s) {\n    super('line');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x1 = 0, y1 = 0, x2 = 0, y2 = 0, collider\n    } = v;\n    super.set(v);\n    this.attrs.x1 = x1;\n    this.attrs.y1 = y1;\n    this.attrs.x2 = x2;\n    this.attrs.y2 = y2;\n\n    const defaultCollider = {\n      type: 'line',\n      x1,\n      y1,\n      x2,\n      y2\n    };\n    this.collider = extend(defaultCollider, collider);\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n    let p = lineToPoints(this.attrs);\n\n    if (includeTransform && this.modelViewMatrix) {\n      p = this.modelViewMatrix.transformPoints(p);\n    }\n\n    const [xMin, yMin, xMax, yMax] = getMinMax(p);\n    const hasSize = xMin !== xMax || yMin !== yMax;\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: hasSize ? Math.max(1, xMax - xMin) : 0,\n      height: hasSize ? Math.max(1, yMax - yMin) : 0\n    };\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Line(...s);\n}\n","const PI_2 = Math.PI / 2;\n\nfunction lineAngle(p0, p1) {\n  const t = Math.atan2(p1.y - p0.y, p1.x - p0.x);\n  return t < 0 ? t + Math.PI * 2 : t;\n}\n\n// TODO Find a more accurate method to find the open and closed points\nfunction rotatePoint(p, angle, radius) {\n  return {\n    x: p.x + (Math.cos(angle) * radius),\n    y: p.y + (Math.sin(angle) * radius)\n  };\n}\n\nexport default function polylineToPolygonCollider(points, radius, opts = {}) {\n  const open = [];\n  const close = [];\n\n  // TODO handle case if points.length === 2\n\n  if (opts.forceOrientation === 'h') {\n    const start = points[0].x < points[1].x ? -1 : 1;\n    const end = points[points.length - 1].x > points[points.length - 2].x ? 1 : -1;\n\n    points.unshift({ x: points[0].x + start, y: points[0].y });\n    points.push({ x: points[points.length - 1].x + end, y: points[points.length - 1].y });\n  } else if (opts.forceOrientation === 'v') {\n    const start = points[0].y < points[1].y ? -1 : 1;\n    const end = points[points.length - 1].y > points[points.length - 2].y ? 1 : -1;\n\n    points.unshift({ x: points[0].x, y: points[0].y + start });\n    points.push({ x: points[points.length - 1].x, y: points[points.length - 1].y + end });\n  }\n\n  const len = points.length - 1;\n  for (let i = 1; i < len; i++) {\n    const prev = points[i - 1];\n    const curr = points[i];\n    const next = points[i + 1];\n    const currToPrev = lineAngle(curr, prev);\n    const currToNext = lineAngle(curr, next);\n    const openAngle = (currToPrev + currToNext) / 2;\n    const closeAngle = openAngle + Math.PI;\n    const maxAngle = Math.max(openAngle, closeAngle);\n    const minAngle = Math.min(openAngle, closeAngle);\n    const openClose = currToPrev > currToNext;\n\n    if (i === 1) {\n      const prevToCurr = lineAngle(prev, curr);\n      open.push(rotatePoint(prev, prevToCurr - PI_2, radius));\n      close.unshift(rotatePoint(prev, prevToCurr + PI_2, radius));\n    }\n\n    const opened = openClose ? maxAngle : minAngle;\n    const closed = openClose ? minAngle : maxAngle;\n\n    open.push(rotatePoint(curr, opened, radius));\n    close.unshift(rotatePoint(curr, closed, radius));\n\n    if (i === len - 1) {\n      const nextToCurr = lineAngle(next, curr);\n      open.push(rotatePoint(next, nextToCurr + PI_2, radius));\n      close.unshift(rotatePoint(next, nextToCurr - PI_2, radius));\n    }\n  }\n\n  return {\n    type: 'polygon',\n    vertices: [\n      ...open,\n      ...close\n    ]\n  };\n}\n","export default function flatten2d(ary) {\n  const newAry = [];\n  let a;\n  let len = ary.length;\n  for (let i = 0; i < len; i++) {\n    a = ary[i];\n    for (let k = 0; k < a.length; k++) {\n      newAry.push(a[k]);\n    }\n  }\n\n  return newAry;\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport { getMinMax } from '../../geometry/util';\nimport pathToSegments from '../parse-path-d';\nimport polylineToPolygonCollider from '../polyline-to-polygon-collider';\nimport flatten from '../../utils/flatten-array';\n\nconst EPSILON = 1e-12;\n\n/**\n * @extends node-def\n * @typedef {object} node--path-def\n * @property {string} d - {@link https://www.w3.org/TR/SVG/paths.html#DAttribute}\n */\n\nfunction isClosed(points) {\n  if (points.length < 2) {\n    return false;\n  }\n  const p0 = points[0];\n  const p1 = points[points.length - 1];\n\n  return Math.abs(p0.x - p1.x) < EPSILON && Math.abs(p0.y - p1.y) < EPSILON;\n}\n\nexport default class Path extends DisplayObject {\n  constructor(...s) {\n    super('path');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    super.set(v);\n    this.segments = [];\n    this.points = [];\n    this.attrs.d = v.d;\n\n    if (Array.isArray(v.collider) || (typeof v.collider === 'object' && typeof v.collider.type !== 'undefined')) {\n      this.collider = v.collider;\n    } else if (v.d) {\n      this.segments = pathToSegments(v.d);\n      this.segments.forEach((segment) => {\n        if (segment.length <= 1) {\n          // Omit empty and single point segments\n        } else if (isClosed(segment)) {\n          this.collider = extend({\n            type: 'polygon',\n            vertices: segment\n          }, v.collider);\n        } else if (typeof v.collider === 'object' && v.collider.visual) {\n          const size = this.attrs['stroke-width'] / 2;\n          this.collider = polylineToPolygonCollider(segment, size, v.collider);\n        } else {\n          this.collider = extend({\n            type: 'polyline',\n            points: segment\n          }, v.collider);\n        }\n      });\n    }\n\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    if (!this.points.length) {\n      this.segments = this.segments.length ? this.segments : pathToSegments(this.attrs.d);\n      this.points = flatten(this.segments);\n    }\n\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(this.points) : this.points;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin || 0,\n      y: yMin || 0,\n      width: (xMax - xMin) || 0,\n      height: (yMax - yMin) || 0\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Path(...s);\n}\n","import extend from 'extend';\nimport DisplayObject from './display-object';\nimport {\n  rectToPoints,\n  getMinMax\n} from '../../geometry/util';\n\nfunction hasData({ data, _boundingRect, _textBoundsFn }) {\n  return typeof data !== 'undefined' && data !== null && (_boundingRect || _textBoundsFn);\n}\n\n/**\n * @extends node-def\n * @typedef {object} node--text-def\n * @property {string} text\n * @property {number} x - {@link https://www.w3.org/TR/SVG/text.html#TextElementXAttribute}\n * @property {number} y - {@link https://www.w3.org/TR/SVG/text.html#TextElementYAttribute}\n * @property {number} [dx] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDXAttribute}\n * @property {number} [dy] - {@link https://www.w3.org/TR/SVG/text.html#TextElementDYAttribute}\n * @property {string} [fontSize] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {string} [fontFamily] - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n * @property {rect} [boundingRect] - Explicitly set the bounding rectangle of the node. Has predence over textBoundsFn\n * @property {function} [textBoundsFn] - Implicitly set the bounding rectangle of the node, the function must return an object with x, y, width and height attributes\n * @property {string} [baseline] - Alias for dominantBaseline\n * @property {string} [dominantBaseline] - {@link https://www.w3.org/TR/SVG/text.html#BaselineAlignmentProperties}\n * @property {string} [anchor] - Alias for textAnchor\n * @property {string} [textAnchor] - {@link https://www.w3.org/TR/SVG/text.html#TextAnchorProperty}\n * @property {string} [wordBreak] - Word-break option\n * @property {number} [maxWidth] - Maximum allowed text width\n * @property {number} [maxHeight] - Maximum allowed text height. If both maxLines and maxHeight are set, the property that results in the fewest number of lines is used\n * @property {number} [maxLines] - Maximum number of lines allowed\n * @property {number} [lineHeight=1.2] - Line height\n */\n\nexport default class Text extends DisplayObject {\n  constructor(...s) {\n    super('text');\n    this.set(...s);\n  }\n\n  set(v = {}) {\n    const {\n      x = 0,\n      y = 0,\n      dx = 0,\n      dy = 0,\n      textBoundsFn,\n      text,\n      title,\n      collider,\n      boundingRect\n    } = v;\n\n    super.set(v);\n    this.attrs.x = x;\n    this.attrs.y = y;\n    this.attrs.dx = dx;\n    this.attrs.dy = dy;\n    this.attrs.text = text;\n    if (typeof title !== 'undefined') {\n      this.attrs.title = String(title);\n    }\n    if (typeof boundingRect === 'object') {\n      this._textBoundsFn = () => boundingRect;\n    } else if (typeof textBoundsFn === 'function') {\n      this._textBoundsFn = textBoundsFn;\n    }\n\n    this.collider = extend({ type: hasData(this) ? 'bounds' : null }, collider);\n\n    this.__boundingRect = { true: null, false: null };\n    this.__bounds = { true: null, false: null };\n  }\n\n  boundingRect(includeTransform = false) {\n    if (this.__boundingRect[includeTransform] !== null) {\n      return this.__boundingRect[includeTransform];\n    }\n\n    let rect;\n    if (typeof this._textBoundsFn === 'function') {\n      rect = this._textBoundsFn(this.attrs);\n    } else {\n      return {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      };\n    }\n\n    const p = rectToPoints(rect);\n    const pt = includeTransform && this.modelViewMatrix ? this.modelViewMatrix.transformPoints(p) : p;\n    const [xMin, yMin, xMax, yMax] = getMinMax(pt);\n\n    this.__boundingRect[includeTransform] = {\n      x: xMin,\n      y: yMin,\n      width: xMax - xMin,\n      height: yMax - yMin\n    };\n\n    return this.__boundingRect[includeTransform];\n  }\n\n  bounds(includeTransform = false) {\n    if (this.__bounds[includeTransform] !== null) {\n      return this.__bounds[includeTransform];\n    }\n    const rect = this.boundingRect(includeTransform);\n\n    this.__bounds[includeTransform] = [\n      { x: rect.x, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y },\n      { x: rect.x + rect.width, y: rect.y + rect.height },\n      { x: rect.x, y: rect.y + rect.height }\n    ];\n    return this.__bounds[includeTransform];\n  }\n}\n\nexport function create(...s) {\n  return new Text(...s);\n}\n","import { create as stage } from './stage';\nimport { create as container } from './container';\nimport { create as gradientItem } from './gradient-item';\nimport { create as patternItem } from './pattern-item';\nimport { create as rect } from './rect';\nimport { create as circle } from './circle';\nimport { create as line } from './line';\nimport { create as path } from './path';\nimport { create as text } from './text';\nimport registry from '../../utils/registry';\n\nconst reg = registry();\n\nreg.add('rect', rect);\nreg.add('circle', circle);\nreg.add('text', text);\nreg.add('line', line);\nreg.add('path', path);\nreg.add('stage', stage);\nreg.add('container', container);\nreg.add('defs', container);\nreg.add('linearGradient', gradientItem);\nreg.add('radialGradient', gradientItem);\nreg.add('stop', gradientItem);\nreg.add('pattern', patternItem);\n\nexport function create(type, input) { // eslint-disable-line import/prefer-default-export\n  return reg.get(type)(input);\n}\n","import extend from 'extend';\n\n/**\n * Creates a context. Input an array of strings that should be inherited by the context.\n * @private\n *\n * @param  {Array}  [whitelist=[]]  An array of whitelisted string keys to inherit\n * @return {Function}               A context function\n */\nfunction contextFactory(whitelist = []) {\n  const states = [{}];\n\n  /**\n   * Returns the current context as an object. The object is mutable.\n   * @private\n   *\n   * @return {Object}   Current context\n   */\n  function context() {\n    // Returns the current context, the last in the stack.\n    const item = states[states.length - 1];\n    return item;\n  }\n\n  /**\n   * Call context.save() to save the current context and move down the stack.\n   *\n   * @param  {Object} [item={}]   Optional item to save.\n   * @return {Object}             The current context, just as context()\n   */\n  context.save = function save(item = {}) {\n    const current = context();\n    const obj = {};\n    let key = '';\n\n    // Only inherit whitelisted properties\n    for (let i = 0; i < whitelist.length; i++) {\n      key = whitelist[i];\n      if (typeof current[key] !== 'undefined') { obj[key] = current[key]; }\n    }\n\n    // Extend the new object with the saved item\n    extend(obj, item);\n\n    // Push it to the stack\n    states.push(obj);\n\n    // Return the new current context\n    return context();\n  };\n\n  /**\n   * Restore the previous context. Returns the context.\n   *\n   * @return {Undefined}   Returns nothing\n   */\n  context.restore = function restore() {\n    // Remove the last element from the stack\n    states.splice(states.length - 1, 1);\n  };\n\n  return context;\n}\n\nexport { contextFactory as default };\n","import { create } from './display-objects';\nimport Matrix from '../math/matrix';\nimport resolveTransform from './transform-resolver';\nimport contextFactory from './context';\n\nconst styleContext = contextFactory([\n  'stroke',\n  'fill',\n  'strokeWidth',\n  'opacity',\n  'fontFamily',\n  'fontSize',\n  'baseline'\n]);\n\nfunction doEvent(state, listeners) {\n  if (!Array.isArray(listeners)) {\n    return;\n  }\n\n  for (let i = 0, len = listeners.length; i < len; i++) {\n    listeners[i](state);\n  }\n}\n\nfunction updateState(state, index, nodes) {\n  state.node = nodes[index];\n  state.index = index;\n}\n\nfunction traverse(items, parent, matrix, on) {\n  let disabled = false;\n  const state = {\n    siblings: items,\n    node: null,\n    index: 0\n  };\n  for (let i = 0, len = items.length; i < len; i++) {\n    updateState(state, i, items);\n    doEvent(state, on.create);\n\n    disabled = typeof state.node.disabled === 'function' ? state.node.disabled() : state.node.disabled;\n    if (disabled) {\n      continue;\n    }\n\n    // Save the current style context to be able to inherit styles\n    state.node = styleContext.save(state.node);\n\n    const displayNode = create(state.node.type, state.node);\n    if (displayNode) {\n      if (state.node.transform) {\n        matrix.save();\n        resolveTransform(state.node.transform, matrix);\n      }\n\n      if (!matrix.isIdentity()) {\n        displayNode.modelViewMatrix = matrix.clone();\n      }\n\n      parent.addChild(displayNode);\n      if (state.node.children) {\n        traverse(state.node.children, displayNode, matrix, on);\n      }\n\n      if (state.node.transform) {\n        matrix.restore();\n      }\n    }\n\n    // Revert to previous style context\n    styleContext.restore();\n  }\n}\n\nexport default function scene({\n  items,\n  stage,\n  dpi,\n  on = {}\n}) {\n  if (!stage) {\n    stage = create('stage', dpi);\n  }\n\n  traverse(items, stage, new Matrix(), on);\n\n  return stage;\n}\n","/* eslint import/prefer-default-export: 0 */\n\n/**\n * Hash an object\n * Modified version of Java's HashCode function\n * Source: {@link http://werxltd.com/wp/2010/05/13/javascript-implementation-of-javas-string-hashcode-method/}\n * @ignore\n *\n * @param  {Object} item Item to hash\n * @return {String}      Unique hash id\n */\nexport function hashObject(item) {\n  let hash = 0;\n  let i;\n  let chr;\n  let len;\n\n  item = JSON.stringify(item);\n\n  if (item.length === 0) {\n    return hash;\n  }\n\n  for (i = 0, len = item.length; i < len; i++) {\n    chr = item.charCodeAt(i);\n    hash = ((hash << 5) - hash) + chr;\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n","import { degreesToPoints } from '../../../core/math/angles';\nimport { hashObject } from '../../../core/utils/crypto';\n\nexport default function gradienter(bucket, hasher = hashObject) {\n  let cache = {};\n  let uid = Date.now();\n\n  const p = {\n    getOrCreateGradient(item = {}, attr = 'fill', url = '') {\n      let gradientHash = hasher(item[attr]);\n      let gradientId = `picasso-gradient-${uid}-${gradientHash}`;\n\n      if (!cache[gradientHash]) {\n        let { orientation, degree, stops = [] } = item[attr];\n        let gradient = {};\n\n        if (degree === undefined) {\n          degree = 90;\n        }\n\n        // Default to linear\n        if (orientation === 'radial') {\n          gradient.type = 'radialGradient';\n        } else {\n          gradient = degreesToPoints(degree);\n          gradient.type = 'linearGradient';\n        }\n\n        gradient.id = gradientId;\n        gradient.children = stops.map(({ offset, color, opacity }) => ({\n          type: 'stop',\n          offset: `${offset * 100}%`,\n          style: `stop-color:${color};stop-opacity:${typeof opacity !== 'undefined' ? opacity : 1}`\n        }));\n\n        bucket.push(gradient);\n        cache[gradientHash] = gradientId;\n      }\n\n      return `url('${url}#${gradientId}')`;\n    },\n    onCreate(state) {\n      let url = '';\n      if (typeof window !== 'undefined') {\n        url = ''; //window.location.href.split('#')[0];\n      }\n\n      const item = state.node;\n      if (item.fill && typeof item.fill === 'object' && item.fill.type === 'gradient') {\n        item.fillReference = p.getOrCreateGradient(item, 'fill', url);\n      }\n\n      if (item.stroke && typeof item.stroke === 'object' && item.stroke.type === 'gradient') {\n        item.strokeReference = p.getOrCreateGradient(item, 'stroke', url);\n      }\n    },\n    clear() {\n      cache = {};\n    }\n  };\n\n  return p;\n}\n","import { hashObject } from '../../../core/utils/crypto';\n\nexport default function patternizer(bucket, hasher = hashObject) {\n  let cache = {};\n  let uid = Date.now();\n  const p = {\n    onCreate(state) {\n      let inputs = {};\n\n      if (state.node && typeof state.node.fill === 'object' && state.node.fill.type === 'pattern' && state.node.fill.shapes) {\n        inputs.fill = state.node.fill;\n      }\n      if (state.node && typeof state.node.stroke === 'object' && state.node.stroke.type === 'pattern' && state.node.stroke.shapes) {\n        inputs.stroke = state.node.stroke;\n      }\n\n      Object.keys(inputs).forEach((key) => {\n        let url = '';\n        const input = inputs[key];\n        const patternHash = hasher(input);\n        const pnid = `picasso-pattern-${uid}-${patternHash}`;\n\n        if (typeof window !== 'undefined') {\n          url = ''; //window.location.href.split('#')[0];\n        }\n\n        if (!cache[patternHash]) {\n          const pn = {\n            patternUnits: 'userSpaceOnUse',\n            x: 0,\n            y: 0,\n            width: input.width,\n            height: input.height,\n            type: 'pattern',\n            id: pnid,\n            children: [],\n            fill: input.fill\n          };\n\n          input.shapes.forEach((s) => {\n            pn.children.push(s);\n          });\n\n          bucket.push(pn);\n          cache[patternHash] = true;\n        }\n\n        state.node[`${key}Reference`] = `url('${url}#${pnid}')`;\n      });\n    },\n    clear() {\n      cache = {};\n    }\n  };\n\n  return p;\n}\n","/**\n * @typedef {object} renderer-container-def\n * @property {number} [x] - x-coordinate\n * @property {number} [y] - y-coordinate\n * @property {number} [width] - Width\n * @property {number} [height] - Height\n * @property {object} [scaleRatio]\n * @property {number} [scaleRatio.x] - Scale ratio on x-axis\n * @property {number} [scaleRatio.y] - Scale ratio on y-axis\n * @property {object} [margin]\n * @property {number} [margin.left] - Left margin\n * @property {number} [margin.top] - Top margin\n */\n\n/**\n * Create the renderer box\n * @private\n * @param {renderer-container-def} [opts]\n * @returns {renderer-container-def} A svg renderer instance\n */\nexport default function createRendererBox({\n  x, y, width, height, scaleRatio, margin, edgeBleed\n} = {}) {\n  const box = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    scaleRatio: {\n      x: 1,\n      y: 1\n    },\n    margin: {\n      left: 0,\n      top: 0\n    },\n    edgeBleed: {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0,\n      bool: false\n    }\n  };\n\n  box.x = isNaN(x) ? box.x : x;\n  box.y = isNaN(y) ? box.y : y;\n  box.width = isNaN(width) ? box.width : width;\n  box.height = isNaN(height) ? box.height : height;\n  if (typeof scaleRatio !== 'undefined') {\n    box.scaleRatio.x = isNaN(scaleRatio.x) ? box.scaleRatio.x : scaleRatio.x;\n    box.scaleRatio.y = isNaN(scaleRatio.y) ? box.scaleRatio.y : scaleRatio.y;\n  }\n\n  if (typeof margin !== 'undefined') {\n    box.margin.left = isNaN(margin.left) ? 0 : margin.left;\n    box.margin.top = isNaN(margin.top) ? 0 : margin.top;\n  }\n\n  if (typeof edgeBleed === 'object') {\n    ['left', 'right', 'top', 'bottom'].forEach((prop) => {\n      if (!isNaN(edgeBleed[prop]) && edgeBleed[prop] > 0) {\n        box.edgeBleed[prop] = edgeBleed[prop];\n        box.edgeBleed.bool = true;\n      }\n    });\n  }\n\n  box.computedPhysical = {\n    x: Math.round(box.margin.left + ((box.x - box.edgeBleed.left) * box.scaleRatio.x)),\n    y: Math.round(box.margin.top + ((box.y - box.edgeBleed.top) * box.scaleRatio.y)),\n    width: Math.round((box.width + box.edgeBleed.left + box.edgeBleed.right) * box.scaleRatio.x),\n    height: Math.round((box.height + box.edgeBleed.top + box.edgeBleed.bottom) * box.scaleRatio.y)\n  };\n\n  return box;\n}\n","import {\n  measureText,\n  textBounds\n} from '../text-manipulation';\n\n/**\n * Base renderer factory\n * @private\n */\nfunction create() {\n  /**\n * @interface\n * @alias renderer\n */\n  const renderer = {\n    /**\n   * Get the element this renderer is attached to\n   * @returns {HTMLElement}\n   */\n    element: () => {},\n\n    /**\n     * Get the root element of the renderer\n     * @returns {HTMLElement}\n     */\n    root: () => {},\n\n    /**\n    * @param {HTMLElement} element - Element to attach renderer to\n    * @returns {HTMLElement} Root element of the renderer\n    */\n    appendTo: () => {},\n\n    /**\n     * @param {node-def[]} nodes - Nodes to render\n     * @returns {boolean} True if the nodes where rendered, otherwise false\n     */\n    render: () => false,\n\n    /**\n     * Get nodes renderer at area\n     * @param {point|circle|rect|line|polygon} geometry - Get nodes that intersects with geometry\n     * @returns {SceneNode[]}\n     */\n    itemsAt: () => [],\n\n    /**\n     * Get all nodes matching the provided selector\n     * @param {string} selector CSS selector [type, attribute, universal, class]\n     * @returns {SceneNode[]} Array of objects containing matching nodes\n     */\n    findShapes: () => [],\n\n    /**\n     * Clear all child elements from the renderer root element\n     * @returns {renderer} The renderer instance\n     */\n    clear: () => {},\n\n    /**\n     * Remove the renderer root element from its parent element\n     */\n    destory: () => {},\n\n    /**\n     * Set or Get the size definition of the renderer container.\n     * @param {renderer-container-def} [opts] - Size definition\n     * @returns {renderer-container-def} The current size definition\n     */\n    size: () => {},\n\n    /**\n     * @function\n     * @param {object} opts\n     * @param {string} opts.text - Text to measure\n     * @param {string} opts.fontSize - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @param {string} opts.fontFamily - {@link https://www.w3.org/TR/SVG/text.html#FontPropertiesUsedBySVG}\n     * @returns {object} Width and height of text\n     * @example\n     * measureText({\n     *  text: 'my text',\n     *  fontSize: '12px',\n     *  fontFamily: 'Arial'\n     * }); // returns { width: 20, height: 12 }\n     */\n    measureText,\n\n    /**\n     * Calculates the bounding rectangle of a text node. Including any potential line breaks.\n     * @function\n     * @param {node--text-def} node\n     * @return {rect} The bounding rectangle\n     */\n    textBounds,\n\n    setKey: (key) => {\n      renderer.element().setAttribute('data-key', key);\n    }\n  };\n\n  return renderer;\n}\n\nexport { create as default };\n","function hasData(data) {\n  return typeof data !== 'undefined' && data !== null;\n}\n\nexport default function injectTextBoundsFn(renderer) {\n  return ({ node }) => {\n    if (node.type === 'text' && hasData(node.data) && !node.textBoundsFn) {\n      node.textBoundsFn = renderer.textBounds;\n    }\n  };\n}\n","import { tree as treeFactory } from './svg-tree';\nimport { svgNs } from './svg-nodes';\nimport sceneFactory from '../../../core/scene-graph/scene';\nimport { onLineBreak } from '../../text-manipulation';\n// import {\n//   resetGradients,\n//   onGradient,\n//   createDefsNode\n// } from './svg-gradient';\n\nimport gradienter from './svg-gradient';\nimport patternizer from './svg-pattern';\n\nimport createRendererBox from '../renderer-box';\nimport create from '../index';\nimport injectTextBoundsFn from '../../text-manipulation/inject-textbounds';\n\n/**\n * Create a new svg renderer\n * @typedef {function} svgRendererFactory\n * @param {function} treeFactory - Node tree factory\n * @param {string} ns - Namespace definition\n * @param {function} sceneFn - Scene factory\n * @returns {renderer} A svg renderer instance\n */\nexport default function renderer(treeFn = treeFactory, ns = svgNs, sceneFn = sceneFactory) {\n  const tree = treeFn();\n  let el;\n  let group;\n  let hasChangedRect = false;\n  let rect = createRendererBox();\n  let scene;\n\n  const svg = create();\n\n  const defs = {\n    type: 'defs',\n    children: []\n  };\n  const patterns = patternizer(defs.children);\n  const gradients = gradienter(defs.children);\n\n  svg.element = () => el;\n\n  svg.root = () => group;\n\n  svg.appendTo = (element) => {\n    if (!el) {\n      el = element.ownerDocument.createElementNS(ns, 'svg');\n      el.style.position = 'absolute';\n      el.style['-webkit-font-smoothing'] = 'antialiased';\n      el.style['-moz-osx-font-smoothing'] = 'antialiased';\n      el.style.pointerEvents = 'none';\n      el.setAttribute('xmlns', ns);\n      group = element.ownerDocument.createElementNS(ns, 'g');\n      group.style.pointerEvents = 'auto';\n      el.appendChild(group);\n    }\n\n    element.appendChild(el);\n\n    return el;\n  };\n\n  svg.render = (nodes) => {\n    if (!el) {\n      return false;\n    }\n\n    const scaleX = rect.scaleRatio.x;\n    const scaleY = rect.scaleRatio.y;\n\n    if (hasChangedRect) {\n      el.style.left = `${rect.computedPhysical.x}px`;\n      el.style.top = `${rect.computedPhysical.y}px`;\n      el.setAttribute('width', rect.computedPhysical.width);\n      el.setAttribute('height', rect.computedPhysical.height);\n    }\n\n    gradients.clear();\n    patterns.clear();\n    defs.children.length = 0;\n\n    const sceneContainer = {\n      type: 'container',\n      children: Array.isArray(nodes) ? [...nodes, defs] : nodes,\n      transform: rect.edgeBleed.bool ? `translate(${rect.edgeBleed.left * scaleX}, ${rect.edgeBleed.top * scaleY})` : ''\n    };\n\n    if (scaleX !== 1 || scaleY !== 1) {\n      sceneContainer.transform += `scale(${scaleX}, ${scaleY})`;\n    }\n\n    const newScene = sceneFn({\n      items: [sceneContainer],\n      on: {\n        create: [\n          (state) => {\n            state.node.fillReference = undefined;\n            state.node.strokeReference = undefined;\n          },\n          gradients.onCreate,\n          patterns.onCreate,\n          onLineBreak(svg.measureText),\n          injectTextBoundsFn(svg)\n        ]\n      }\n    });\n    const hasChangedScene = scene ? !newScene.equals(scene) : true;\n\n    const doRender = hasChangedRect || hasChangedScene;\n    if (doRender) {\n      svg.clear();\n      tree.render(newScene.children, group);\n    }\n\n    hasChangedRect = false;\n    scene = newScene;\n    return doRender;\n  };\n\n  svg.itemsAt = input => (scene ? scene.getItemsFrom(input) : []);\n\n  svg.findShapes = selector => (scene ? scene.findShapes(selector) : []);\n\n  svg.clear = () => {\n    if (!group) {\n      return svg;\n    }\n    scene = null;\n    const g = group.cloneNode(false);\n    el.replaceChild(g, group);\n    group = g;\n    return svg;\n  };\n\n  svg.destroy = () => {\n    // parentElement is not supported in IE11 for SVGElement.\n    if (el && el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n    el = null;\n    group = null;\n  };\n\n  svg.size = (opts) => {\n    if (opts) {\n      const newRect = createRendererBox(opts);\n\n      if (JSON.stringify(rect) !== JSON.stringify(newRect)) {\n        hasChangedRect = true;\n        rect = newRect;\n      }\n    }\n\n    return rect;\n  };\n\n  return svg;\n}\n\nexport function rendererComponent(picasso) {\n  picasso.renderer('native', renderer);\n}\n","import { rendererComponent as native } from '../web/renderer/native-svg-renderer/svg-renderer';\n\nexport default [\n  native,\n];\n","export default [];\n","const LOG_LEVEL = {\n  OFF: 0,\n  ERROR: 1,\n  WARN: 2,\n  INFO: 3,\n  DEBUG: 4\n};\n\nconst loggerFn = ({\n  level = LOG_LEVEL.OFF,\n  pipe = console\n} = {}) => {\n  let currentlevel = level;\n\n  const LOG_FN = {\n    [LOG_LEVEL.OFF]: () => {},\n    [LOG_LEVEL.ERROR]: (...args) => pipe.error(...args),\n    [LOG_LEVEL.WARN]: (...args) => pipe.warn(...args),\n    [LOG_LEVEL.INFO]: (...args) => pipe.info(...args),\n    [LOG_LEVEL.DEBUG]: (...args) => pipe.log(...args)\n  };\n\n  const log = (lev, ...args) => {\n    if (!lev || currentlevel < lev) { return; }\n\n    (LOG_FN[lev] || LOG_FN[LOG_LEVEL.DEBUG])(...args);\n  };\n\n  /**\n   * @typedef {object} logger\n   * @private\n   */\n\n  return /** @lends logger */ {\n    /**\n     * Log a message\n     * @param {number} lev - The log level\n     * @param {...any} args\n     * @kind function\n     */\n    log,\n\n    /**\n     * Log an error message\n     * @param {...any} args\n     */\n    error: (...args) => log(LOG_LEVEL.ERROR, ...args),\n\n    /**\n     * Log a warning message\n     * @param {...any} args\n     */\n    warn: (...args) => log(LOG_LEVEL.WARN, ...args),\n\n    /**\n     * Log an info message\n     * @param {...any} args\n     */\n    info: (...args) => log(LOG_LEVEL.INFO, ...args),\n\n    /**\n     * Log a debug message\n     * @param {...any} args\n     */\n    debug: (...args) => log(LOG_LEVEL.DEBUG, ...args),\n\n    /**\n     * Set the current log level\n     * @param {number} lev - The log level\n     */\n    level: (lev) => {\n      if (typeof lev === 'number') {\n        currentlevel = lev;\n      }\n      return currentlevel;\n    },\n\n    LOG_LEVEL\n  };\n};\n\nexport { loggerFn as default };\n","const palettes = [\n  {\n    key: 'categorical',\n    colors: [\n      ['#a54343', '#d76c6c', '#ec983d', '#ecc43d', '#f9ec86', '#cbe989', '#70ba6e', '#578b60', '#79d69f', '#26a0a7', '#138185', '#65d3da'] // breeze colors\n    ]\n  },\n  {\n    key: 'diverging',\n    colors: [\n      ['#3d52a1', '#3a89c9', '#77b7e5', '#b4ddf7', '#e6f5fe', '#ffe3aa', '#f9bd7e', '#ed875e', '#d24d3e', '#ae1c3e']\n    ]\n  },\n  {\n    key: 'sequential',\n    colors: [\n      ['rgb(180,221,212)', 'rgb(34, 83, 90)']\n    ]\n  }\n];\n\n/* eslint quote-props: 0 */\nconst style = {\n  // -- FOUNDATION --\n  // fonts\n  '$font-family': \"'Source Sans Pro', Arial, sans-serif\",\n  '$font-size': '12px',\n  '$line-height': '16px',\n  '$font-size--l': '16px',\n\n  // base grays\n  '$gray-100': '#ffffff',\n  '$gray-98': '#f9f9f9',\n  '$gray-95': '#f2f2f2',\n  '$gray-90': '#e6e6e6',\n  '$gray-35': '#595959',\n  '$gray-30': '#4d4d4d',\n  '$gray-25': '#404040',\n  '$gray-20': '#333333',\n\n  // borders\n  '$border-95': 'rgba(255, 255, 255, 0.05)',\n  '$border-90': 'rgba(255, 255, 255, 0.1)',\n  '$border-80': 'rgba(255, 255, 255, 0.2)',\n  '$border-20': 'rgba(0, 0, 0, 0.2)',\n  '$border-10': 'rgba(0, 0, 0, 0.1)',\n  '$border-5': 'rgba(0, 0, 0, 0.05)',\n\n  // primary colors\n  '$primary-blue': '#3F8AB3',\n  '$primary-green': '#6CB33F',\n  '$primary-red': '#DC423F',\n  '$primary-orange': '#EF960F',\n\n  // spacing\n  '$spacing--s': 4,\n  '$spacing': 8,\n  '$spacing--l': 12,\n  // -------------------------\n\n  // -- ALIASES --\n  '$font-color': '$gray-35',\n  '$font-color--inverted': '$gray-90',\n  '$guide-color': '$gray-90',\n  '$guide-color--inverted': '$gray-35',\n  '$border': '$border-80',\n  '$border--inverted': '$border-10',\n  // -------------------------\n\n  // -- MIXINS --\n  // data points\n  '$shape': { // data shape\n    fill: '$primary-blue',\n    strokeWidth: 1,\n    stroke: '$border'\n  },\n\n  '$shape-outline': { // data shape which usually does not have a fill, e.g. the line in a linechart\n    stroke: '$primary-blue',\n    strokeWidth: 2\n  },\n\n  '$shape-guide': { // lines that somehow belongs to a data shape, e.g. whiskers in a boxplot\n    stroke: '$guide-color',\n    strokeWidth: 1\n  },\n\n  '$shape-guide--inverted': {\n    '@extend': '$shape-guide',\n    stroke: '$guide-color--inverted'\n  },\n\n  '$label': {\n    fontSize: '$font-size',\n    fontFamily: '$font-family',\n    fill: '$font-color'\n  },\n\n  '$label--inverted': {\n    '$extend': '$label',\n    fill: '$font-color--inverted'\n  },\n\n  // user interface\n  '$label-overlay': { // e.g. selection range bubble\n    fontSize: '$font-size--l',\n    fontFamily: '$font-family',\n    fill: '$gray-100', // background fill\n    color: '$font-color',\n    stroke: '$guide-color--inverted',\n    strokeWidth: 1,\n    borderRadius: 4\n  },\n\n  '$title': {\n    '@extend': '$label',\n    fontSize: '$font-size--l'\n  },\n\n  '$guide-line': {\n    strokeWidth: 1,\n    stroke: '$guide-color'\n  },\n\n  '$guide-line--minor': {\n    strokeWidth: 1,\n    stroke: '$gray-95' // needs alias\n  },\n\n  '$padding--s': {\n    left: '$spacing--s',\n    right: '$spacing--s',\n    top: '$spacing--s',\n    bottom: '$spacing--s'\n  },\n\n  '$padding': {\n    left: '$spacing',\n    right: '$spacing',\n    top: '$spacing',\n    bottom: '$spacing'\n  },\n\n  '$selection-area-target': {\n    fill: '$primary-green',\n    strokeWidth: 0,\n    opacity: 0.2\n  }\n};\n\nexport {\n  style,\n  palettes\n};\n","import domDocument from './domdocument';\nimport 'path2d-polyfill';\nimport extend from 'extend';\nimport about from './about';\n\nimport {\n  chart,\n  renderer\n} from './core';\n\n\nimport {\n  components,\n  scales,\n  renderers\n} from './api';\n\nimport componentRegistry from './core/component';\nimport dataRegistry from './core/data';\nimport formatterRegistry from './core/formatter';\nimport interactionRegistry from './core/interaction';\nimport scaleRegistry from './core/chart/scales';\nimport { symbolRegistry } from './core/symbols';\n\nimport loggerFn from './core/utils/logger';\nimport registry from './core/utils/registry';\n\nimport { style, palettes } from './core/theme/light';\n\nfunction usePlugin(plugin, options = {}, api) {\n  plugin(api, options);\n}\n\nfunction pic(config = {}, registries = {}) {\n  const logger = loggerFn(config.logger);\n\n  /**\n   * @lends picassojs\n   */\n  const regis = {\n    // -- registries --\n    /**\n     * Component registry\n     * @type {registry}\n     */\n    component: registry(registries.component, 'component', logger),\n    /**\n     * Data registry\n     * @type {registry}\n     */\n    data: registry(registries.data, 'data', logger),\n    /**\n     * Formatter registry\n     * @type {registry}\n     */\n    formatter: registry(registries.formatter, 'formatter', logger),\n    /**\n     * Interaction registry\n     * @type {registry}\n     */\n    interaction: registry(registries.interaction, 'interaction', logger),\n    /**\n     * Renderer registry\n     * @type {registry}\n     */\n    renderer: renderer(registries.renderer, 'renderer', logger),\n    /**\n     * Scale registry\n     * @type {registry}\n     */\n    scale: registry(registries.scale, 'scale', logger),\n    /**\n     * Symbol registry\n     * @type {registry}\n     * @private\n     */\n    symbol: registry(registries.symbol, 'symbol', logger),\n    // -- misc --\n    /**\n     * log some some stuff\n     * @type {logger}\n     * @private\n     */\n    logger\n  };\n\n  if (config.renderer && config.renderer.prio) {\n    regis.renderer.default(config.renderer.prio[0]);\n  }\n\n  /**\n   * picasso.js entry point\n   * @experimental\n   * @entry\n   * @alias picassojs\n   * @param {object} cfg\n   * @param {object} cfg.renderer\n   * @param {Array<string>} cfg.renderer.prio\n   * @param {object} cfg.logger\n   * @param {number} cfg.logger.level\n   * @param {object} cfg.style\n   * @param {Array<object>} cfg.palettes\n   * @returns {picassojs}\n   */\n  function picassojs(cfg = {}) {\n    let cc = {\n      palettes: config.palettes.concat(cfg.palettes || []),\n      style: extend({}, config.style, cfg.style),\n      logger: cfg.logger || config.logger,\n      renderer: cfg.renderer || config.renderer\n    };\n    return pic(cc, regis);\n  }\n\n  /**\n   * @callback picassojs~plugin\n   * @param {picassojs~registries} registries\n   * @param {object} options\n   */\n\n  /**\n   * @param {picassojs~plugin} plugin\n   * @param {object} [options]\n   */\n  picassojs.use = (plugin, options = {}) => usePlugin(plugin, options, regis);\n\n  /**\n   * @param {chart-definition} definition\n   * @returns {chart}\n   */\n  picassojs.chart = definition => chart(definition, {\n    registries: regis,\n    logger,\n    style: config.style,\n    palettes: config.palettes\n  });\n  picassojs.config = () => config;\n\n  Object.keys(regis).forEach((key) => {\n    picassojs[key] = regis[key];\n  });\n\n  /**\n   * picasso.js version\n   * @type {string}\n   */\n  picassojs.version = about.version;\n  picassojs.d = domDocument;\n\n  return picassojs;\n}\n\nconst p = pic({\n  renderer: {\n    prio: ['svg', 'canvas']\n  },\n  logger: {\n    level: 0\n  },\n  style,\n  palettes\n}, {\n  component: componentRegistry,\n  data: dataRegistry,\n  formatter: formatterRegistry,\n  interaction: interactionRegistry,\n  renderer: renderer(),\n  scale: scaleRegistry,\n  symbol: symbolRegistry\n});\n\ncomponents.forEach(p.use);\nrenderers.forEach(p.use);\nscales.forEach(p.use);\n\nexport { p as default };\n"],"names":["domElement","name","rect","x","y","width","height","e","attributes","style","children","listeners","parentNode","parentElement","ownerDocument","createElementNS","ns","tag","createElement","cloneNode","b","ret","slice","replaceChild","add","remove","splice","indexOf","setAttribute","attr","value","getAttribute","appendChild","el","push","firstChild","removeChild","addEventListener","key","val","obj","removeEventListener","i","length","trigger","listenerKey","arg","filter","l","forEach","call","getBoundingClientRect","left","top","contains","target","elementFromPoint","ARG_LENGTH","a","c","h","m","q","s","t","v","z","SEGMENT_PATTERN","NUMBER","parseValues","args","numbers","match","map","Number","parse","path","data","p","String","trim","replace","_","command","type","toLowerCase","theArgs","theCommand","concat","parsePath","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","Array","isArray","arr2","iter","Symbol","iterator","toString","from","supportsSvgPathArgument","window","canvas","document","g","getContext","Path2D","strokeStyle","lineWidth","stroke","imgData","getImageData","rotatePoint","point","angle","nx","Math","cos","sin","ny","translatePoint","dx","dy","scalePoint","polyFillPath2D","CanvasRenderingContext2D","segments","_this$segments","apply","addPath","_this$segments2","moveTo","lineTo","arc","r","start","end","ccw","arcTo","x1","y1","x2","y2","ellipse","rx","ry","closePath","bezierCurveTo","cp1x","cp1y","cp2x","cp2y","quadraticCurveTo","cpx","cpy","cFill","fill","cStroke","buildPath","endAngle","startAngle","largeArcFlag","sweepFlag","endPoint","midPoint","lambda","t1","t2","w","pathType","centerPoint","qcpx","qcpy","startPoint","currentPoint","beginPath","PI","sqrt","atan2","save","translate","rotate","scale","restore","undefined","_len","arguments","_key","fillRule","path2dPolyfill","parsePath_1","version","dockConfig","settings","callbackContext","dock","displayOrder","prioOrder","preferredSize","minimumLayoutMode","show","computePreferredSize","inner","outer","roundRect","floor","resolveContainerRects","containerRect","logicalContainerRect","size","isNaN","logicalSize","align","min","max","preserveAspectRatio","resolveSettings","center","minWidthRatio","minHeightRatio","minWidth","minHeight","extend","isNumber","notNumber","getMinMax","points","num","xMin","NaN","xMax","yMin","yMax","lineToPoints","line","rectToPoints","pointsToRect","pointsToCircle","cx","cy","pointsToLine","getShapeType","shape","vertices","createRect","margin","cacheSize","reducedRect","layoutRect","cachedSize","config","comp","relevantSize","ceil","edgeBleed","validateReduceRect","minReduceWidth","minReduceHeight","reduceDocRect","addEdgeBleed","currentEdgeBleed","right","bottom","reduceEdgeBleed","reducedRectRightBoundary","reducedRectBottomBoundary","reduceSingleLayoutRect","newReduceRect","newEdgeBleed","isValid","filterReferencedDocks","visible","hidden","referencedDocks","isAllHidden","every","refDock","some","reduceLayoutRect","sortedComponents","sort","filteredUnsortedComps","computeRect","scaleRatio","appendScaleRatio","outerRect","xLessThenY","minRatio","area","spread","boundingBox","rects","positionComponents","vRect","hRect","referencedComponents","referenceArray","elementOrder","diff","d","refs","ref","computed","resize","checkShowSettings","strategySettings","dockSettings","layoutModes","validateComponent","component","Error","filterComponents","components","layout","test","split","dockLayout","initialSettings","docker","order","settingsFn","detectTouchSupport","navigator","maxTouchPoints","isTouchEvent","changedTouches","isValidTapEvent","eventInfo","isTouch","ee","dt","Date","now","time","abs","clientX","clientY","button","multiTouch","datasets","dataSources","types","logger","sets","warn","datasetFactory","dataset","fn","keys","epsilon","pi","tau","pointX","pointY","orderNone","offsetNone","none","registryFactory","parentRegistry","registerName","defaultValue","reg","parent","get","has","default","getKeys","getValues","deflt","registry","register","identity","formatter","pattern","thousand","decimal","locale","d3format","format","localeFn","formatLocale","reset","thousands","grouping","currency","formatFn","patternFn","interval","day","timeMonday","timeDay","timeYear","timeSunday","timeThursday","defaultLocale","timeFormatLocale","dateTime","date","periods","days","shortDays","months","shortMonths","parsePattern","formatterRegistry","d3NumberFormatter","d3TimeFormatter","getFormatter","f","formatterFn","accessors","id","source","title","tags","values","label","field","raw","items","OFFSETS","diverging","stackOffsetDiverging","stackOffsetNone","silhouette","stackOffsetSilhouette","expand","stackOffsetExpand","wiggle","stackOffsetWiggle","ORDERS","ascending","stackOrderAscending","insideout","stackOrderInsideOut","stackOrderNone","reverse","stackOrderReverse","stacked","ds","stackIds","stackFn","stackKey","valueFn","startProp","endProp","offset","valueRef","maxStackCount","valueFields","sourceField","ff","sid","matrix","d3Stack","stack","series","serie","range","item","stackedFields","dSource","fieldFn","join","fields","extract","dataConfig","opts","extracted","collection","labelFn","groupBy","mapTo","hierarchy","root","extractionsConfigs","sourceFields","cfg","amend","create","extractor","collections","k","coll","filtered","options","deps","extractData","formatterType","formattersConfig","formatters","def","all","t0","constant","rgb","colorRgb","number","array","object","bisect","linear","applyFormat","clamp","isObject","minorTicksGenerator","count","ticks","appendMinorTicks","majorTicks","minorCount","looseDistanceBasedGenerator","distance","unitDivider","step","round","ticksFormatted","tick","position","isMinor","tightDistanceBasedGenerator","n","nice","ticksByCount","ticksByValue","ary","isObj","forceTicksAtBounds","ticksP","lastTick","generateContinuousTicks","minorTicks","copy","tickGen","tight","forceBounds","generateDiscreteTicks","domain","dataItems","labels","bandwidth","defaultSettings","context","stngs","DEFAULT_SETTINGS","include","invert","DEFAULT_TICKS_SETTINGS","DEFAULT_MINORTICKS_SETTINGS","fieldMin","fieldMax","minValues","maxValues","mini","maxi","initNormScale","normScale","scaleLinear","resources","d3Scale","d3ScaleLinear","ctx","stgns","tickCache","rangeRound","cachedTicks","fnCachedTicks","clearTicksCache","fnClearTicks","input","tickFormat","interpolate","func","classify","valueRange","samplePos","lastVal","calIntervalPos","calSamplePos","sampleColValue","pop","cop","norm","normInvert","padding","paddingInner","paddingOuter","maxPxStep","scaleBand","band","d3ScaleBand","domainToDataMapping","augmentScaleBand","datum","domainValue","trackBy","pxScale","sizeRelativeToStep","newBand","depth","keyGen","node","ancestors","flattenTree","rootNode","ticksDepth","expando","eachAfter","leaves","isBranch","leftEdge","rightEdge","spill","scaleHierarchicalBand","bandInstance","bandScale","hBand","strVal","bw","isLeaf","leafCount","stepSize","orgPxScale","minAccessor","maxAccessor","minmax","definedMin","definedMax","arrMin","numericFilter","arrMax","generateDomain","len","part","scaleSequentialColor","interpolateRgb","isDomain","isRange","DEFAULT_COLORS","theme","palette","getBreaks","generateRange","colors","seq","sequential","generateNiceDomain","numPoints","lin","shift","scaleThresholdColor","scaleThreshold","ordinal","scaleOrdinal","unknown","DEFAULT_EXPLICIT_SETTINGS","override","scaleCategorical","explicit","un","explicitDomain","explicitRange","numCopies","index","idx","scaleRegistry","threshold","categorical","getTypeFromMeta","deduceScaleTypeFromData","dataSourceConfig","scalesConfig","scales","mixin","EventEmitter","init","scrollApi","viewSize","move","newStart","emit","update","triggerUpdate","getState","createOrUpdate","oldApi","builder","oldScrollApis","scrollApis","hasOwnProperty","getOrCreateScrollApi","lessThanOrEqual","limit","lessThan","boundaries","after","minCondition","maxCondition","rangeCollection","configure","includeMax","includeMin","i0","i1","before","set","clear","containsValue","containsRange","toggle","ranges","valueCollection","vc","DEFAULT_RANGE_CONFIG","changedMap","changed","vi","collectUnique","filteredSet","createValueCollection","addedMap","removedMap","added","removed","fs","setKeys","addedKeys","removedKeys","old","current","changedValues","filterFn","vCollection","oldMap","vcKeys","createValueCollectionFn","fsKeys","applyAliases","aliases","its","intercept","handlers","reduce","interceptor","toCamelCase","$1","toUpperCase","toSnakeCase","updateRange","action","interceptors","rc","rangeConfig","inter","sources","rangeValues","brush","activated","addValues","removeValues","toggleValues","setValues","addRanges","setRanges","removeRanges","toggleRanges","state","links","ls","_state","updateValues","updateRanges","link","isActive","brushes","hasChanged","result","addValue","removeValue","addAndRemoveValues","addItems","removeItems","addIts","removeIts","toggleValue","toggled","addRange","removeRange","setRange","toggleRange","containsRangeValue","containsMappedData","mode","status","bool","ic","removeInterceptor","removeAllInterceptors","toRemove","interceptorHandlers","handler","addKeyAlias","alias","removeKeyAlias","nodeId","text","tween","renderer","ticker","toBeUpdated","entered","nodes","ips","exited","updated","stages","tweener","ids","interpolateObject","opacity","easing","easeCubic","duration","tweens","easeElasticOut","started","requestAnimationFrame","currentStage","stop","currentNodes","tweenedNodes","ip","render","cancelAnimationFrame","GLOBAL_DEFAULTS","fontFamily","fontSize","color","backgroundColor","strokeWidth","$fill","REF_RX","isPrimitive","normalizeSettings","defaults","chart","composition","defs","vType","defaultType","resolveForItem","normalized","fallbackData","normalizedProp","exists","hasExplicitDataProp","hasImplicitDataProp","propData","updateScaleSize","o","scaleWithSize","externals","cache","resolve","scaled","res","resolved","reduceToLeafNodes","styler","brusher","dataProps","active","inactive","styleProps","activeNodes","globalActivation","getNodes","nodeData","globalChanged","__style","activeIdx","original","onStart","onEnd","onUpdate","externalUpdate","on","cleanUp","removeListener","brushDataPoints","dataPoints","rangeBrush","actionFn","valueBrush","dataPoint","it","contexts","brushFromSceneNodes","resolveEvent","collisions","brushCollisions","propagation","touchSingleContactPoint","singleContactPoint","resolveCollisions","element","touchRadius","itemsAt","resolveAction","resolveTapEvent","resolveOverEvent","mappedAttributes","strokeLinejoin","baseline","dominantBaseline","anchor","textAnchor","maxWidth","transform","strokeDasharray","assignMappedAttribute","sourceValue","mappedKey","circle","pointsToPath","close","diamond","generateCrossPoints","barWidth","innerLeft","innerTop","cross","angleToPoints","segment","diagonal","op","toRadians","degreesToPoints","v1","v2","sub","scalarMultiply","distanceX","distanceY","sqrDistance","pow","dot","projectOnto","radians","origin","saltire","adjustedSize","asin","centroid","square","DIRECTION_TO_ANGLE","up","down","triangle","directionAngle","direction","halfSize","pp","createRectCollider","isVertical","collider","star","outerRadius","drawPoints","innerRadius","pAngle","innerRadians","iy","ix","nPolygon","radius","sides","bar","halfWidth","applyOpts","isReservedProperty","prop","prepareContext","definition","require","mediatorSettings","mediator","registries","resolver","_DO_NOT_USE_getInfo","symbol","isVisible","bind","req","eventName","createDockDefinition","getLayoutProperty","propName","setUpEmitter","emitter","event","eventListeners","listener","tearDownEmitter","componentFactory","container","settingsResolver","brushArgs","brushTriggers","tap","over","brushStylers","definitionContext","instanceContext","createCallback","method","defaultMethod","canBeValue","cb","inDefinition","inConfig","returnValue","created","beforeMount","mounted","beforeUnmount","beforeUpdate","beforeRender","beforeDestroy","destroyed","addBrushStylers","consume","brushStyler","addBrushTriggers","rendString","rend","dockConfigCallbackContext","createDockConfig","appendComponentMeta","dataCollection","newSize","computedPhysical","computedOuter","computedInner","getRect","getRenderArgs","renderArgs","hide","unmount","currentTween","bs","animations","enabled","setKey","destroy","updateNodes","symbolFactory","getBrushedShapes","brushCtx","shapes","sceneNodes","findShapes","selector","shapesAt","brushFromShapes","mount","appendTo","onBrushTap","globalPropagation","toggleBrushing","onBrushOver","EPSILON","closestPointToLine","startToPoint","startToEnd","pointOnLine","isPointOnLine","rectContainsRect","lineHasNoLength","rectHasNoSize","circleHasNoSize","toFewEdges","polygon","edges","testCirclePoint","sqrDist","testCircleRect","rX","rY","rcX","rcY","dX","dY","testCircleLine","p1","p2","dist","testCircleCircle","circle1","circle2","testCirclePolygon","testPolygonPoint","edge","testRectPoint","boundingRect","even","rayStart","testLineLine","testPolygonLine","testPolygonRect","testRectLine","p3","p4","testRectRect","rect1","rect2","rectEdges","line1","line2","dx1","dy1","dx2","dy2","dx3","dy3","ub","uat","ubt","ua","testLinePoint","VARIABLE_RX","EXTEND","throwCyclical","references","extendFrom","pext","themeFn","palettes","pals","setPalettes","pal","sizes","getPalette","styleResolver","addComponentDelta","containerBounds","componentBounds","deltaShape","moveToPosition","additionalEl","additionalElements","Boolean","insertBefore","ae","orderComponents","visibleComponents","elToIdx","numElements","ordered","chartFn","mediatorFactory","currentComponents","currentScales","currentFormatters","currentScrollApis","currentInteractions","stopBrushing","createComponent","compSettings","componentDefinition","compInstance","hasKey","findComponent","componentInstance","findComponentIndexByKey","currComp","getElementRect","vcomponents","layoutComponents","layoutSettings","strategy","createDockLayout","_data","_settings","partialData","scroll","datasources","dataCollections","scaleCollection","formatterCollection","buildScroll","setInteractions","interactions","newKeys","cit","intSettings","intDefinition","interaction","componentsFromPoint","br","tp","addDefaultEventListeners","onTapDown","touches","comps","disableTriggers","preventDefault","brushEventList","removeDefaultEventListeners","innerHTML","newProps","excludeFromUpdate","visibleOrder","updateWith","toUpdate","toRender","toRenderOrUpdate","getAffectedShapes","compKeys","stopPropagation","configKeys","conf","configIndex","compShapes","brushFn","instances","off","rendererRegistry","prio","componentRegistry","findField","query","filters","numeric","unfilteredReducers","sum","reducers","first","last","avg","normalizeProperties","dataProperties","main","mainField","pConfig","reduceLabel","getPropsInfo","collectItems","collect","trackedItems","propsArr","mainFormatter","propsFormatters","track","itemData","tracker","trackType","trackId","trackedItem","datumExtract","propCfg","cell","cfgs","sourceKey","mapped","mainCell","exclude","propCell","storeTracked","createFields","headers","content","rowFn","row","flds","fieldValues","fv","numericValues","isMeasure","dsv","rows","row0","row1","delimiter","guesses","parseData","dd","util","normalizeConfig","dataRegistry","native","nativeEvents","itKey","isOn","setDefaultSettings","newSettings","events","enable","addEvents","removeAddedEvents","cap","resolveDiff","minPx","maxPx","high","low","highModified","lowModified","wantedDiff","actualDiff","startModifier","actualLow","oob","boxCenter","rendWidth","rendHeight","flipXY","calcwidth","calcheight","box","boxWidth","boxPadding","minHeightPx","major","verticalLine","to","horizontalLine","getBoxWidth","maxMajorWidth","maxWidthPx","minWidthPx","sign","buildShapes","output","majorItems","majorSettings","minorProps","minor","numMinorProps","nonOobKeys","minorItem","isLowerOutOfBounds","isHigherOutOfBounds","isOutOfBounds","numKeys","numNonOobKeys","addBox","boxShapesHelper","addLine","addMedian","median","med","addWhisker","whisker","whiskerWidth","addOutOfBounds","addMarkerList","checkOutOfBounds","MAX_VALUE","majorItem","majorVal","majorEndVal","binStart","binEnd","majorEnd","j","complexResolver","orientation","majorResolved","minorSettings","defaultMinorSettings","minorResolved","ext","ki","DEFAULT_DATA_SETTINGS","dataKeys","picasso","DEFAULT_ERROR_SETTINGS","errorShape","SIZE_LIMITS","maxRelExtent","minRelExtent","maxRelDiscrete","minRelDiscrete","getPxSpaceFromScale","space","isBandwidth","getPointSizeLimits","limits","xSpacePx","ySpacePx","maxSizePx","minSizePx","maxGlobal","minGlobal","createDisplayPoints","pointSize","shapeFn","shapeSpec","sizeLimits","shapeFactory","pointMarker","pointMarkerComponent","cornerRadius","offsetSlice","vx","vy","vlen","createDisplayPies","arcData","slices","arcGen","or","ir","desc","share","arcValue","pieComponent","padAngle","arcValues","pieGen","pie","sortValues","crispifierFactory","crispMap","append","condition","conditionAppend","self","toAppend","crispItem","doAppend","rounded","multiple","crispifier","Transposer","coordinate","isFinite","firstChar","substring","storage","newItem","crisp","objectKeys","kl","nkey","evaluateKey","nval","transposeCoordinate","crispify","processItem","rest","transposer","lineGen","gridLineComponent","blueprint","lines","addTicks","dir","gridLine","directionMarker","directionTriangle","oobManager","oobKeys","charAt","xPadding","yPadding","indicator","refLabelDefaultSettings","background","alignmentToNumber","createLineWithLabel","doesNotCollide","measuredValue","valueString","scaleData","measureText","measuredLabel","measured","labelPadding","vAlign","calcWidth","calcHeight","rectWidth","rectHeight","curItem","createOobData","filterUndefinedValue","refLineComponent","x0","y0","refLine","appendStyle","struct","buildOpts","buildLine","innerRect","checkText","clampEnds","tilted","leftBoundary","rightBoundary","textWidth","textRect","leftTextBoundary","rightTextBoundary","topBoundary","bottomBoundary","textHeight","maxHeight","topTextBoundary","bottomTextBoundary","appendPadding","appendTilting","paddingEnd","bandwidthCollider","tickCenter","widthClip","heightClip","boundsCollider","tiltedCollider","startAnchor","em","sp","rotateVector","leftPoint","rightPoint","orderedPoints","appendCollider","layered","appendBounds","textBounds","buildNode","adjustForEnds","tickSize","isMajorTick","isVerticalLabelOverlapping","isHorizontalLabelOverlapping","activeMode","d1","d2","shouldAutoTilt","measure","glyphCount","maxGlyphCount","magicSizeRatioMultipler","tiltThreshold","ellipsCharSize","maxLabelWidth","minBandwidth","prev","curr","Infinity","isTiltedLabelOverlapping","bleedSize","absAngle","reciprocal","distanceBetweenLabels","isToLarge","horizontal","getClampedValue","maxValue","minValue","modifier","getSize","isDiscrete","maxLengthPx","minLengthPx","filterOverlapping","toLargeSize","sizeFromTextRect","tiltAngle","tickMeasures","labelSizes","textSize","extendLeft","labelWidth","adjustByPosition","pos","maxEdgeBleed","bleedDir","tickDistance","getLeftEdgeWidth","nextWidth","leftEdgeBleed","minDubble","getRightEdgeWidth","prevWidth","rightEdgeBleed","getHorizontalWidth","PADDING","next","tickSpacing","spacing","paddingStart","tickMinorSpacing","labelsSpacing","calcActualTextRect","tickBuilder","buildTick","tickBandwidth","labelBuilder","resolveTickOpts","buildLabel","layeredLabelBuilder","padding2","layer","filterOverlappingLabels","isOverlapping","discreteCalcMaxTextRect","continuousCalcMaxTextRect","getHorizontalContinuousWidth","getStepSizeFn","nodeBuilder","resolveLabelRect","continuous","discrete","build","majorTickNodes","maxSize","labelNodes","DEFAULT_DISCRETE_SETTINGS","DEFAULT_CONTINUOUS_SETTINGS","calcRequiredSize","getLabelSize","labelSize","minorTicksSize","alignTransform","resolveAlign","vertical","resolveLocalSettings","defaultStgns","localStgns","defaultDock","updateActiveMode","isHorizontal","axisComponent","concreteNodeBuilder","setState","reqSize","extendedInner","finalOuter","axis","parseTitle","titles","getTextAnchor","generateTitle","definitionSettings","paddingLeft","paddingRight","rotation","textComponent","_scrollbar","lengthAttr","currentMove","scrollState","startOffset","startScroll","swipe","scrollPoint","scrollMove","scrollStart","scrollCenter","getLocalPos","scrollbarComponent","panStart","startPos","deltaX","deltaY","panMove","panEnd","panCancel","thumbColor","_rect","thumbStart","thumbRange","pointerEvents","class","scrollbar","TARGET_SIZE","VERTICAL","HORIZONTAL","borderHit","isAlignStart","alignStart","alignEnd","alignStyle","targetRect","bubbles","onmouseover","srcElement","onmouseout","cursor","buildBubble","otherValue","rangeIdx","isOutside","placement","outside","bubbleDock","inEdit","edit","bubbleIdx","bubbleStyle","borderRadius","bubble","border","textAlign","overflow","textOverflow","whiteSpace","currentBorderColor","onkeyup","newValue","parseFloat","onEditConfirmed","onEditCanceled","buildArea","buildRange","els","vStart","vEnd","targetOffset","hasScale","targetFillRect","targetSize","targetStart","targetEnd","targetHeight","targetTop","targetArea","valStart","valEnd","isStartVisible","isEndVisible","getMoveDelta","posDelta","limitHigh","negDelta","limitLow","delta","rangelimits","areaLimits","findActive","rs","activeRange","startArea","tempState","relX","relY","cssCoord","coord","relStart","hasAttribute","parseInt","multi","pxStart","pxEnd","fauxBrushInstance","brushInstance","endArea","rel","moveArea","sourceData","ordRS","oldValues","findValues","addedValues","removedValues","setEditedRanges","startValue","endValue","limitMin","limitMax","findClosest","minDist","halfBandwidth","findClosestLabel","rangesOverlap","r1","r2","rangesValues","scaleRange","startIdx","endIdx","resolveNodeBounds","targetNodes","bounds","resolveTarget","targets","targetFillNodes","fillSelector","fillBounds","brushRangeComponent","rangeStart","rangeMove","rangeEnd","rangeClear","bubbleStart","renderRanges","editable","brushFactory","valueRanges","observeBrush","observe","sourcedFromThisComponent","srcEvent","ed","JSON","stringify","stopImmediatePropagation","wrapper","inputEl","querySelector","focus","select","shapesFromRange","brushRange","shapeAt","brushFromShape","newShapes","getBubbleLabel","labelShape","s0","s1","bounds0","bounds1","compConfig","c0","c1","brushAreaDirectionalComponent","areaStart","areaMove","areaEnd","areaClear","getFormat","rangeBrushComponent","FILL","OPACITY","otherSize","setup","teardown","rangeComponent","getPoint","rendererBounds","eventOffsetX","eventOffsetY","withinThreshold","snapIndicator","appendToPath","setSnapIndictor","showSnapIndicator","setStartPoint","getComponentDelta","chartBounds","doLineBrush","lineBrushShape","componentDelta","brushConfig","doPolygonBrush","initPath","initSnapIndicator","initStartPoint","getBrushConfig","endBrush","resetState","brushLassoComponent","lasso","lassoStart","lassoEnd","lassoMove","lassoCancel","cancel","shouldSnap","lassoBrush","lassoBrushComponent","binaryLeftSearch","labelBounds","side","extractBounds","findLeft","renderLabels","getTextBounds","getNodeBounds","localBounds","doNotUse","labelIndex","labelNode","leftStartLabel","leftStartNode","labelRightBoundary","LINE_HEIGHT","cbContext","isValidText","toBackground","backgroundBounds","isTextInRect","textMetrics","placeTextInRect","wiggleHor","wiggleVert","justify","wiggleHeight","wiggleWidth","limitBounds","view","minY","maxY","minX","maxX","pad","getBarRect","findBestPlacement","fitsHorizontally","placementSettings","barRect","largest","testBounds","approxTextBounds","rotated","PADDING_OFFSET","placeInBars","collectiveOrientation","findPlacement","placer","postFilter","postFilterContext","lblStngs","placements","texts","labelSettings","measurements","bestPlacement","linkData","isRotated","filteredLabels","backgrounds","lb","precalculate","labelStruct","hasHorizontalDirection","lblStng","bars","labelSetting","normalize","PI2","getTopLeftBounds","getLineCircleIntersection","D","sqrtD","getRectFromCircleIntersection","lineOffset","section","intersection","getHorizontalInsideSliceRect","middle","startLine","endLine","getRotatedInsideSliceRect","tan","getRotatedOusideSliceRect","minR","outOfSpace","q1maxY","q2minY","q3minY","q4maxY","adjustBounds","LINE_PADDING","LIMIT","updateContext","getHorizontalOusideSliceRect","placeTextOnPoint","getSliceRect","sliceRect","sortNodes","q1","q2","q3","q4","sortFn","middleA","middleB","reverseSortFn","topLeftBounds","CIRCLE_FACTOR","getRectFromCircle","getSliceBounds","getBounds","attrs","rowSettings","totalHeight","labelCount","currentY","maxYDistToCenter","labelsComponent","strategies","scrollOffset","wordBreak","maxLines","lineHeight","navigation","shapeSettings","symbols","wiggleSymbol","createRenderItem","globalMetrics","symbolFn","displayObject","symbolItem","meta","rtl","labelRect","maxLabelBounds","maxSymbolSize","wiggled","maxItemBounds","metrics","getItemsToRender","viewRect","itemized","parallels","legendItems","renderItems","fixedHeight","fixedWidth","rowHeight","columnWidth","renderItem","itemize","sourceItems","sourceSymbols","sourceLabels","maxLabelHeight","extent","property","parallelize","availableExtent","availableSpread","extentProperty","extentInPx","numNeeded","spreadProperty","numAllowed","numInput","legend","onScroll","api","getContentOverflow","offsetProperty","hasContentOverflow","getNextSize","getPrevSize","hasNext","hasPrev","classString","classMap","className","DIR","btn","nav","attrsMerged","disabled","itemRenderer","isRtl","buttonSize","display","navigationRenderer","titleRenderer","isPreliminary","paddedRect","availableExtentForItems","availableSpreadForItems","navigationSize","navigationSpread","tempLayout","contentItems","views","renderElement","panstart","contentOverflow","panmove","panend","itemRendererFactory","navigationRendererFactory","titleRendererFactory","categoricalLegend","applyAlignJustify","cmd","generateStopNodes","fillScale","majorScale","stops","createTitleNode","isTickLeft","isTickTop","requiredWidth","hyphens","createLegendRectNode","requiredHeight","degree","createTickNodes","legendNode","rangeSelectorRect","textBoundsFn","resolveAnchor","valid","resolveTickAnchor","dockAnchorMap","resolveTitleAnchor","initRect","getTicks","initState","titleStgns","tickValues","tickAnchor","titleTextMetrics","titleTextBounds","mw","fnPos","legendDef","prefSize","paddings","tHeight","tWidth","titleNode","stopNodes","rectNode","tickNodes","targetNode","sequentialLegend","legendSeq","CURVES","curveStep","stepAfter","curveStepAfter","stepBefore","curveStepBefore","curveLinear","basis","curveBasis","cardinal","curveCardinal","tension","catmullRom","curveCatmullRom","monotonex","curveMonotoneX","monotoney","curveMonotoneY","natural","curveNatural","SETTINGS","coordinates","layerId","layers","curve","createDisplayLayer","generator","createDisplayLayers","missingMinor0","layerStngs","lineObj","layerObj","areaObj","areaGenerator","lineGenerator","secondaryLineGenerator","temp","minor0","defined","firstPoint","layerIds","numLines","lid","metaLayers","layersData","layersResolved","linesResolved","areasResolved","areas","calculateVisibleLayers","visibleLayers","pData","lineMarkerComponent","sortable","getLocalPoint","localX","localY","localToChartPoint","doEndBrush","toRect","p0","doAreaBrush","areaCancel","areaBrush","dataCtx","resolveClasses","tooltip","tooltipClass","contentClass","arrow","arrowClass","resolveContent","classes","tooltipDefaultStyle","tooltipNode","computedTooltipStyle","computedArrowStyle","dispatcherState","pending","debounced","cancelled","rejected","fulfilled","timeSpanDispatcher","defaultDuration","defaultDelay","actionId","fulfilledId","invoke","delay","clearTimeout","setTimeout","getDockTransform","getDockOffset","getComputedArrowStyle","borderWidth","isInsideArea","calcOffset","offsetX","offsetY","alignToBounds","pointer","elmWidth","elmHeight","targetBounds","getNodeBoundsRelativeToTarget","docks","dockTransforms","innerWidth","innerHeight","dockOffsets","dockOrder","alignToPoint","results","edgeMargin","alignToPointer","alignToSlice","getComponentBoundsFromNode","componentSize","STRATEGIES","propCtx","plcm","setActive","removeActive","cancelActive","isEqual","beforeShow","afterShow","beforeHide","onHide","afterHide","DEFAULT_STYLE","borderStyle","borderTopColor","borderLeftColor","borderRightColor","borderBottomColor","toPoint","targetElement","prevent","dispatcher","fNodes","invokeRenderer","instanceId","listenerCtx","tooltipElm","pseudoElement","visibility","addTooltip","debugColliderDef","useOuterRect","draw","colliders","PI_X2","arcToCenter","endX","endY","startX","startY","sweepAngle","radiusRatio","rad","hdx","hdy","x1d","y1d","rxry","rxy1d","ryx1d","den","frac","cxd","cyd","mx","my","ux","uy","flatness","cp1","cp2","mid","td","t3","toPoints","m0","m1","m2","q0","toCubic","cp","cubicToPoints","removeDuplicates","arcToPoints","resAngle","deltaAngle","pathToPoints","commands","cubicCurveToPoints","quadCurveToPoints","debugPathToPointsDef","circles","pathToSegments","debugCollider","createDebugCollider","debugPathToPoints","createDebugPathToPoints","boxComponent","pointComponent","lineComponent","brushAreaComponent","tooltipComponent","updatedNew","updatedOld","fromIds","toIds","idMapper","nodeMapper","isTree","createNodes","destroyNodes","creator","maintainer","destroyer","createTree","oldItems","newItems","LINEBREAK_REGEX","WHITESPACE_REGEX","HYPHEN_REGEX","NO_BREAK","MANDATORY","BREAK_ALLOWED","includesLineBreak","search","includesWhiteSpace","hyphenationAllowed","resolveBreakOpportunity","chunk","chunks","mandatory","noBreakAllowed","cleanEmptyChunks","stringTokenizer","string","separator","mandatoryBreakIdentifiers","noBreakAllowedIdentifiers","suppressIdentifier","hyphenationIdentifiers","isNotDone","peek","peekAt","textMeasure","opportunity","breakOpportunity","suppress","hyphenation","done","jumpToPosition","DEFAULT_LINE_HEIGHT","HYPHENS_CHAR","ELLIPSIS_CHAR","resolveMaxAllowedLines","measuredLineHeight","calcLineHeight","char","newLine","appendToLine","token","insertHyphenAndJump","startIndex","pairToken","breakSequence","charTokenIterator","charToken","breakAll","reduced","breakWord","generateLineNodes","halfLead","_lineBreak","shouldLineBreak","wrappedMeasureText","resolveLineBreakAlgorithm","WORDBREAK","onLineBreak","wordBreakFn","tm","ellipsText","reduceIndex","reduceText","substr","defaultFontFamily","defaultFontSize","RNHelper","fontWidths","ch","lengths","console","log","baselineHeuristic","textNode","heightMeasureCache","widthMeasureCache","measureTextWidth","measureTextHeight","calcTextBounds","measureFn","calWidth","lineBreakFn","resolvedLineBreaks","nodeCopy","widestLine","rangesOfLChars","rangesOfRChars","rangesOfALChars","rangesOfLRgExp","RegExp","rangesOfRRgExp","rangesOfALRgExp","isLtrChar","isRtlChar","detectTextDirection","textAnchorRTLMap","flipTextAnchor","svgNs","strokeReference","fillReference","textContent","TreeItemRenderer","treeCreator","nodeCreator","nodeMaintainer","nodeDestroyer","tree","Node","_parent","_children","_ancestors","nChildren","equals","toJSON","descendants","GeoRect","GeoCircle","minRadius","vector","GeoLine","tolerance","vectors","zeroSize","v0","GeoPolygon","_bounds","_boundingRect","intersects","pointsAreNotEqual","GeoPolyline","_points","testLine","polyline","GeometryCollection","geometries","geo","geoInstance","factory","containsPoint","intersectsLine","intersectsRect","intersectsCircle","intersectsPolygon","Matrix","_elements","_stack","mt","multiply","elements","radianAngle","determinant","vec","transformRegEx","parseTransform","exec","argsStr","resolveRotateCmd","resolveScaleCmd","resolveTranslateCmd","resolveMatrixCmd","resolveTransform","transforms","SELECTOR_MAPS","universal","FILTERS","objects","operator","attribute","attributeValue","tokenize","groups","info","validSelector","group","selectorMapsIterator","find","groupResults","tokens","gi","glen","levels","hasRemainder","selected","ancestor","ni","nlen","appendDpi","dpi","geometryToDef","geometry","mvm","transformPoints","colliderToShape","modelViewMatrix","isCollection","colliderType","SceneNode","includeTransform","_attrs","_type","_dpi","stage","_collider","_desc","_tag","_cache","elementBoundingRect","_getElementBoundingRect","selfRect","_element","Collision","_node","createSceneNode","_input","appendParentNode","collision","createCollision","appendInputShape","resolveFrontChildCollision","resolveGeometryCollision","inverseTransform","transformedInput","inverseModelViewMatrix","transformPoint","createPolygon","resolveCollision","intersectionType","findAllCollisions","hasCollision","resolveShape","ratio","_shape","vertex","resolveCollionsOnNode","hasCollisionOnNode","DisplayObject","_stage","nodeSelector","clone","resolveLocalTransform","attrKeys","dAttrs","dAttrKeys","json","_mvm","_imvm","geometryCollection","NodeContainer","addChild","indx","NC","Container","__boundingRect","true","false","__bounds","child","_xMax","_yMax","appendChildRect","addChildren","removeChildren","Stage","_dpiRatio","allowedAttrs","GradientItem","attrKey","PatternItem","Rect","pt","Circle","Line","defaultCollider","hasSize","PI_2","lineAngle","polylineToPolygonCollider","open","forceOrientation","unshift","currToPrev","currToNext","openAngle","closeAngle","maxAngle","minAngle","openClose","prevToCurr","opened","closed","nextToCurr","flatten2d","newAry","isClosed","Path","visual","flatten","hasData","_textBoundsFn","Text","gradientItem","patternItem","contextFactory","whitelist","states","styleContext","doEvent","updateState","traverse","siblings","displayNode","isIdentity","scene","hashObject","hash","chr","charCodeAt","gradienter","bucket","hasher","uid","getOrCreateGradient","url","gradientHash","gradientId","gradient","onCreate","patternizer","inputs","patternHash","pnid","pn","patternUnits","createRendererBox","destory","injectTextBoundsFn","treeFn","treeFactory","sceneFn","sceneFactory","hasChangedRect","svg","patterns","gradients","scaleX","scaleY","sceneContainer","newScene","hasChangedScene","doRender","getItemsFrom","newRect","rendererComponent","LOG_LEVEL","OFF","ERROR","WARN","INFO","DEBUG","loggerFn","level","pipe","currentlevel","LOG_FN","error","lev","debug","usePlugin","plugin","pic","regis","picassojs","cc","use","about","domDocument","interactionRegistry","symbolRegistry","renderers"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}