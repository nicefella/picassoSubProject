/*
* picasso.js v0.24.0
* Copyright (c) 2019 QlikTech International AB
* Released under the MIT license.
*/


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).picasso=e()}(this,function(){"use strict";function i(t,e){var n=1<arguments.length&&void 0!==e?e:{x:0,y:0,width:300,height:300};return{name:t,attributes:{},style:{},children:[],listeners:[],parentNode:null,parentElement:null,ownerDocument:{createElementNS:function(t,e){return i("".concat(t,":").concat(e))},createElement:function(t){return i(t)}},cloneNode:function(t){var e=i(this.name);return t&&(e.children=t.children.slice()),e},replaceChild:function(t,e){this.children.splice(this.children.indexOf(e),1,t)},setAttribute:function(t,e){this.attributes[t]=e},getAttribute:function(t){return this.attributes[t]},appendChild:function(t){this.children.push(t),t.parentNode=this,t.parentElement=this},get firstChild(){return this.children[0]},removeChild:function(t){this.children.splice(this.children.indexOf(t),1),t.parentNode=null,t.parentElement=this},addEventListener:function(t,e){var n={};n[t]=e,this.listeners.push(n)},removeEventListener:function(t,e){for(var n=this.listeners.length-1;0<=n;n--)this.listeners[n][t]===e&&this.listeners.splice(n,1)},trigger:function(e,n){var i=this;this.listeners.filter(function(t){return void 0!==t[e]}).forEach(function(t){return t[e].call(i,n)})},getBoundingClientRect:function(){return{left:n.x,top:n.y,width:n.width,height:n.height}},contains:function(t){return-1!==this.children.indexOf(t)}}}var c={createElementNS:function(t,e){return i("".concat(t,":").concat(e))},createElement:function(t){return i(t)},elementFromPoint:function(t,e){return i("xy")}},s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi,u=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;var o=function(t){var o=[],e=String(t).trim();return"M"!==e[0]&&"m"!==e[0]||e.replace(n,function(t,e,n){var i=e.toLowerCase(),r=function(t){var e=t.match(u);return e?e.map(Number):[]}(n),a=e;if("m"===i&&2<r.length&&(o.push([a].concat(r.splice(0,2))),i="l",a="m"===a?"l":"L"),r.length<s[i])return"";for(o.push([a].concat(r.splice(0,s[i])));r.length>=s[i]&&r.length&&s[i];)o.push([a].concat(r.splice(0,s[i])));return""}),o};function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(t,e){var n=t.x*Math.cos(e)-t.y*Math.sin(e),i=t.y*Math.cos(e)+t.x*Math.sin(e);t.x=n,t.y=i}function F(t,e){t.x*=e,t.y*=e}"undefined"!=typeof window&&function(t){if(void 0!==t&&t.CanvasRenderingContext2D&&(!t.Path2D||!function(t){var e=t.document.createElement("canvas").getContext("2d"),n=new t.Path2D("M0 0 L1 1");return e.strokeStyle="red",e.lineWidth=1,e.stroke(n),255===e.getImageData(0,0,1,1).data[0]}(t))){var e=function(){function n(t){var e;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.segments=[],t&&t instanceof n)?(e=this.segments).push.apply(e,h(t.segments)):t&&(this.segments=o(t))}return function(t,e,n){e&&l(t.prototype,e),n&&l(t,n)}(n,[{key:"addPath",value:function(t){var e;t&&t instanceof n&&(e=this.segments).push.apply(e,h(t.segments))}},{key:"moveTo",value:function(t,e){this.segments.push(["M",t,e])}},{key:"lineTo",value:function(t,e){this.segments.push(["L",t,e])}},{key:"arc",value:function(t,e,n,i,r,a){this.segments.push(["AC",t,e,n,i,r,!!a])}},{key:"arcTo",value:function(t,e,n,i,r){this.segments.push(["AT",t,e,n,i,r])}},{key:"ellipse",value:function(t,e,n,i,r,a,o,s){this.segments.push(["E",t,e,n,i,r,a,o,!!s])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){this.segments.push(["C",t,e,n,i,r,a])}},{key:"quadraticCurveTo",value:function(t,e,n,i){this.segments.push(["Q",t,e,n,i])}},{key:"rect",value:function(t,e,n,i){this.segments.push(["R",t,e,n,i])}}]),n}(),r=t.CanvasRenderingContext2D.prototype.fill,n=t.CanvasRenderingContext2D.prototype.stroke;t.CanvasRenderingContext2D.prototype.fill=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i="nonzero";0===e.length||1===e.length&&"string"==typeof e[0]?r.apply(this,e):(2===arguments.length&&(i=e[1]),a(this,e[0].segments),r.call(this,i))},t.CanvasRenderingContext2D.prototype.stroke=function(t){t&&a(this,t.segments),n.call(this)},t.Path2D=e}function a(t,e){var n,i,r,a,o,s,c,u,l,h,f,d,g,p,y,v,m,x,b,w,k,M,_,R,S,N,z,A,C,E={x:0,y:0},O={x:0,y:0};t.beginPath();for(var T=0;T<e.length;++T){var j=e[T];switch("S"!==(w=j[0])&&"s"!==w&&"C"!==w&&"c"!==w&&(_=M=null),"T"!==w&&"t"!==w&&"Q"!==w&&"q"!==w&&(S=R=null),w){case"m":case"M":"m"===w?(f+=j[1],g+=j[2]):(f=j[1],g=j[2]),"M"!==w&&E||(E={x:f,y:g}),t.moveTo(f,g);break;case"l":f+=j[1],g+=j[2],t.lineTo(f,g);break;case"L":f=j[1],g=j[2],t.lineTo(f,g);break;case"H":f=j[1],t.lineTo(f,g);break;case"h":f+=j[1],t.lineTo(f,g);break;case"V":g=j[1],t.lineTo(f,g);break;case"v":g+=j[1],t.lineTo(f,g);break;case"a":case"A":"a"===w?(f+=j[6],g+=j[7]):(f=j[6],g=j[7]),v=j[1],m=j[2],c=j[3]*Math.PI/180,r=!!j[4],a=!!j[5],o={x:f,y:g},P(s={x:(O.x-o.x)/2,y:(O.y-o.y)/2},-c),1<(u=s.x*s.x/(v*v)+s.y*s.y/(m*m))&&(v*=u=Math.sqrt(u),m*=u),l=v*v*m*m,h=v*v*s.y*s.y+m*m*s.x*s.x,F(k={x:v*s.y/m,y:-m*s.x/v},a!=r?Math.sqrt((l-h)/h)||0:-Math.sqrt((l-h)/h)||0),i=Math.atan2((s.y-k.y)/m,(s.x-k.x)/v),n=Math.atan2(-(s.y+k.y)/m,-(s.x+k.x)/v),P(k,c),z=k,A=(o.x+O.x)/2,C=(o.y+O.y)/2,z.x+=A,z.y+=C,t.save(),t.translate(k.x,k.y),t.rotate(c),t.scale(v,m),t.arc(0,0,1,i,n,!a),t.restore();break;case"C":M=j[3],_=j[4],f=j[5],g=j[6],t.bezierCurveTo(j[1],j[2],M,_,f,g);break;case"c":t.bezierCurveTo(j[1]+f,j[2]+g,j[3]+f,j[4]+g,j[5]+f,j[6]+g),M=j[3]+f,_=j[4]+g,f+=j[5],g+=j[6];break;case"S":null!==M&&null!==M||(M=f,_=g),t.bezierCurveTo(2*f-M,2*g-_,j[1],j[2],j[3],j[4]),M=j[1],_=j[2],f=j[3],g=j[4];break;case"s":null!==M&&null!==M||(M=f,_=g),t.bezierCurveTo(2*f-M,2*g-_,j[1]+f,j[2]+g,j[3]+f,j[4]+g),M=j[1]+f,_=j[2]+g,f+=j[3],g+=j[4];break;case"Q":R=j[1],S=j[2],f=j[3],g=j[4],t.quadraticCurveTo(R,S,f,g);break;case"q":R=j[1]+f,S=j[2]+g,f+=j[3],g+=j[4],t.quadraticCurveTo(R,S,f,g);break;case"T":null!==R&&null!==R||(R=f,S=g),R=2*f-R,S=2*g-S,f=j[1],g=j[2],t.quadraticCurveTo(R,S,f,g);break;case"t":null!==R&&null!==R||(R=f,S=g),R=2*f-R,S=2*g-S,f+=j[1],g+=j[2],t.quadraticCurveTo(R,S,f,g);break;case"z":case"Z":f=E.x,g=E.y,E=void 0,t.closePath();break;case"AC":f=j[1],g=j[2],y=j[3],i=j[4],n=j[5],N=j[6],t.arc(f,g,y,i,n,N);break;case"AT":d=j[1],p=j[2],f=j[3],g=j[4],y=j[5],t.arcTo(d,p,f,g,y);break;case"E":f=j[1],g=j[2],v=j[3],m=j[4],c=j[5],i=j[6],n=j[7],N=j[8],t.save(),t.translate(f,g),t.rotate(c),t.scale(v,m),t.arc(0,0,1,i,n,N),t.restore();break;case"R":f=j[1],g=j[2],x=j[3],b=j[4],E={x:f,y:g},t.rect(f,g,x,b)}O.x=f,O.y=g}}}(window);function d(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function g(t){if(!t||"[object Object]"!==a.call(t))return!1;var e,n=r.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!i)return!1;for(e in t);return void 0===e||r.call(t,e)}function p(t,e){f&&"__proto__"===e.name?f(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue}function y(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(m)return m(t,e).value}return t[e]}var v=o,r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,f=Object.defineProperty,m=Object.getOwnPropertyDescriptor,tt=function t(e,n){var i,r,a,o,s,c,u=e,l=1,h=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=n||{},l=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});l<h;++l)if(null!=(i=arguments[l]))for(r in i)a=y(u,r),u!==(o=y(i,r))&&(f&&o&&(g(o)||(s=d(o)))?(c=s?(s=!1,a&&d(a)?a:[]):a&&g(a)?a:{},p(u,{name:r,newValue:t(f,c,o)})):void 0!==o&&p(u,{name:r,newValue:o}));return u},x={version:"0.24.0"};function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t,e,n){return(N=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&S(r,n.prototype),r}).apply(null,arguments)}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?z(t):e}function C(t,e,n){return(C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(t){r=!0,a=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function it(t,e){var n=0<arguments.length&&void 0!==t?t:{},i=1<arguments.length&&void 0!==e?e:{},r=n.dock,a=void 0===r?"center":r,o=n.displayOrder,s=void 0===o?0:o,c=n.prioOrder,u=void 0===c?0:c,l=n.preferredSize,h=void 0===l?0:l,f=n.minimumLayoutMode,d=n.show,g=void 0===d||d;return a=a||"center",{computePreferredSize:function(t){var e=t.inner,n=t.outer;return"function"==typeof h?h({inner:e,outer:n,dock:this.dock()},i):h},dock:function(t){return void 0!==t?(a=t,this):"function"==typeof a?a(i):a},displayOrder:function(t){return void 0!==t?(s=t,this):"function"==typeof s?s(i):s},prioOrder:function(t){return void 0!==t?(u=t,this):"function"==typeof u?u(i):u},minimumLayoutMode:function(t){return void 0!==t?(f=t,this):"function"==typeof f?f(i):f},show:function(t){return void 0!==t?(g=t,this):"function"==typeof g?g(i):g}}}function E(t){t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.width=Math.floor(t.width),t.height=Math.floor(t.height)}function T(t){var e={center:{minWidthRatio:.5,minHeightRatio:.5,minWidth:0,minHeight:0}};return tt(!0,e,t),e.center.minWidthRatio=Math.min(Math.max(e.center.minWidthRatio,0),1),e.center.minHeightRatio=Math.min(Math.max(e.center.minHeightRatio,0),1),e.center.minWidth=Math.max(e.center.minWidth,0),e.center.minHeight=Math.max(e.center.minHeight,0),e}function Y(t){return"number"==typeof t&&!isNaN(t)}function j(t){return"number"!=typeof t||isNaN(t)}function B(t){for(var e=t.length,n=NaN,i=NaN,r=NaN,a=NaN,o=0;o<e;o++)n=isNaN(n)?t[o].x:Math.min(n,t[o].x),i=isNaN(i)?t[o].x:Math.max(i,t[o].x),r=isNaN(r)?t[o].y:Math.min(r,t[o].y),a=isNaN(a)?t[o].y:Math.max(a,t[o].y);return[n,r,i,a]}function D(t){return[{x:t.x1||0,y:t.y1||0},{x:t.x2||0,y:t.y2||0}]}function L(t){return[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}]}function I(t){var e=O(B(t),4),n=e[0],i=e[1];return{x:n,y:i,width:e[2]-n,height:e[3]-i}}function W(t){return{x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y}}function H(t){var e=t||{},n=e.x,i=e.y,r=e.width,a=e.height,o=e.x1,s=e.x2,c=e.y1,u=e.y2,l=e.cx,h=e.cy,f=e.r,d=e.vertices;return Y(l)&&Y(h)&&Y(f)?"circle":Y(o)&&Y(s)&&Y(c)&&Y(u)?"line":Y(n)&&Y(i)&&Y(r)&&Y(a)?"rect":Y(n)&&Y(i)?"point":Array.isArray(d)?"polygon":null}function V(t,e,n,i,r){return{x:isNaN(t)?0:t,y:isNaN(t)?0:e,width:isNaN(t)?0:n,height:isNaN(t)?0:i,margin:isNaN(r)?0:r}}function q(t,e,n){if(void 0===t.cachedSize){var i,r=t.config.dock(),a=t.comp.preferredSize({inner:e,outer:n,dock:r});isNaN(a)?a&&!isNaN(a.size)&&(a.width=a.size,a.height=a.size):a={width:a,height:a},i="top"===r||"bottom"===r?a.height:"right"===r||"left"===r?a.width:Math.max(a.width,a.height),t.cachedSize=Math.ceil(i),t.edgeBleed=a.edgeBleed||0}return t.cachedSize}function U(t,e){switch(e.config.dock()){case"top":t.y+=e.cachedSize,t.height-=e.cachedSize;break;case"bottom":t.height-=e.cachedSize;break;case"left":t.x+=e.cachedSize,t.width-=e.cachedSize;break;case"right":t.width-=e.cachedSize}}function X(t,e){var n=e.edgeBleed;n&&(t.left=Math.max(t.left,n.left||0),t.right=Math.max(t.right,n.right||0),t.top=Math.max(t.top,n.top||0),t.bottom=Math.max(t.bottom,n.bottom||0))}function Z(t,e,n){e.x<n.left&&(e.width-=n.left-e.x,e.x=n.left);var i=t.width-(e.x+e.width);i<n.right&&(e.width-=n.right-i),e.y<n.top&&(e.height-=n.top-e.y,e.y=n.top);var r=t.height-(e.y+e.height);r<n.bottom&&(e.height-=n.bottom-r)}function J(t,e,n,i,r){var a=tt({},e),o=tt({},n);return U(a,i),X(o,i),Z(t,a,o),!!function(t,e,n){var i=Math.min(n.center.minWidth,t.width)||Math.max(t.width*n.center.minWidthRatio,1),r=Math.min(n.center.minHeight,t.height)||Math.max(t.height*n.center.minHeightRatio,1);return e.width>=i&&e.height>=r}(t,a,r)&&(U(e,i),X(n,i),!0)}function G(t){var e=t.layoutRect,n=t.visible,i=t.hidden,r=t.settings,a=V(e.x,e.y,e.width,e.height),o={left:0,right:0,top:0,bottom:0},s=n.slice();s.sort(function(t,e){return t.config.prioOrder()-e.config.prioOrder()});for(var c=0;c<s.length;++c){var u=s[c];q(u,a,e),J(e,a,o,u,r)||(i.push(s.splice(c,1)[0]),--c)}!function(t,n){if(0!==n.length)for(var e=0;e<t.length;++e){var i=t[e];if(i.referencedDocks.length)i.referencedDocks.every(function(e){return n.some(function(t){return t.key===e})})&&n.push(t.splice(e,1)[0])}}(n,i);var l=n.filter(function(t){return-1!==s.indexOf(t)});return n.length=0,n.push.apply(n,nt(l)),Z(e,a,o),a}function K(t){return{x:t.margin.left+t.x*t.scaleRatio.x,y:t.margin.top+t.y*t.scaleRatio.y,width:t.width*t.scaleRatio.x,height:t.height*t.scaleRatio.y}}function Q(t){var e;return I((e=[]).concat.apply(e,nt(t.map(L))))}function rt(t){var e=t.visible,r=t.layoutRect,a=t.reducedRect,o=t.containerRect,s=V(a.x,a.y,a.width,a.height),c=V(a.x,a.y,a.width,a.height),u={},i=e.slice(),n=i.slice().sort(function(t,e){return t.config.displayOrder()-e.config.displayOrder()});return e.sort(function(t,e){if(0<e.referencedDocks.length)return-1;if(0<t.referencedDocks.length)return 1;var n=t.config.displayOrder()-e.config.displayOrder();return 0==n?i.indexOf(t)-i.indexOf(e):n}).forEach(function(t){var e={},n={};switch(t.config.dock()){case"top":e.height=n.height=t.cachedSize,e.width=r.width,n.width=s.width,e.x=r.x,n.x=s.x,e.y=n.y=s.y-t.cachedSize,s.y-=t.cachedSize,s.height+=t.cachedSize;break;case"bottom":e.x=r.x,n.x=s.x,e.y=n.y=s.y+s.height,e.width=r.width,n.width=s.width,e.height=n.height=t.cachedSize,s.height+=t.cachedSize;break;case"left":e.x=n.x=c.x-t.cachedSize,e.y=r.y,n.y=c.y,e.width=n.width=t.cachedSize,e.height=r.height,n.height=c.height,c.x-=t.cachedSize,c.width+=t.cachedSize;break;case"right":e.x=n.x=c.x+c.width,e.y=r.y,n.y=c.y,e.width=n.width=t.cachedSize,e.height=r.height,n.height=c.height,c.width+=t.cachedSize;break;case"center":e.x=n.x=a.x,e.y=n.y=a.y,e.width=n.width=a.width,e.height=n.height=a.height;break;default:if(0<t.referencedDocks.length){var i=t.referencedDocks.map(function(t){return u[t]}).filter(function(t){return!!t});0<i.length&&(e=Q(i.map(function(t){return t.outerRect})),n=Q(i.map(function(t){return t.r})))}}t.key&&(u[t.key]={r:n,outerRect:e}),function(t,e,n,i){var r={x:i.width/n.width,y:i.height/n.height},a={left:0,top:0};if(n.preserveAspectRatio){var o=r.x<r.y,s=Math.min(r.x,r.y);r.x=s,r.y=s;var c=o?"height":"width",u=(i[c]-n[c]*r.x)*n.align;a.left=o?0:u,a.top=o?u:0}t.scaleRatio=r,t.margin=a,e.scaleRatio=r,e.margin=a,n.scaleRatio=r,n.margin=a}(n,e,r,o),n.edgeBleed=t.edgeBleed,n.computed=K(n),e.edgeBleed=t.edgeBleed,e.computed=K(e),t.comp.resize(n,e),t.cachedSize=void 0,t.edgeBleed=void 0}),e.map(function(t){return n.indexOf(t)})}function at(t){if(!t.settings&&!t.settings)throw new Error("Invalid component settings");if(!t.resize||"function"!=typeof t.resize)throw new Error("Component is missing resize function");if(!t.dockConfig&&!t.preferredSize)throw new Error("Component is missing preferredSize function")}function ot(t){var l=T(t),e={};return e.layout=function(t,e){var n=1<arguments.length&&void 0!==e?e:[];if(!t||isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height))throw new Error("Invalid rect");if(!n.length)return{visible:[],hidden:[]};var i=function(t,e){var n={x:0,y:0,width:0,height:0},i={x:0,y:0,width:0,height:0};return n.width=t.width||0,n.height=t.height||0,void 0!==e.size&&(n.width=isNaN(e.size.width)?n.width:e.size.width,n.height=isNaN(e.size.height)?n.height:e.size.height),void 0!==e.logicalSize?(i.width=isNaN(e.logicalSize.width)?n.width:e.logicalSize.width,i.height=isNaN(e.logicalSize.height)?n.height:e.logicalSize.height,i.align=isNaN(e.logicalSize.align)?.5:Math.min(Math.max(e.logicalSize.align,0),1),i.preserveAspectRatio=e.logicalSize.preserveAspectRatio):(i.width=n.width,i.height=n.height,i.preserveAspectRatio=!1),E(i),E(n),{logicalContainerRect:i,containerRect:n}}(t,l),r=i.logicalContainerRect,a=i.containerRect,o=O(function(t,e,n){for(var i,r,a,o,s,c=[],u=[],l=0;l<t.length;++l){var h=t[l];at(h);var f=void 0;f=h.instance?h.instance.dockConfig():it(h.settings.layout);var d=h.settings.key,g=f.dock(),p=/@/.test(g)?g.split(",").map(function(t){return t.replace(/^\s*@/,"")}):[];i=f,r=n,s=void 0,a=e.layoutModes||{},o=i.minimumLayoutMode(),(s=i.show())&&"object"===et(o)?s=a[o.width]&&a[o.height]&&r.width>=a[o.width].width&&r.height>=a[o.height].height:s&&void 0!==o&&(s=a[o]&&r.width>=a[o].width&&r.height>=a[o].height),s?c.push({comp:h,key:d,config:f,referencedDocks:p}):u.push({comp:h,key:d,config:f,referencedDocks:p})}return[c,u]}(n,l,r),2),s=o[0],c=o[1],u=rt({visible:s,layoutRect:r,reducedRect:G({layoutRect:r,visible:s,hidden:c,settings:l}),containerRect:a});return c.forEach(function(t){t.comp.visible=!1;var e=V();t.comp.resize(e,e)}),{visible:s.map(function(t){return t.comp}),hidden:c.map(function(t){return t.comp}),order:u}},e.settings=function(t){l=T(t)},e}function st(t){return!!t.changedTouches}var ct=Math.PI,ut=2*ct,lt=1e-6,ht=ut-lt;function t(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ft(){return new t}function dt(t){return function(){return t}}t.prototype=ft.prototype={constructor:t,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var a=this._x1,o=this._y1,s=n-t,c=i-e,u=a-t,l=o-e,h=u*u+l*l;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(lt<h)if(Math.abs(l*s-c*u)>lt&&r){var f=n-a,d=i-o,g=s*s+c*c,p=f*f+d*d,y=Math.sqrt(g),v=Math.sqrt(h),m=r*Math.tan((ct-Math.acos((g+h-p)/(2*y*v)))/2),x=m/v,b=m/y;Math.abs(x-1)>lt&&(this._+="L"+(t+x*u)+","+(e+x*l)),this._+="A"+r+","+r+",0,0,"+ +(u*d<l*f)+","+(this._x1=t+b*s)+","+(this._y1=e+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(i),s=n*Math.sin(i),c=t+o,u=e+s,l=1^a,h=a?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>lt||Math.abs(this._y1-u)>lt)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%ut+ut),ht<h?this._+="A"+n+","+n+",0,1,"+l+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):lt<h&&(this._+="A"+n+","+n+",0,"+ +(ct<=h)+","+l+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var gt=Math.abs,pt=Math.atan2,yt=Math.cos,vt=Math.max,mt=Math.min,xt=Math.sin,bt=Math.sqrt,wt=1e-12,kt=Math.PI,Mt=kt/2,_t=2*kt;function Rt(t){return 1<=t?Mt:t<=-1?-Mt:Math.asin(t)}function St(t){return t.innerRadius}function Nt(t){return t.outerRadius}function zt(t){return t.startAngle}function At(t){return t.endAngle}function Ct(t){return t&&t.padAngle}function Et(t,e,n,i,r,a,o){var s=t-n,c=e-i,u=(o?a:-a)/bt(s*s+c*c),l=u*c,h=-u*s,f=t+l,d=e+h,g=n+l,p=i+h,y=(f+g)/2,v=(d+p)/2,m=g-f,x=p-d,b=m*m+x*x,w=r-a,k=f*p-g*d,M=(x<0?-1:1)*bt(vt(0,w*w*b-k*k)),_=(k*x-m*M)/b,R=(-k*m-x*M)/b,S=(k*x+m*M)/b,N=(-k*m+x*M)/b,z=_-y,A=R-v,C=S-y,E=N-v;return C*C+E*E<z*z+A*A&&(_=S,R=N),{cx:_,cy:R,x01:-l,y01:-h,x11:_*(r/w-1),y11:R*(r/w-1)}}function Ot(){var D=St,L=Nt,I=dt(0),W=null,H=zt,$=At,V=Ct,q=null;function e(){var t,e,n=+D.apply(this,arguments),i=+L.apply(this,arguments),r=H.apply(this,arguments)-Mt,a=$.apply(this,arguments)-Mt,o=gt(a-r),s=r<a;if(q=q||(t=ft()),i<n&&(e=i,i=n,n=e),wt<i)if(_t-wt<o)q.moveTo(i*yt(r),i*xt(r)),q.arc(0,0,i,r,a,!s),wt<n&&(q.moveTo(n*yt(a),n*xt(a)),q.arc(0,0,n,a,r,s));else{var c,u,l=r,h=a,f=r,d=a,g=o,p=o,y=V.apply(this,arguments)/2,v=wt<y&&(W?+W.apply(this,arguments):bt(n*n+i*i)),m=mt(gt(i-n)/2,+I.apply(this,arguments)),x=m,b=m;if(wt<v){var w=Rt(v/n*xt(y)),k=Rt(v/i*xt(y));(g-=2*w)>wt?(f+=w*=s?1:-1,d-=w):(g=0,f=d=(r+a)/2),(p-=2*k)>wt?(l+=k*=s?1:-1,h-=k):(p=0,l=h=(r+a)/2)}var M=i*yt(l),_=i*xt(l),R=n*yt(d),S=n*xt(d);if(wt<m){var N,z=i*yt(h),A=i*xt(h),C=n*yt(f),E=n*xt(f);if(o<kt&&(N=function(t,e,n,i,r,a,o,s){var c=n-t,u=i-e,l=o-r,h=s-a,f=h*c-l*u;if(!(f*f<wt))return[t+(f=(l*(e-a)-h*(t-r))/f)*c,e+f*u]}(M,_,C,E,z,A,R,S))){var O=M-N[0],T=_-N[1],j=z-N[0],P=A-N[1],F=1/xt(function(t){return 1<t?0:t<-1?kt:Math.acos(t)}((O*j+T*P)/(bt(O*O+T*T)*bt(j*j+P*P)))/2),B=bt(N[0]*N[0]+N[1]*N[1]);x=mt(m,(n-B)/(F-1)),b=mt(m,(i-B)/(1+F))}}wt<p?wt<b?(c=Et(C,E,M,_,i,b,s),u=Et(z,A,R,S,i,b,s),q.moveTo(c.cx+c.x01,c.cy+c.y01),b<m?q.arc(c.cx,c.cy,b,pt(c.y01,c.x01),pt(u.y01,u.x01),!s):(q.arc(c.cx,c.cy,b,pt(c.y01,c.x01),pt(c.y11,c.x11),!s),q.arc(0,0,i,pt(c.cy+c.y11,c.cx+c.x11),pt(u.cy+u.y11,u.cx+u.x11),!s),q.arc(u.cx,u.cy,b,pt(u.y11,u.x11),pt(u.y01,u.x01),!s))):(q.moveTo(M,_),q.arc(0,0,i,l,h,!s)):q.moveTo(M,_),wt<n&&wt<g?wt<x?(c=Et(R,S,z,A,n,-x,s),u=Et(M,_,C,E,n,-x,s),q.lineTo(c.cx+c.x01,c.cy+c.y01),x<m?q.arc(c.cx,c.cy,x,pt(c.y01,c.x01),pt(u.y01,u.x01),!s):(q.arc(c.cx,c.cy,x,pt(c.y01,c.x01),pt(c.y11,c.x11),!s),q.arc(0,0,n,pt(c.cy+c.y11,c.cx+c.x11),pt(u.cy+u.y11,u.cx+u.x11),s),q.arc(u.cx,u.cy,x,pt(u.y11,u.x11),pt(u.y01,u.x01),!s))):q.arc(0,0,n,d,f,s):q.lineTo(R,S)}else q.moveTo(0,0);if(q.closePath(),t)return q=null,t+""||null}return e.centroid=function(){var t=(+D.apply(this,arguments)+ +L.apply(this,arguments))/2,e=(+H.apply(this,arguments)+ +$.apply(this,arguments))/2-kt/2;return[yt(e)*t,xt(e)*t]},e.innerRadius=function(t){return arguments.length?(D="function"==typeof t?t:dt(+t),e):D},e.outerRadius=function(t){return arguments.length?(L="function"==typeof t?t:dt(+t),e):L},e.cornerRadius=function(t){return arguments.length?(I="function"==typeof t?t:dt(+t),e):I},e.padRadius=function(t){return arguments.length?(W=null==t?null:"function"==typeof t?t:dt(+t),e):W},e.startAngle=function(t){return arguments.length?(H="function"==typeof t?t:dt(+t),e):H},e.endAngle=function(t){return arguments.length?($="function"==typeof t?t:dt(+t),e):$},e.padAngle=function(t){return arguments.length?(V="function"==typeof t?t:dt(+t),e):V},e.context=function(t){return arguments.length?(q=null==t?null:t,e):q},e}function Tt(t){this._context=t}function jt(t){return new Tt(t)}function Pt(t){return t[0]}function Ft(t){return t[1]}function Bt(){var l=Pt,h=null,f=dt(0),d=Ft,g=dt(!0),p=null,y=jt,v=null;function e(t){var e,n,i,r,a,o=t.length,s=!1,c=new Array(o),u=new Array(o);for(null==p&&(v=y(a=ft())),e=0;e<=o;++e){if(!(e<o&&g(r=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),i=e-1;n<=i;--i)v.point(c[i],u[i]);v.lineEnd(),v.areaEnd()}s&&(c[e]=+l(r,e,t),u[e]=+f(r,e,t),v.point(h?+h(r,e,t):c[e],d?+d(r,e,t):u[e]))}if(a)return v=null,a+""||null}function t(){return function(){var o=Pt,s=Ft,c=dt(!0),u=null,l=jt,h=null;function e(t){var e,n,i,r=t.length,a=!1;for(null==u&&(h=l(i=ft())),e=0;e<=r;++e)!(e<r&&c(n=t[e],e,t))===a&&((a=!a)?h.lineStart():h.lineEnd()),a&&h.point(+o(n,e,t),+s(n,e,t));if(i)return h=null,i+""||null}return e.x=function(t){return arguments.length?(o="function"==typeof t?t:dt(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:dt(+t),e):s},e.defined=function(t){return arguments.length?(c="function"==typeof t?t:dt(!!t),e):c},e.curve=function(t){return arguments.length?(l=t,null!=u&&(h=l(u)),e):l},e.context=function(t){return arguments.length?(null==t?u=h=null:h=l(u=t),e):u},e}().defined(g).curve(y).context(p)}return e.x=function(t){return arguments.length?(l="function"==typeof t?t:dt(+t),h=null,e):l},e.x0=function(t){return arguments.length?(l="function"==typeof t?t:dt(+t),e):l},e.x1=function(t){return arguments.length?(h=null==t?null:"function"==typeof t?t:dt(+t),e):h},e.y=function(t){return arguments.length?(f="function"==typeof t?t:dt(+t),d=null,e):f},e.y0=function(t){return arguments.length?(f="function"==typeof t?t:dt(+t),e):f},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:dt(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(l).y(f)},e.lineY1=function(){return t().x(l).y(d)},e.lineX1=function(){return t().x(h).y(f)},e.defined=function(t){return arguments.length?(g="function"==typeof t?t:dt(!!t),e):g},e.curve=function(t){return arguments.length?(y=t,null!=p&&(v=y(p)),e):y},e.context=function(t){return arguments.length?(null==t?p=v=null:v=y(p=t),e):p},e}function Dt(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Lt(t){return t}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var It=Array.prototype.slice;function Wt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ht(t){this._context=t}function $t(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Vt(t,e){this._context=t,this._k=(1-e)/6}Ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Vt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:$t(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:$t(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qt=function e(n){function t(t){return new Vt(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Ut(t,e){this._context=t,this._alpha=e}Ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(t,e,n){var i=t._x1,r=t._y1,a=t._x2,o=t._y2;if(t._l01_a>wt){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>wt){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(i,r,a,o,t._x2,t._y2)}(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yt=function e(n){function t(t){return n?new Ut(t,n):new Vt(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Xt(t){return t<0?-1:1}function Zt(t,e,n){var i=t._x1-t._x0,r=e-t._x1,a=(t._y1-t._y0)/(i||r<0&&-0),o=(n-t._y1)/(r||i<0&&-0),s=(a*r+o*i)/(i+r);return(Xt(a)+Xt(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Jt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Gt(t,e,n){var i=t._x0,r=t._y0,a=t._x1,o=t._y1,s=(a-i)/3;t._context.bezierCurveTo(i+s,r+s*e,a-s,o-s*n,a,o)}function Kt(t){this._context=t}function Qt(t){this._context=new te(t)}function te(t){this._context=t}function ee(t){this._context=t}function ne(t){var e,n,i=t.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(a[r[0]=0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(r[i-1]=o[i-1]/a[i-1],e=i-2;0<=e;--e)r[e]=(o[e]-r[e+1])/a[e];for(a[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-r[e+1];return[r,a]}function ie(t,e){this._context=t,this._t=e}function re(t,e){if(1<(r=t.length))for(var n,i,r,a=1,o=t[e[0]],s=o.length;a<r;++a)for(i=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ae(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function oe(t,e){return t[e]}function se(t){for(var e,n=-1,i=0,r=t.length,a=-1/0;++n<r;)(e=+t[n][1])>a&&(a=e,i=n);return i}function ce(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function ue(t,e,n){var i,r=1<arguments.length&&void 0!==e?e:"unspecified",a=2<arguments.length?n:void 0,o={},s=t||{get:function(){},has:function(){return!1},default:function(){}};function c(t,e){if(!t||"string"!=typeof t)throw new TypeError("Invalid argument: key must be a non-empty string");return!(t in o)&&(o[t]=e,!0)}function u(t){return o[t]||s.get(t)}function l(t,e){if(void 0!==e)return c(t,e);var n=u(t);return a&&void 0===n&&a.warn("".concat(t," does not exist in ").concat(r," registry")),n||u(i)}return i=s.default(),l.add=c,l.get=u,l.has=function(t){return!!o[t]||s.has(t)},l.remove=function(t){var e=o[t];return delete o[t],e},l.getKeys=function(){return Object.keys(o)},l.getValues=function(){return Object.keys(o).map(function(t){return o[t]})},l.default=function(t){return void 0!==t&&(i=t),i},l.register=c,l}function le(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[1<i.length?i[0]+i.slice(2):i,+t.slice(n+1)]}function he(t){return(t=le(Math.abs(t)))?t[1]:NaN}Kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Gt(this,this._t0,Jt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Gt(this,Jt(this,n=Zt(this,t,e)),n);break;default:Gt(this,this._t0,n=Zt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Qt.prototype=Object.create(Kt.prototype)).point=function(t,e){Kt.prototype.point.call(this,e,t)},te.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,a){this._context.bezierCurveTo(e,t,i,n,a,r)}},ee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=ne(t),r=ne(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(i[0][a],r[0][a],i[1][a],r[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var fe,de=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ge(t){if(!(e=de.exec(t)))throw new Error("invalid format: "+t);var e;return new pe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function pe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ye(t,e){var n=le(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}ge.prototype=pe.prototype,pe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var ve={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ye(100*t,e)},r:ye,s:function(t,e){var n=le(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(fe=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:o<a?i+new Array(a-o+1).join("0"):0<a?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+le(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function me(t){return t}var xe,be,we,ke=Array.prototype.map,Me=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function _e(t){var k=void 0===t.grouping||void 0===t.thousands?me:function(s,c){return function(t,e){for(var n=t.length,i=[],r=0,a=s[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),i.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=s[r=(r+1)%s.length];return i.reverse().join(c)}}(ke.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",_=void 0===t.numerals?me:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(ke.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",R=void 0===t.minus?"-":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function o(t){var u=(t=ge(t)).fill,l=t.align,h=t.sign,e=t.symbol,f=t.zero,d=t.width,g=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):ve[v]||(void 0===p&&(p=12),y=!0,v="g"),(f||"0"===u&&"="===l)&&(f=!0,u="0",l="=");var m="$"===e?i:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===e?r:/[%p]/.test(v)?a:"",b=ve[v],w=/[defgprs%]/.test(v);function n(t){var e,n,i,r=m,a=x;if("c"===v)a=b(t)+a,t="";else{var o=(t=+t)<0;if(t=isNaN(t)?S:b(Math.abs(t),p),y&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(0<r){if(!+t[i])break t;r=0}}return 0<r?t.slice(0,r)+t.slice(e+1):t}(t)),o&&0==+t&&(o=!1),r=(o?"("===h?h:R:"-"===h||"("===h?"":h)+r,a=("s"===v?Me[8+fe/3]:"")+a+(o&&"("===h?")":""),w)for(e=-1,n=t.length;++e<n;)if((i=t.charCodeAt(e))<48||57<i){a=(46===i?M+t.slice(e+1):t.slice(e))+a,t=t.slice(0,e);break}}g&&!f&&(t=k(t,1/0));var s=r.length+t.length+a.length,c=s<d?new Array(d-s+1).join(u):"";switch(g&&f&&(t=k(c+t,c.length?d-a.length:1/0),c=""),l){case"<":t=r+t+a+c;break;case"=":t=r+c+t+a;break;case"^":t=c.slice(0,s=c.length>>1)+r+t+a+c.slice(s);break;default:t=c+r+t+a}return _(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),n.toString=function(){return t+""},n}return{format:o,formatPrefix:function(t,e){var n=o(((t=ge(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(he(e)/3))),r=Math.pow(10,-i),a=Me[8+i/3];return function(t){return n(r*t)+a}}}}xe=_e({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),be=xe.format,we=xe.formatPrefix;var Re=new Date,Se=new Date;function Ne(a,o,n,i){function s(t){return a(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return a(t=new Date(+t)),t},s.ceil=function(t){return a(t=new Date(t-1)),o(t,1),a(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var i,r=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(i=new Date(+t)),o(t,n),a(t),i<t&&t<e;);return r},s.filter=function(n){return Ne(function(t){if(t<=t)for(;a(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(s.count=function(t,e){return Re.setTime(+t),Se.setTime(+e),a(Re),a(Se),Math.floor(n(Re,Se))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(i?function(t){return i(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var ze=Ne(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ze.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?Ne(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):ze:null};Ne(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Ne(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getMinutes()}),Ne(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()});var Ae=Ne(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5},function(t){return t.getDate()-1});function Ce(e){return Ne(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var Ee=Ce(0),Oe=Ce(1),Te=(Ce(2),Ce(3),Ce(4)),je=(Ce(5),Ce(6),Ne(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Ne(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));je.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Ne(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};Ne(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+6e4*e)},function(t,e){return(e-t)/6e4},function(t){return t.getUTCMinutes()}),Ne(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()});var Pe=Ne(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1});function Fe(e){return Ne(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Be=Fe(0),De=Fe(1),Le=(Fe(2),Fe(3),Fe(4)),Ie=(Fe(5),Fe(6),Ne(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ne(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));function We(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function He(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $e(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ve(t){var i=t.dateTime,r=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,c=t.shortMonths,u=tn(e),l=en(e),h=tn(n),f=en(n),d=tn(o),g=en(o),p=tn(s),y=en(s),v=tn(c),m=en(c),x={a:function(t){return o[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:kn,e:kn,f:Nn,H:Mn,I:_n,j:Rn,L:Sn,m:zn,M:An,p:function(t){return e[+(12<=t.getHours())]},Q:ii,s:ri,S:Cn,u:En,U:On,V:Tn,w:jn,W:Pn,x:null,X:null,y:Fn,Y:Bn,Z:Dn,"%":ni},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ln,e:Ln,f:Vn,H:In,I:Wn,j:Hn,L:$n,m:qn,M:Un,p:function(t){return e[+(12<=t.getUTCHours())]},Q:ii,s:ri,S:Yn,u:Xn,U:Zn,V:Jn,w:Gn,W:Kn,x:null,X:null,y:Qn,Y:ti,Z:ei,"%":ni},w={a:function(t,e,n){var i=d.exec(e.slice(n));return i?(t.w=g[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,e,n){return _(t,i,e,n)},d:fn,e:fn,f:mn,H:gn,I:gn,j:dn,L:vn,m:hn,M:pn,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=l[i[0].toLowerCase()],n+i[0].length):-1},Q:bn,s:wn,S:yn,u:rn,U:an,V:on,w:nn,W:sn,x:function(t,e,n){return _(t,r,e,n)},X:function(t,e,n){return _(t,a,e,n)},y:un,Y:cn,Z:ln,"%":xn};function k(c,u){return function(t){var e,n,i,r=[],a=-1,o=0,s=c.length;for(t instanceof Date||(t=new Date(+t));++a<s;)37===c.charCodeAt(a)&&(r.push(c.slice(o,a)),null!=(n=Xe[e=c.charAt(++a)])?e=c.charAt(++a):n="e"===e?" ":"0",(i=u[e])&&(e=i(t,n)),r.push(e),o=a+1);return r.push(c.slice(o,a)),r.join("")}}function M(r,a){return function(t){var e,n,i=$e(1900);if(_(i,r,t+="",0)!=t.length)return null;if("Q"in i)return new Date(i.Q);if("p"in i&&(i.H=i.H%12+12*i.p),"V"in i){if(i.V<1||53<i.V)return null;"w"in i||(i.w=1),"Z"in i?(e=4<(n=(e=He($e(i.y))).getUTCDay())||0===n?De.ceil(e):De(e),e=Pe.offset(e,7*(i.V-1)),i.y=e.getUTCFullYear(),i.m=e.getUTCMonth(),i.d=e.getUTCDate()+(i.w+6)%7):(e=4<(n=(e=a($e(i.y))).getDay())||0===n?Oe.ceil(e):Oe(e),e=Ae.offset(e,7*(i.V-1)),i.y=e.getFullYear(),i.m=e.getMonth(),i.d=e.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),n="Z"in i?He($e(i.y)).getUTCDay():a($e(i.y)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(n+5)%7:i.w+7*i.U-(n+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,He(i)):a(i)}}function _(t,e,n,i){for(var r,a,o=0,s=e.length,c=n.length;o<s;){if(c<=i)return-1;if(37===(r=e.charCodeAt(o++))){if(r=e.charAt(o++),!(a=w[r in Xe?e.charAt(o++):r])||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return x.x=k(r,x),x.X=k(a,x),x.c=k(i,x),b.x=k(r,b),b.X=k(a,b),b.c=k(i,b),{format:function(t){var e=k(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",We);return e.toString=function(){return t},e},utcFormat:function(t){var e=k(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,He);return e.toString=function(){return t},e}}}Ie.every=function(n){return isFinite(n=Math.floor(n))&&0<n?Ne(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var qe,Ue,Ye,Xe={"-":"",_:" ",0:"0"},Ze=/^\s*\d+/,Je=/^%/,Ge=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Qe(t){return t.replace(Ge,"\\$&")}function tn(t){return new RegExp("^(?:"+t.map(Qe).join("|")+")","i")}function en(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function nn(t,e,n){var i=Ze.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function rn(t,e,n){var i=Ze.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function an(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function on(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function sn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function cn(t,e,n){var i=Ze.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function un(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(68<+i[0]?1900:2e3),n+i[0].length):-1}function ln(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function hn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function fn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function dn(t,e,n){var i=Ze.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function gn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function pn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function yn(t,e,n){var i=Ze.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function vn(t,e,n){var i=Ze.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function mn(t,e,n){var i=Ze.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function xn(t,e,n){var i=Je.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function bn(t,e,n){var i=Ze.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function wn(t,e,n){var i=Ze.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function kn(t,e){return Ke(t.getDate(),e,2)}function Mn(t,e){return Ke(t.getHours(),e,2)}function _n(t,e){return Ke(t.getHours()%12||12,e,2)}function Rn(t,e){return Ke(1+Ae.count(je(t),t),e,3)}function Sn(t,e){return Ke(t.getMilliseconds(),e,3)}function Nn(t,e){return Sn(t,e)+"000"}function zn(t,e){return Ke(t.getMonth()+1,e,2)}function An(t,e){return Ke(t.getMinutes(),e,2)}function Cn(t,e){return Ke(t.getSeconds(),e,2)}function En(t){var e=t.getDay();return 0===e?7:e}function On(t,e){return Ke(Ee.count(je(t),t),e,2)}function Tn(t,e){var n=t.getDay();return t=4<=n||0===n?Te(t):Te.ceil(t),Ke(Te.count(je(t),t)+(4===je(t).getDay()),e,2)}function jn(t){return t.getDay()}function Pn(t,e){return Ke(Oe.count(je(t),t),e,2)}function Fn(t,e){return Ke(t.getFullYear()%100,e,2)}function Bn(t,e){return Ke(t.getFullYear()%1e4,e,4)}function Dn(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function Ln(t,e){return Ke(t.getUTCDate(),e,2)}function In(t,e){return Ke(t.getUTCHours(),e,2)}function Wn(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function Hn(t,e){return Ke(1+Pe.count(Ie(t),t),e,3)}function $n(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function Vn(t,e){return $n(t,e)+"000"}function qn(t,e){return Ke(t.getUTCMonth()+1,e,2)}function Un(t,e){return Ke(t.getUTCMinutes(),e,2)}function Yn(t,e){return Ke(t.getUTCSeconds(),e,2)}function Xn(t){var e=t.getUTCDay();return 0===e?7:e}function Zn(t,e){return Ke(Be.count(Ie(t),t),e,2)}function Jn(t,e){var n=t.getUTCDay();return t=4<=n||0===n?Le(t):Le.ceil(t),Ke(Le.count(Ie(t),t)+(4===Ie(t).getUTCDay()),e,2)}function Gn(t){return t.getUTCDay()}function Kn(t,e){return Ke(De.count(Ie(t),t),e,2)}function Qn(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function ti(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function ei(){return"+0000"}function ni(){return"%"}function ii(t){return+t}function ri(t){return Math.floor(+t/1e3)}qe=Ve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),qe.format,qe.parse,Ue=qe.utcFormat,Ye=qe.utcParse;var ai="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString||Ue(ai);+new Date("2000-01-01T00:00:00.000Z")||Ye(ai);var oi=ue();oi("d3-number",function(e,r,a){var o,n;function t(t){return n(t)}function s(){t.locale({decimal:a||".",thousands:r||",",grouping:[3],currency:["$",""]})}return t.locale=function(t){return o=_e(t),n=o.format(e),this},s(),t.format=function(t,e,n,i){return(n||i)&&(r=n,a=i,s()),o.format(t)(e)},t.pattern=function(t){return t&&(e=t,n=o.format(t)),e},t}),oi("d3-time",function(t){var n=Ve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),e=n.format(t);function i(t){return e(t)}return i.format=function(t,e){return n.format(t)(e)},i.locale=function(){return n=Ve.apply(void 0,arguments),e=n.format(t),this},i.parse=function(t,e){return n.parse(t)(e)},i.parsePattern=function(t){return n.parse(t)},i});var si={id:function(t){return"".concat(t.source,"/").concat(t.key||t.title)},key:function(t){return String(t.key||t.title)},tags:function(t){return t.tags},min:function(t){return t.min},max:function(t){return t.max},type:function(t){return t.type},title:function(t){return String(t.title)},values:function(t){return t.values},value:function(t){return t},label:function(t){return t},formatter:function(t){return function(t){if("function"==typeof t.formatter)return t.formatter();var e=t.formatter||{};return oi(e.type||"d3-number")(e.format||"")}(t)}};function ci(t,e){var n=1<arguments.length&&void 0!==e?e:{},i=n.id,r=void 0===i?si.id:i,a=n.key,o=void 0===a?si.key:a,s=n.min,c=void 0===s?si.min:s,u=n.max,l=void 0===u?si.max:u,h=n.type,f=void 0===h?si.type:h,d=n.tags,g=void 0===d?si.tags:d,p=n.title,y=void 0===p?si.title:p,v=n.values,m=void 0===v?si.values:v,x=n.value,b=void 0===x?si.value:x,w=n.label,k=void 0===w?si.label:w,M=n.formatter,_=void 0===M?si.formatter:M;return{id:function(){return r(t)},key:function(){return o(t)},raw:function(){return t},tags:function(){return g(t)},type:function(){return f(t)},min:function(){return c(t)},max:function(){return l(t)},title:function(){return y(t)},items:function(){return m(t)},formatter:function(){return _(t)},value:b,label:k}}var ui={diverging:function(t,e){if(0<(s=t.length))for(var n,i,r,a,o,s,c=0,u=t[e[0]].length;c<u;++c)for(a=o=0,n=0;n<s;++n)0<=(r=(i=t[e[n]][c])[1]-i[0])?(i[0]=a,i[1]=a+=r):r<0?(i[1]=o,i[0]=o+=r):i[0]=a},none:re,silhouette:function(t,e){if(0<(n=t.length)){for(var n,i=0,r=t[e[0]],a=r.length;i<a;++i){for(var o=0,s=0;o<n;++o)s+=t[o][i][1]||0;r[i][1]+=r[i][0]=-s/2}re(t,e)}},expand:function(t,e){if(0<(i=t.length)){for(var n,i,r,a=0,o=t[0].length;a<o;++a){for(r=n=0;n<i;++n)r+=t[n][a][1]||0;if(r)for(n=0;n<i;++n)t[n][a][1]/=r}re(t,e)}},wiggle:function(t,e){if(0<(r=t.length)&&0<(i=(n=t[e[0]]).length)){for(var n,i,r,a=0,o=1;o<i;++o){for(var s=0,c=0,u=0;s<r;++s){for(var l=t[e[s]],h=l[o][1]||0,f=(h-(l[o-1][1]||0))/2,d=0;d<s;++d){var g=t[e[d]];f+=(g[o][1]||0)-(g[o-1][1]||0)}c+=h,u+=f*h}n[o-1][1]+=n[o-1][0]=a,c&&(a-=u/c)}n[o-1][1]+=n[o-1][0]=a,re(t,e)}}},li={ascending:function(t){var n=t.map(ce);return ae(t).sort(function(t,e){return n[t]-n[e]})},insideout:function(t){var e,n,i=t.length,r=t.map(ce),a=function(t){var n=t.map(se);return ae(t).sort(function(t,e){return n[t]-n[e]})}(t),o=0,s=0,c=[],u=[];for(e=0;e<i;++e)n=a[e],o<s?(o+=r[n],c.push(n)):(s+=r[n],u.push(n));return u.reverse().concat(c)},none:ae,reverse:function(t){return ae(t).reverse()}};function hi(t,e,n){for(var i={},r=e.stackKey,a=e.value,o=e.startProp||"start",s=e.endProp||"end",c=e.offset||"none",u=e.order||"none",l=e.valueRef||"",h=0,f={},d=0;d<t.items.length;d++){var g=t.items[d],p=l?g[l]:null;if(p&&p.source){var y="".concat(p.source.key||"","/").concat(p.source.field);f[y]||(f[y]=p.source)}var v=r(g);i[v]=i[v]||{items:[]},i[v].items.push(g),h=Math.max(h,i[v].items.length)}for(var m=Array.apply(null,{length:h}).map(Number.call,Number),x=Object.keys(i).map(function(t){return i[t].items}),b=function(){var h=dt([]),f=ae,d=re,g=oe;function e(t){var e,n,i=h.apply(this,arguments),r=t.length,a=i.length,o=new Array(a);for(e=0;e<a;++e){for(var s,c=i[e],u=o[e]=new Array(r),l=0;l<r;++l)u[l]=s=[0,+g(t[l],c,l,t)],s.data=t[l];u.key=c}for(e=0,n=f(o);e<a;++e)o[n[e]].index=e;return d(o,n),o}return e.keys=function(t){return arguments.length?(h="function"==typeof t?t:dt(It.call(t)),e):h},e.value=function(t){return arguments.length?(g="function"==typeof t?t:dt(+t),e):g},e.order=function(t){return arguments.length?(f=null==t?ae:"function"==typeof t?t:dt(It.call(t)),e):f},e.offset=function(t){return arguments.length?(d=null==t?re:t,e):d},e}().keys(m).value(function(t,e){return t[e]?a(t[e]):0}).order(li[u]).offset(ui[c])(x),w=[],k=0;k<b.length;k++)for(var M=b[k],_=0;_<M.length;_++){var R=M[_],S=M[_].data[M.key];S&&(S[o]={value:R[0]},S[s]={value:R[1]},w.push(R[0],R[1]))}var N=Object.keys(f).map(function(t){var e=n(f[t].key);return e?e.field(f[t].field):null}).filter(function(t){return!!t}),z=ci({title:N.map(function(t){return t.title()}).join(", "),min:Math.min.apply(Math,w),max:Math.max.apply(Math,w),type:"measure",formatter:N[0]?N[0].formatter:void 0});t.fields.push(z)}function fi(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r={},t=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).logger;if(Array.isArray(e))r.items=e.map(function(t){return{value:t,label:String(t)}});else if(e){if("collection"in e)return i.collection(e.collection);var a=i.dataset?i.dataset(e.source):null,n=e.value||function(t){return t},o=e.label||function(t){return t};if(e.groupBy||e.mapTo)t.warn('Deprecated "data" configuration',e),r.items=[];else if(e.hierarchy)r.root=a.hierarchy?a.hierarchy(e.hierarchy):null,r.fields=a.fields();else if(e.items)r.items=e.items.map(function(t){return{value:n(t),label:String(o(t))}});else if(e.extract){var s=Array.isArray(e.extract)?e.extract:[e.extract];r.items=[];var c,u=[];if(s.forEach(function(t){var e,n=t.source?i.dataset(t.source):a;n&&((e=r.items).push.apply(e,nt(n.extract(t))),void 0!==t.field&&u.push(n.field(t.field)))}),u.length&&(r.fields=u),e.amend&&Array.isArray(e.amend))(c=r.items).push.apply(c,nt(e.amend))}else if(void 0!==e.field&&a){var l=a.field(e.field);l&&(r.fields||(r.fields=[]),r.fields.push(l),"value"in e||(n=l.value||function(t){return t},o=l.label||function(t){return t},r.value=n),r.items=l.items().map(function(t){return{value:n(t),label:String(o(t)),source:{field:e.field}}}))}else e.fields&&e.fields.forEach(function(t){var e,n="object"===et(t)&&t.source?i.dataset(t.source):a;n&&(e="object"===et(t)&&void 0!==t.field?n.field(t.field):n.field(t))&&(r.fields||(r.fields=[]),r.fields.push(e))});r.items&&e.map&&(r.items=r.items.map(e.map))}return e&&e.stack&&hi(r,e.stack,i.dataset),e&&!Array.isArray(e)&&"function"==typeof e.sort&&r.items&&(r.items=r.items.sort(e.sort)),r}function di(t,e,n){var i,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:fi;if(t.data){var a=r(t.data,e,n);if(a&&a.fields&&a.fields[0])return a.fields[0].formatter()}if(i=t.formatter?"".concat(t.formatter,"-").concat(t.type||"number"):t.type||"d3-number",n.formatter.has(i))return n.formatter.get(i)(t.format||"");throw new Error("Formatter of type '".concat(i,"' was not found"))}function gi(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var pi,yi,vi=(1===(yi=gi).length&&(pi=yi,yi=function(t,e){return gi(pi(t),e)}),{left:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;yi(t[r],e)<0?n=1+r:i=r}return n},right:function(t,e,n,i){for(null==n&&(n=0),null==i&&(i=t.length);n<i;){var r=n+i>>>1;0<yi(t[r],e)?i=r:n=1+r}return n}}).right;var mi=Math.sqrt(50),xi=Math.sqrt(10),bi=Math.sqrt(2);function wi(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return 0<=r?(mi<=a?10:xi<=a?5:bi<=a?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(mi<=a?10:xi<=a?5:bi<=a?2:1)}function ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Mi="$";function _i(){}function Ri(t,e){var n=new _i;if(t instanceof _i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(null==e)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e(i=t[r],r,t),i)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Si(){}_i.prototype=Ri.prototype={constructor:_i,has:function(t){return Mi+t in this},get:function(t){return this[Mi+t]},set:function(t,e){return this[Mi+t]=e,this},remove:function(t){var e=Mi+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Mi&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Mi&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Mi&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Mi&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Mi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Mi)return!1;return!0},each:function(t){for(var e in this)e[0]===Mi&&t(this[e],e.slice(1),this)}};var Ni=Ri.prototype;Si.prototype=function(t,e){var n=new Si;if(t instanceof Si)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}.prototype={constructor:Si,has:Ni.has,add:function(t){return this[Mi+(t+="")]=t,this},remove:Ni.remove,clear:Ni.clear,values:Ni.keys,size:Ni.size,empty:Ni.empty,each:Ni.each};var zi=Array.prototype,Ai=zi.map,Ci=zi.slice,Ei={name:"implicit"};function Oi(){var a=Ri(),o=[],i=[],r=Ei;function s(t){var e=t+"",n=a.get(e);if(!n){if(r!==Ei)return r;a.set(e,n=o.push(t))}return i[(n-1)%i.length]}return s.domain=function(t){if(!arguments.length)return o.slice();o=[],a=Ri();for(var e,n,i=-1,r=t.length;++i<r;)a.has(n=(e=t[i])+"")||a.set(n,o.push(e));return s},s.range=function(t){return arguments.length?(i=Ci.call(t),s):i.slice()},s.unknown=function(t){return arguments.length?(r=t,s):r},s.copy=function(){return Oi(o,i).unknown(r)},ki.apply(s,arguments),s}function Ti(){var a,o,t=Oi().unknown(void 0),s=t.domain,c=t.range,u=[0,1],l=!1,h=0,f=0,d=.5;function e(){var t=s().length,e=u[1]<u[0],n=u[e-0],i=u[1-e];a=(i-n)/Math.max(1,t-h+2*f),l&&(a=Math.floor(a)),n+=(i-n-a*(t-h))*d,o=a*(1-h),l&&(n=Math.round(n),o=Math.round(o));var r=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a}(t).map(function(t){return n+a*t});return c(e?r.reverse():r)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(u=[+t[0],+t[1]],e()):u.slice()},t.rangeRound=function(t){return u=[+t[0],+t[1]],l=!0,e()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(t){return arguments.length?(l=!!t,e()):l},t.padding=function(t){return arguments.length?(h=Math.min(1,f=+t),e()):h},t.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),e()):h},t.paddingOuter=function(t){return arguments.length?(f=+t,e()):f},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return Ti(s(),u).round(l).paddingInner(h).paddingOuter(f).align(d)},ki.apply(e(),arguments)}function ji(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Pi(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Fi(){}var Bi=1/.7,Di="\\s*([+-]?\\d+)\\s*",Li="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wi=/^#([0-9a-f]{3,8})$/,Hi=new RegExp("^rgb\\("+[Di,Di,Di]+"\\)$"),$i=new RegExp("^rgb\\("+[Ii,Ii,Ii]+"\\)$"),Vi=new RegExp("^rgba\\("+[Di,Di,Di,Li]+"\\)$"),qi=new RegExp("^rgba\\("+[Ii,Ii,Ii,Li]+"\\)$"),Ui=new RegExp("^hsl\\("+[Li,Ii,Ii]+"\\)$"),Yi=new RegExp("^hsla\\("+[Li,Ii,Ii,Li]+"\\)$"),Xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zi(){return this.rgb().formatHex()}function Ji(){return this.rgb().formatRgb()}function Gi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wi.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ki(e):3===n?new nr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new nr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new nr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Hi.exec(t))?new nr(e[1],e[2],e[3],1):(e=$i.exec(t))?new nr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Vi.exec(t))?Qi(e[1],e[2],e[3],e[4]):(e=qi.exec(t))?Qi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ui.exec(t))?or(e[1],e[2]/100,e[3]/100,1):(e=Yi.exec(t))?or(e[1],e[2]/100,e[3]/100,e[4]):Xi.hasOwnProperty(t)?Ki(Xi[t]):"transparent"===t?new nr(NaN,NaN,NaN,0):null}function Ki(t){return new nr(t>>16&255,t>>8&255,255&t,1)}function Qi(t,e,n,i){return i<=0&&(t=e=n=NaN),new nr(t,e,n,i)}function tr(t){return t instanceof Fi||(t=Gi(t)),t?new nr((t=t.rgb()).r,t.g,t.b,t.opacity):new nr}function er(t,e,n,i){return 1===arguments.length?tr(t):new nr(t,e,n,null==i?1:i)}function nr(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function ir(){return"#"+ar(this.r)+ar(this.g)+ar(this.b)}function rr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ar(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function or(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new cr(t,e,n,i)}function sr(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);if(t instanceof Fi||(t=Gi(t)),!t)return new cr;if(t instanceof cr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,c=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=c<.5?a+r:2-a-r,o*=60):s=0<c&&c<1?0:o,new cr(o,s,c,t.opacity)}function cr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ur(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}ji(Fi,Gi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zi,formatHex:Zi,formatHsl:function(){return sr(this).formatHsl()},formatRgb:Ji,toString:Ji}),ji(nr,er,Pi(Fi,{brighter:function(t){return t=null==t?Bi:Math.pow(Bi,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ir,formatHex:ir,formatRgb:rr,toString:rr})),ji(cr,function(t,e,n,i){return 1===arguments.length?sr(t):new cr(t,e,n,null==i?1:i)},Pi(Fi,{brighter:function(t){return t=null==t?Bi:Math.pow(Bi,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new nr(ur(240<=t?t-240:120+t,r,i),ur(t,r,i),ur(t<120?240+t:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var lr=Math.PI/180,hr=180/Math.PI,fr=.96422,dr=1,gr=.82521,pr=4/29,yr=6/29,vr=3*yr*yr,mr=yr*yr*yr;function xr(t){if(t instanceof br)return new br(t.l,t.a,t.b,t.opacity);if(t instanceof Rr)return Sr(t);t instanceof nr||(t=tr(t));var e,n,i=_r(t.r),r=_r(t.g),a=_r(t.b),o=wr((.2225045*i+.7168786*r+.0606169*a)/dr);return i===r&&r===a?e=n=o:(e=wr((.4360747*i+.3850649*r+.1430804*a)/fr),n=wr((.0139322*i+.0971045*r+.7141733*a)/gr)),new br(116*o-16,500*(e-o),200*(o-n),t.opacity)}function br(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function wr(t){return mr<t?Math.pow(t,1/3):t/vr+pr}function kr(t){return yr<t?t*t*t:vr*(t-pr)}function Mr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _r(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rr(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function Sr(t){if(isNaN(t.h))return new br(t.l,0,0,t.opacity);var e=t.h*lr;return new br(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}ji(br,function(t,e,n,i){return 1===arguments.length?xr(t):new br(t,e,n,null==i?1:i)},Pi(Fi,{brighter:function(t){return new br(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new br(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new nr(Mr(3.1338561*(e=fr*kr(e))-1.6168667*(t=dr*kr(t))-.4906146*(n=gr*kr(n))),Mr(-.9787684*e+1.9161415*t+.033454*n),Mr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),ji(Rr,function(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Rr)return new Rr(t.h,t.c,t.l,t.opacity);if(t instanceof br||(t=xr(t)),0===t.a&&0===t.b)return new Rr(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*hr;return new Rr(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Rr(t,e,n,null==i?1:i)},Pi(Fi,{brighter:function(t){return new Rr(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Rr(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Sr(this).rgb()}}));var Nr=1.78277,zr=-.29227,Ar=-.90649,Cr=1.97294,Er=Cr*Ar,Or=Cr*Nr,Tr=Nr*zr- -.14861*Ar;function jr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Pr(t){return function(){return t}}function Fr(n){return 1==(n=+n)?Br:function(t,e){return e-t?function(e,n,i){return e=Math.pow(e,i),n=Math.pow(n,i)-e,i=1/i,function(t){return Math.pow(e+t*n,i)}}(t,e,n):Pr(isNaN(t)?e:t)}}function Br(t,e){var n=e-t;return n?function(e,n){return function(t){return e+t*n}}(t,n):Pr(isNaN(t)?e:t)}ji(jr,function(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof jr)return new jr(t.h,t.s,t.l,t.opacity);t instanceof nr||(t=tr(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Tr*i+Er*e-Or*n)/(Tr+Er-Or),a=i-r,o=(Cr*(n-r)-zr*a)/Ar,s=Math.sqrt(o*o+a*a)/(Cr*r*(1-r)),c=s?Math.atan2(o,a)*hr-120:NaN;return new jr(c<0?c+360:c,s,r,t.opacity)}(t):new jr(t,e,n,null==i?1:i)},Pi(Fi,{brighter:function(t){return t=null==t?Bi:Math.pow(Bi,t),new jr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new jr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*lr,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new nr(255*(e+n*(-.14861*i+Nr*r)),255*(e+n*(zr*i+Ar*r)),255*(e+Cr*i*n),this.opacity)}}));var Dr=function t(e){var o=Fr(e);function n(e,t){var n=o((e=er(e)).r,(t=er(t)).r),i=o(e.g,t.g),r=o(e.b,t.b),a=Br(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=r(t),e.opacity=a(t),e+""}}return n.gamma=t,n}(1);function Lr(e,n){return n-=e=+e,function(t){return e+n*t}}function Ir(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Vr(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hr=new RegExp(Wr.source,"g");function $r(t,i){var e,n,r,a=Wr.lastIndex=Hr.lastIndex=0,o=-1,s=[],c=[];for(t+="",i+="";(e=Wr.exec(t))&&(n=Hr.exec(i));)(r=n.index)>a&&(r=i.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(e=e[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,c.push({i:o,x:Lr(e,n)})),a=Hr.lastIndex;return a<i.length&&(r=i.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(t){return function(){return t}}(i):(i=c.length,function(t){for(var e,n=0;n<i;++n)s[(e=c[n]).i]=e.x(t);return s.join("")})}function Vr(t,e){var n,i=typeof e;return null==e||"boolean"==i?Pr(e):("number"==i?Lr:"string"==i?(n=Gi(e))?(e=n,Dr):$r:e instanceof Gi?Dr:e instanceof Date?function(e,n){var i=new Date;return n-=e=+e,function(t){return i.setTime(e+n*t),i}}:Array.isArray(e)?function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=Vr(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ir:Lr)(t,e)}function qr(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}function Ur(t){return+t}var Yr=[0,1];function Xr(t){return t}function Zr(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Jr(t){var e,n=t[0],i=t[t.length-1];return i<n&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Gr(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return a=r<i?(i=Zr(r,i),n(o,a)):(i=Zr(i,r),n(a,o)),function(t){return a(i(t))}}function Kr(n,t,e){var i=Math.min(n.length,t.length)-1,r=new Array(i),a=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<i;)r[o]=Zr(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(t){var e=vi(n,t,1,i)-1;return a[e](r[e](t))}}function Qr(t,e){return function(){var n,i,e,r,a,o,s=Yr,c=Yr,u=Vr,l=Xr;function h(){return r=2<Math.min(s.length,c.length)?Kr:Gr,a=o=null,f}function f(t){return isNaN(t=+t)?e:(a=a||r(s.map(n),c,u))(n(l(t)))}return f.invert=function(t){return l(i((o=o||r(c,s.map(n),Lr))(t)))},f.domain=function(t){return arguments.length?(s=Ai.call(t,Ur),l===Xr||(l=Jr(s)),h()):s.slice()},f.range=function(t){return arguments.length?(c=Ci.call(t),h()):c.slice()},f.rangeRound=function(t){return c=Ci.call(t),u=qr,h()},f.clamp=function(t){return arguments.length?(l=t?Jr(s):Xr,f):l!==Xr},f.interpolate=function(t){return arguments.length?(u=t,h()):u},f.unknown=function(t){return arguments.length?(e=t,f):e},function(t,e){return n=t,i=e,h()}}()(t,e)}function ta(t,e,n,i){var r,a=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return mi<=a?r*=10:xi<=a?r*=5:bi<=a&&(r*=2),e<t?-r:r}(t,e,n);switch((i=ge(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(he(e)/3)))-he(Math.abs(t)))}(a,o))||(i.precision=r),we(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,he(e)-he(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-he(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return be(i)}function ea(s){var c=s.domain;return s.ticks=function(t){var e=c();return function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=wi(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(r=Math.ceil(t-e+1));++s<r;)a[s]=(t-s)/o;return i&&a.reverse(),a}(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){var n=c();return ta(n[0],n[n.length-1],null==t?10:t,e)},s.nice=function(t){null==t&&(t=10);var e,n=c(),i=0,r=n.length-1,a=n[i],o=n[r];return o<a&&(e=a,a=o,o=e,e=i,i=r,r=e),0<(e=wi(a,o,t))?e=wi(a=Math.floor(a/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=wi(a=Math.ceil(a*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[i]=Math.floor(a/e)*e,n[r]=Math.ceil(o/e)*e,c(n)):e<0&&(n[i]=Math.ceil(a*e)/e,n[r]=Math.floor(o*e)/e,c(n)),s},s}function na(){var t=Qr(Xr,Xr);return t.copy=function(){return function(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}(t,na())},ki.apply(t,arguments),ea(t)}function ia(e){return void 0===e?function(t){return t}:function(t){return e(t)}}function ra(t){return Math.max(0,Math.min(1,t))}function aa(t){return"object"===et(t)}function oa(t,e,n){for(var i=Math.abs(e-n)/(t+1),r=[],a=1;a<=t;a++){var o=a*i;r.push(e<n?e+o:e-o)}return r}function sa(t,e,n){if(1===t.length)return t;for(var i=t.concat([]),r=0;r<t.length;r++){var a=t[r],o=t[r+1];0===r&&a!==n.start()?(i.push.apply(i,nt(oa(e,a,o))),a-=o-a,o=t[r]):r===t.length-1&&o!==n.end()&&(o=a+(a-t[r-1])),i.push.apply(i,nt(oa(e,a,o)))}return i.filter(function(t){return t>=n.min()&&t<=n.max()})}function ca(t){var e=t.distance,i=t.scale,n=t.minorCount,r=void 0===n?0:n,a=t.unitDivider,o=void 0===a?100:a,s=t.formatter,c=void 0===s?void 0:s,u=j(o)||j(e)?2:Math.max(e/o,2),l=Math.min(1e3,Math.round(u)),h=i.ticks(l);h.length<=1&&(h=i.ticks(l+1));var f=0<r?sa(h,r,i):h;f.sort(function(t,e){return t-e});var d=f.map(ia(c));return f.map(function(t,e){var n=i(t);return{position:n,start:n,end:n,label:d[e],value:t,isMinor:-1===h.indexOf(t)}})}function ua(t){var e=t.distance,i=t.scale,n=t.minorCount,r=void 0===n?0:n,a=t.unitDivider,o=void 0===a?100:a,s=t.formatter,c=void 0===s?void 0:s,u=j(o)||j(e)?2:Math.max(e/o,2),l=Math.min(1e3,Math.round(u)),h=10<l?10:l;i.nice(h);var f=i.ticks(l),d=0<r?sa(f,r,i):f;d.sort(function(t,e){return t-e});var g=d.map(ia(c));return d.map(function(t,e){var n=i(t);return{position:n,start:n,end:n,label:g[e],value:t,isMinor:-1===f.indexOf(t)}})}function la(t){var e,n=t.settings,i=t.scale,r=t.distance,a=t.formatter,o=void 0===a?function(t){return t}:a,s=n.minorTicks&&!j(n.minorTicks.count)?Math.min(100,n.minorTicks.count):0;if(Array.isArray(n.ticks.values))e=function(t){var e=t.values,r=t.scale,n=t.formatter,a=void 0===n?function(t){return t}:n;return e.sort(function(t,e){return(aa(t)?t.value:t)-(aa(e)?e.value:e)}).filter(function(t,e,n){var i=aa(t)?t.value:t;return i<=r.max()&&i>=r.min()&&n.indexOf(t)===e}).map(function(t){var e=aa(t),n=e?t.value:t,i=r(n);return{position:i,value:n,label:e&&void 0!==t.label?t.label:a(n),isMinor:!!e&&!!t.isMinor,start:e&&!isNaN(t.start)?ra(r(t.start)):i,end:e&&!isNaN(t.end)?ra(r(t.end)):i}})}({values:n.ticks.values.filter(function(t){return"object"===et(t)?!j(t.value):!j(t)}),scale:i.copy(),formatter:o});else if(j(n.ticks.count)){e=(n.ticks.tight?ua:ca)({distance:r,minorCount:s,unitDivider:n.ticks.distance,scale:i,formatter:o}),n.ticks.forceBounds&&function(t,e,n){var i=t.map(function(t){return t.position}),r=e.range();-1===i.indexOf(r[0])?t.splice(0,0,{position:r[0],start:r[0],end:r[0],label:n(e.start()),isMinor:!1,value:e.start()}):t[0]&&t[0].isMinor&&(t[0].isMinor=!1);var a=t[t.length-1];-1===i.indexOf(r[1])?t.push({position:r[1],start:r[1],end:r[1],label:n(e.end()),isMinor:!1,value:e.end()}):a&&a.isMinor&&(a.isMinor=!1)}(e,i,o)}else{e=function(t){var e=t.count,i=t.minorCount,r=t.scale,a=t.formatter;return r.ticks((e-1)*i+e).map(function(t,e){var n=r(t);return{position:n,start:n,end:n,label:a(t),isMinor:e%(i+1)!=0,value:t}})}({count:Math.min(1e3,n.ticks.count),minorCount:s,scale:i.copy(),formatter:o})}return e}function ha(t,e,n){var i=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:{},a=2<arguments.length&&void 0!==n?n:{},o={};return Object.keys(r).forEach(function(t){var e=et(i[t]);o[t]="function"===e?i[t](a):"undefined"===e?r[t]:i[t]}),o}var fa={min:NaN,max:NaN,expand:NaN,include:[],invert:!1},da={tight:!1,forceBounds:!1,values:void 0,count:NaN,distance:100},ga={count:NaN};function pa(t,e){t.instance||(t.instance=e.copy(),t.instance.domain([e.start(),e.end()]),t.instance.clamp(!0),t.instance.range(t.invert?[1,0]:[0,1]))}function ya(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=na(),o={instance:null,invert:!1},t={data:i,resources:r},s=ha(n,fa,t);function u(t){return j(t)?NaN:a(t)}s.ticks=ha(n.ticks,da,t),s.minorTicks=ha(n.minorTicks,ga,t),u.data=function(){return i},u.invert=function(t){return a.invert(t)},u.rangeRound=function(t){return a.rangeRound(t),u},u.clamp=function(t){var e=!(0<arguments.length&&void 0!==t)||t;return a.clamp(e),u},u.cachedTicks=function(){return e},u.clearTicksCache=function(){return e=void 0,this},u.ticks=function(t){return e=null!==t&&"object"===et(t)?(t.settings=t.settings||{},t.settings=tt(!0,{},s,t.settings),t.scale=u,la(t)):a.ticks(t)},u.nice=function(t){return a.nice(t),u},u.tickFormat=function(t,e){return a.tickFormat(t,e)},u.interpolate=function(t){return a.interpolate(t),u},u.domain=function(t){return arguments.length?(a.domain(t),o.instance&&o.instance.domain([u.start(),u.end()]),u):a.domain()},u.range=function(t){return arguments.length?(a.range(t),u):a.range()},u.start=function(){return u.domain()[0]},u.end=function(){return u.domain()[this.domain().length-1]},u.min=function(){return Math.min(this.start(),this.end())},u.max=function(){return Math.max(this.start(),this.end())},u.classify=function(t){for(var e=(u.start()-u.end())/t,n=[u.end()],i=[],r=e/2,a=0;a<t;a++){var o=n[n.length-1]||0,s=o+e,c=u(o+r);n.push.apply(n,[s,s]),i.push.apply(i,[c,c])}return n.pop(),u.domain(n),u.range(i),u},u.copy=function(){var t=ya(n,i,r);return t.domain(u.domain()),t.range(u.range()),t.clamp(a.clamp()),t},u.norm=function(t){return pa(o,u),o.instance(t)},u.normInvert=function(t){return pa(o,u),o.instance.invert(t)};var c=function(t,e){var n=+t.min,i=+t.max,r=0,a=1;if(e&&e[0]){var o=e.map(function(t){return t.min()}).filter(function(t){return!isNaN(t)}),s=e.map(function(t){return t.max()}).filter(function(t){return!isNaN(t)});if(r=o.length?Math.min.apply(Math,nt(o)):Number.NaN,a=s.length?Math.max.apply(Math,nt(s)):Number.NaN,isNaN(r)||isNaN(a))r=-1,a=1;else if(r===a&&0===r)r=-1,a=1;else if(r===a&&r)r-=Math.abs(.1*r),a+=Math.abs(.1*a);else if(!isNaN(t.expand)){var c=a-r;r-=c*t.expand,a+=c*t.expand}if(Array.isArray(t.include)){var u=t.include.filter(function(t){return!isNaN(t)});r=Math.min.apply(Math,nt(u).concat([r])),a=Math.max.apply(Math,nt(u).concat([a]))}}return{mini:isNaN(n)?r:n,maxi:isNaN(i)?a:i}}(s,i?i.fields:[]),l=c.mini,h=c.maxi;return u.domain([l,h]),u.range(s.invert?[1,0]:[0,1]),o.invert=s.invert,u}var va={padding:0,paddingInner:NaN,paddingOuter:NaN,align:.5,invert:!1,maxPxStep:NaN,range:[0,1]};function ma(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},c=Ti(),n={data:t,resources:e},u=ha(s,va,n),r=t.items||[],a={},i=[],o=[];function l(n,i){n.data=function(){return t},n.datum=function(t){return r[a[t]]},n.start=function(){return n.domain()[0]},n.end=function(){return n.domain()[n.domain().length-1]},n.labels=function(){return o},n.ticks=function(t){var e=0<arguments.length&&void 0!==t?t:{};return e.scale=n,function(t){var i=t.scale,e=i.domain(),r=i.data().items,a=i.labels?i.labels():e,o=i.bandwidth();return e.map(function(t,e){var n=i(t);return{position:n+o/2,label:"".concat(a[e]),data:r?r[e]:void 0,start:n,end:n+o}})}(e,i.trackBy)}}l(c,s),c.pxScale=function(t){var e=u.maxPxStep;if(isNaN(e))return c;var n=c.domain().length,i=Math.max(1,n-c.paddingInner()+2*c.paddingOuter());if(t<=i*e)return c;var r=c.copy();r.type=c.type,l(r,s);var a=i*e/t,o=(1-a)*c.align();return r.range(u.invert?[a+o,o]:[o,a+o]),r};for(var h="function"==typeof s.value?s.value:function(t){return t.datum.value},f="function"==typeof s.label?s.label:function(t){return t.datum.label},d=0;d<r.length;d++){var g=tt({datum:r[d]},n),p=h(g,d);-1===i.indexOf(p)&&(i.push(p),o.push(f(g,d)),a[p]=d)}return c.domain(i),c.range(u.invert?u.range.slice().reverse():u.range),c.padding(isNaN(u.padding)?0:u.padding),isNaN(u.paddingInner)||c.paddingInner(u.paddingInner),isNaN(u.paddingOuter)||c.paddingOuter(u.paddingOuter),c.align(isNaN(u.align)?.5:u.align),c}var xa={depth:0};function ba(t,e,n){return t.ancestors().map(function(t){return e(tt({datum:t.data},n))}).reverse().slice(1).toString()}var wa=function(t){return t.min()},ka=function(t){return t.max()};function Ma(t,e){var n=t&&!isNaN(t.min),i=t&&!isNaN(t.max),r=n?+t.min:0,a=i?+t.max:1;if(e&&e.length){if(!n){var o=e.map(wa).filter(Y);r=o.length?Math.min.apply(Math,nt(o)):r}if(!i){var s=e.map(ka).filter(Y);a=s.length?Math.max.apply(Math,nt(s)):a}}return[r,a]}var _a={domain:[],range:[],invert:!1,min:NaN,max:NaN};function Ra(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=ya(t,e,n).clamp(!0).interpolate(Dr),r=ha(t,_a,{data:e,resources:n}),a=Array.isArray(r.domain)&&r.domain.length,o=Array.isArray(r.range)&&r.range.length,s=i;tt(!0,s,i);var c=O(Ma(r,e?e.fields:[]),2),u=c[0],l=c[1],h=a?r.domain.length:-1,f=n.theme?n.theme.palette("sequential",0<h?h:2):[],d=o?r.range:f;return s.range(r.invert?d.slice().reverse():d.slice()),s.domain(a?r.domain:function(t,e,n){var i=t.length;if(2===i)return[e,n];var r=[],a=(n-e)/(i-1);r.push(e);for(var o=1;o<i-1;o++)r.push(e+a*o);return r.push(n),r}(s.range(),u,l)),s}var Sa={domain:[],range:[],invert:!1,min:NaN,max:NaN,nice:!1};function Na(t,e,n,i){n=t[0],i=t&&2<=t.length?t[t.length-1]:i;var r=Ra().domain([n,i]).range(e);return[n].concat(nt(function(t){for(var e=[],n=0;n<t.length-1;n++)e.push((t[n]+t[n+1])/2);return e}(t)),[i]).map(function(t){return r(t)})}var za={domain:[],range:[]};var Aa={domain:[],range:[],unknown:void 0},Ca={domain:[],range:[],override:!1};var Ea=ue();function Oa(t){return t.root?"h-band":t.fields&&t.fields[0]?function(t){return-1!==t.map(function(t){return"dimension"===t.type()?"band":"linear"}).indexOf("linear")?"linear":"band"}(t.fields):"linear"}function Ta(t,e,n){var i=t.data;t.source&&(n.logger.warn("Deprecated: Scale data source configuration"),i={extract:[]},(Array.isArray(t.source)?t.source:[t.source]).forEach(function(t){i.extract.push({field:t})}));var r,a=fi(i,e,n),o=t.type||Oa(a);return"color"===o&&(o=a.fields&&a.fields[0]&&"dimension"===a.fields[0].type()?"categorical-color":"sequential-color"),n.scale.has(o)&&((r=(r=n.scale.get(o))(t,a,{theme:n.theme,logger:n.logger})).type=o),r}Ea("linear",ya),Ea("band",ma),Ea("h-band",function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r={data:n,resources:i},a=ha(e,va,r);a.ticks=ha(e.ticks,xa,r),a.value="function"==typeof e.value?e.value:function(t){return t.datum.value},a.label="function"==typeof e.label?e.label:function(t){return t.datum.value};function o(t){var e=String(t),n=h[e];return s(n?a.invert?n.rightEdge:n.leftEdge:e)}var s=ma(a),c=function(t,e,s){var c=e.ticks.depth,u=e.value,l=e.label,h=[],f=[],d={},g=[],p=0;if(!t)return{values:h,labels:f,items:d,ticks:g};t.eachAfter(function(t){if(0<t.depth){var e=ba(t,u,s),n=t.leaves()||[t],i=u(tt({datum:t.data},s)),r=l(tt({datum:t.data},s)),a=Array.isArray(t.children),o={key:e,count:n.length,value:i,label:r,leftEdge:ba(n[0],u,s),rightEdge:ba(n[Math.max(n.length-1,0)],u,s),node:t};a?(h.push("SPACER_".concat(p,"_SPACER")),p++):(h.push(e),f.push(r)),(c<=0&&!a||t.depth===c)&&g.push(o),d[e]=o}});var n=t.height-1;return 0<n&&h.splice(-n),{values:h,labels:f,items:d,ticks:g}}(n.root,a,r),u=c.values,l=c.labels,h=c.items,f=c.ticks;tt(!0,o,s),o.bandwidth=function(t){var e=h[String(t)],n=s.bandwidth();if(!e||e.isLeaf)return n;var i=o(e.leftEdge),r=o(e.rightEdge);return Math.abs(i-r)+n},o.step=function(t){var e=h[String(t)],n=e?e.count:1,i=s.step();return i*=n},o.data=function(){return n},o.datum=function(t){var e=h[String(t)];return e?e.node.data:null},o.copy=function(){return t(e,n,i)},o.labels=function(){return l},o.ticks=function(){return f.map(function(t){var e=o(t.key),n=o.bandwidth(t.key);return{position:e+n/2,label:t.label,data:t.node.data,start:e,end:e+n}})};var d=s.pxScale;return o.pxScale=function(t){return s=d(t),o},o.domain(u),o}),Ea("sequential-color",Ra),Ea("threshold-color",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=function t(){var e,n=[.5],i=[0,1],r=1;function a(t){return t<=t?i[vi(n,t,0,r)]:e}return a.domain=function(t){return arguments.length?(n=Ci.call(t),r=Math.min(n.length,i.length-1),a):n.slice()},a.range=function(t){return arguments.length?(i=Ci.call(t),r=Math.min(n.length,i.length-1),a):i.slice()},a.invertExtent=function(t){var e=i.indexOf(t);return[n[e-1],n[e]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return t().domain(n).range(i).unknown(e)},ki.apply(a,arguments)}(),r=ha(t,Sa,{data:e,resources:n}),a=Array.isArray(r.domain)&&r.domain.length,o=Array.isArray(r.range)&&r.range.length;function s(t){return j(t)?NaN:i(t)}Object.keys(i).forEach(function(t){return s[t]=i[t]});var c=O(Ma(r,e.fields),2),u=c[0],l=c[1],h=a?r.domain.length:-1,f=n.theme?n.theme.palette("sequential",0<h?h:2):[],d=o?r.range:f,g=[];return g=a?r.domain:r.nice?function(t,e,n){var i=2===t.length?10:Math.max(1,t.length),r=na().domain([e,n]).nice(i).ticks(i);if(!t||!t.length)return r;for(var a=Math.max(0,t.length-1);r.length>a;)r[0]-e<=n-r[r.length-1]?r.shift():r.pop();return r}(d,u,l):[u+(l-u)/2],d.length>g.length+1?g=function(t,e,n){var i=t.length;if(2===i)return[e+(n-e)/2];for(var r=[],a=(n-e)/i,o=1;o<i;o++)r.push(e+a*o);return r}(d,u,l):d.length<g.length+1&&(d=Na(g,d,u,l)),s.data=function(){return e},s.range(r.invert?d.slice().reverse():d),s.domain(g),s}),Ea("categorical-color",function(){var n,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=function(t,e,n){for(var i=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:{},a=2<arguments.length&&void 0!==n?n:{},o=Oi(),s={data:r,resources:a},c=ha(i,za,s),u="function"==typeof i.value?i.value:function(t){return t.datum.value},l="function"==typeof i.label?i.label:function(t){return t.datum.label},h=r.items||[],f={},d=[],g=[],p=0;p<h.length;p++){var y=tt({datum:h[p]},s),v=u(y,p);-1===d.indexOf(v)&&(d.push(v),g.push(l(y,p)),f[v]=p)}return o.data=function(){return r},o.labels=function(){return g},o.label=function(t){return g[d.indexOf(t)]},o.datum=function(t){return h[f[t]]},o.range(c.range),Array.isArray(c.domain)&&c.domain.length?o.domain(c.domain):o.domain(d),o}(t,e,i),a=i.theme,o=ha(t,Aa,{data:e,resources:i});if(o.explicit=ha(t.explicit,Ca,{data:e,resources:i}),n=Array.isArray(o.range)&&0!==o.range.length?o.range.slice():a?a.palette("categorical",r.domain().length).slice():[],o.unknown)r.unknown(o.unknown);else if(a&&a.palette("unknown")){var s=a.palette("unknown");r.unknown(s[0])}if(Array.isArray(o.explicit.domain)&&o.explicit.domain.length){for(var c=r.domain().slice(),u=o.explicit.domain,l=Array.isArray(o.explicit.range)?o.explicit.range:[],h=Math.floor(c.length/n.length),f=1;f<h+1;f*=2)n=n.concat(n);if(o.explicit.override)for(var d=0;d<u.length;d++){var g=c.indexOf(u[d]);-1<g&&(n[g]=l[d])}else u.map(function(t,e){return[c.indexOf(t),t,l[e]]}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){var e=c.indexOf(t[1]);-1!==e&&n.splice(e,0,t[2])});n.length=c.length}return r.range(n),r});var ja={};function Pa(){Pa.init.call(this)}ja.isObject=function(t){return"object"==typeof t&&null!==t},ja.isNumber=function(t){return"number"==typeof t},ja.isUndefined=function(t){return void 0===t},ja.isFunction=function(t){return"function"==typeof t};var Fa=Pa;(Pa.EventEmitter=Pa).prototype._events=void 0,Pa.prototype._maxListeners=void 0,Pa.defaultMaxListeners=10,Pa.init=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},Pa.prototype.setMaxListeners=function(t){if(!ja.isNumber(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},Pa.prototype.emit=function(t){var e,n,i,r,a,o;if(this._events||(this._events={}),"error"===t&&!this._events.error)throw(e=arguments[1])instanceof Error?e:Error('Uncaught, unspecified "error" event.');if(n=this._events[t],ja.isUndefined(n))return!1;if(ja.isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),a=1;a<i;a++)r[a-1]=arguments[a];n.apply(this,r)}else if(ja.isObject(n)){for(i=arguments.length,r=new Array(i-1),a=1;a<i;a++)r[a-1]=arguments[a];for(i=(o=n.slice()).length,a=0;a<i;a++)o[a].apply(this,r)}return!0},Pa.prototype.on=Pa.prototype.addListener=function(t,e){var n;if(!ja.isFunction(e))throw TypeError("listener must be a function");this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,ja.isFunction(e.listener)?e.listener:e),this._events[t]?ja.isObject(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,!ja.isObject(this._events[t])||this._events[t].warned||(n=ja.isUndefined(this._maxListeners)?Pa.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[t].length>n&&(this._events[t].warned=!0,ja.isFunction(console.error)&&console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),ja.isFunction(console.trace)&&console.trace());return this},Pa.prototype.once=function(t,e){if(!ja.isFunction(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},Pa.prototype.removeListener=function(t,e){var n,i,r,a;if(!ja.isFunction(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(n=this._events[t]).length,i=-1,n===e||ja.isFunction(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(ja.isObject(n)){for(a=r;0<a--;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},Pa.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],ja.isFunction(n))this.removeListener(t,n);else if(Array.isArray(n))for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},Pa.prototype.listeners=function(t){return this._events&&this._events[t]?ja.isFunction(this._events[t])?[this._events[t]]:this._events[t].slice():[]},Pa.listenerCount=function(t,e){return t._events&&t._events[e]?ja.isFunction(t._events[e])?1:t._events[e].length:0};var Ba={mixin:function(e){return Object.keys(Fa.prototype).forEach(function(t){e[t]=Fa.prototype[t]}),Fa.init(e),e}};function Da(){var a=0,o=0,s=0,c=0;s=s||a;var u={move:function(t){this.moveTo(s+t)},moveTo:function(t){var e=Math.max(a,Math.min(o-c,t));s!==e&&(s=e,u.emit("update"))},update:function(t){var e=!1,n=t.min;a=void 0===n?a:n;var i=t.max;o=void 0===i?o:i,void 0!==t.viewSize&&t.viewSize!==c&&(c=t.viewSize,e=!0);var r=Math.max(a,Math.min(o-c,s));s!==r&&(s=r,e=!0),e&&u.emit("update")},getState:function(){return{min:a,max:o,start:s,viewSize:c}}};return Ba.mixin(u),u}function La(t,e){return t<=e}function Ia(t,e){return t<e}function Wa(t,e,n){for(var i=0;i<t.length&&e>t[i];)++i;return t[i]===e&&n&&++i,i}function Ha(){var r,a,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},c=[];function n(){}return n.configure=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.includeMax,n=void 0===e||e,i=t.includeMin;r=n?La:Ia,a=void 0===i||i?La:Ia},n.add=function(t){var e,n=t.min,i=t.max,r=Wa(c,n),a=Wa(c,i,!0),o=[r,a-r];r%2==0&&o.push(n),a%2==0&&o.push(i);var s=c.join(",");return(e=c).splice.apply(e,o),s!==c.join(",")},n.remove=function(t){var e,n=t.min,i=t.max,r=Wa(c,n),a=Wa(c,i,!0),o=[r,a-r];r%2==1&&o.push(n),a%2==1&&o.push(i);var s=c.join(",");return(e=c).splice.apply(e,o),s!==c.join(",")},n.set=function(t){var e=c.join(",");return c=[],Array.isArray(t)?t.forEach(n.add):n.add(t),e!==c.join(",")},n.clear=function(){var t=0<c.length;return c=[],t},n.containsValue=function(t){return function(t,e,n,i){for(var r=t.length,a=1;a<r;a+=2)if(n(t[a-1],e)&&i(e,t[a]))return!0;return!1}(c,t,a,r)},n.containsRange=function(t){var e=t.min,n=t.max,i=Wa(c,e,!0),r=Wa(c,n);return i===r&&r%2==1},n.toggle=function(t){return n.containsRange(t)?n.remove(t):n.add(t)},n.ranges=function(){for(var t=[],e=1;e<c.length;e+=2)t.push({min:c[e-1],max:c[e]});return t},n.configure(t),n}function $a(){var n=[];function t(){}return t.add=function(t){return-1===n.indexOf(t)&&(n.push(t),!0)},t.remove=function(t){var e=n.indexOf(t);return-1!==e&&(n.splice(e,1),!0)},t.contains=function(t){return-1!==n.indexOf(t)},t.values=function(){return n.slice()},t.clear=function(){return n=[]},t.toString=function(){return n.join(";")},t}var Va={key:void 0,includeMin:!0,includeMax:!0};function qa(t){for(var e,n,i=t.items,r=t.collection,a=t.vc,o={},s=[],c=0,u=i.length;c<u;c++){r[e=i[c].key]||(r[e]=a()),n=i[c].values||[i[c].value];for(var l=0;l<n.length;l++)r[e].add(n[l])&&(o[e]=o[e]||[],o[e].push(n[l]))}for(var h=Object.keys(o),f=0,d=h.length;f<d;f++)e=h[f],s.push({id:e,values:o[e]});return s}function Ua(t){for(var e,n,i=t.items,r=t.collection,a={},o=[],s=0,c=i.length;s<c;s++)if(r[e=i[s].key]){n=i[s].values||[i[s].value];for(var u=0;u<n.length;u++)r[e].remove(n[u])&&(a[e]=a[e]||[],a[e].push(n[u]))}for(var l=Object.keys(a),h=0,f=l.length;h<f;h++)e=l[h],o.push({id:e,values:a[e]});return o}function Ya(t){for(var e,n,i={},r=0,a=t.length;r<a;r++){e=t[r].key,n=t[r].values||[t[r].value],i[e]||(i[e]=[]);for(var o=0;o<n.length;o++){-1===i[e].indexOf(n[o])&&i[e].push(n[o])}}return i}function Xa(t){var e=t.key,n=t.collection,i=t.obj,r=t.fn,a=t.value;n[e]||(n[e]=r()),i[e]=i[e]||[],i[e].push(a),n[e].add(a)}function Za(t,e){for(var n,i,r=[],a=Object.keys(t),o=function(t){return-1===e[n].indexOf(t)},s=0,c=a.length;s<c;s++)n=a[s],e[n]?(i=t[n].filter(o)).length&&r.push({id:n,values:i}):r.push({id:n,values:t[n]});return r}function Ja(t,e,n){var i=function(t,e){if(!Object.keys(e).length)return t;for(var n=t.length,i=Array(n),r=0;r<n;r++)i[r]=t[r].key in e?tt({},t[r],{key:e[t[r].key]}):t[r];return i}(e,n);return t&&t.length?t.reduce(function(t,e){return e(t)},i):i}function Ga(t){return t.replace(/(-[a-z])/g,function(t){return t.toUpperCase().replace("-","")})}function Ka(t,r,e){var a=e.ranges,n=e.interceptors,o=e.rc,i=e.aliases,s=e.rangeConfig,c=Ja(n["".concat(r,"Ranges")],t,i),u=!1;return c.forEach(function(t){var e=t.key;if(a[e]||(a[e]=o(s.sources[e]||s.default)),"set"===r)u=a[e][r](t.ranges||t.range)||u;else for(var n=t.ranges||[t.range],i=0;i<n.length;i++)u=a[e][r](n[i])||u}),u}function Qa(t){function r(){var e={values:{},ranges:{}};return Object.keys(f).forEach(function(t){e.values[t]=f[t].values()}),Object.keys(h).forEach(function(t){e.ranges[t]=h[t].ranges()}),e}var e=0<arguments.length&&void 0!==t?t:{},n=e.vc,o=void 0===n?$a:n,i=e.rc,a=void 0===i?Ha:i,s=!1,h={},f={},d={},c={sources:{},default:tt({},Va)},u={addValues:[],removeValues:[],toggleValues:[],setValues:[],addRanges:[],setRanges:[],removeRanges:[],toggleRanges:[]},l={ls:[],clear:function(){this.ls.forEach(function(t){return t.clear()})},start:function(){this.ls.forEach(function(t){return t.start()})},end:function(){this.ls.forEach(function(t){return t.end()})},update:function(){var e=r();this.ls.forEach(function(t){return t._state(e)})},updateValues:function(){var e=r();this.ls.forEach(function(t){return t._state({values:e.values})})},updateRanges:function(){var e=r();this.ls.forEach(function(t){return t._state({ranges:e.ranges})})}},g={configure:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(t.ranges)&&t.ranges.length&&(c={sources:{},default:tt({},Va)},t.ranges.forEach(function(e){var n={};Object.keys(Va).filter(function(t){return"key"!==t}).forEach(function(t){n[t]=void 0!==e[t]?e[t]:Va[t]}),void 0!==e.key?c.sources[e.key]=n:c.default=n}),Object.keys(h).forEach(function(t){return h[t].configure(c.sources[t]||c.default)}),g.emit("update",[],[]))},link:function(t){if(g===t)throw new Error("Can't link to self");l.ls.push(t),t._state(r())},_state:function(e){if(!e)return r();if(e.values){var n=[];Object.keys(e.values).forEach(function(t){f[t]&&e.values[t].join(";")===f[t].toString()||n.push({key:t,values:e.values[t]})}),Object.keys(f).forEach(function(t){e.values[t]||n.push({key:t,values:[]})}),n.length&&g.setValues(n)}if(e.ranges){var i=[];Object.keys(e.ranges).forEach(function(t){h[t]&&e.ranges[t].join(";")===h[t].toString()||i.push({key:t,ranges:e.ranges[t]})}),Object.keys(h).forEach(function(t){e.ranges[t]||i.push({key:t,ranges:[]})}),i.length&&g.setRanges(i)}},start:function(){s||(s=!0,g.emit("start"),l.start())},end:function(){s&&(s=!1,h={},f={},g.emit("end"),l.end())},isActive:function(){return s},clear:function(){var t=g.brushes().filter(function(t){return"value"===t.type&&t.brush.values().length}).map(function(t){return{id:t.id,values:t.brush.values()}}),e=0<Object.keys(h).length||t.length;h={},f={},e&&(g.emit("update",[],t),l.clear())},brushes:function(){var t=[];return t=(t=t.concat(Object.keys(h).map(function(t){return{type:"range",id:t,brush:h[t]}}))).concat(Object.keys(f).map(function(t){return{type:"value",id:t,brush:f[t]}}))},addValue:function(t,e){g.addValues([{key:t,value:e}])},addValues:function(t){var e=Ja(u.addValues,t,d),n=qa({vc:o,collection:f,items:e});g.emit("add-values",e),n.length&&(s||(s=!0,g.emit("start")),g.emit("update",n,[]),l.updateValues())}};return g.setValues=function(t){var e=Ja(u.setValues,t,d),n=function(t){for(var e,n,i=t.items,r=t.vCollection,a=t.vc,o={},s=Ya(i),c={},u=Object.keys(r),l=0,h=u.length;l<h;l++)c[n=u[l]]=r[n].values().slice(),delete r[n];for(var f=function(t){r[n]&&r[n].contains(t)||Xa({key:n,value:t,collection:r,obj:o,fn:a})},d=Object.keys(s),g=0,p=d.length;g<p;g++)s[n=d[g]].forEach(f);return e=Za(c,o),[Za(o,c),e]}({items:e,vCollection:f,vc:o});g.emit("set-values",e),(0<n[0].length||0<n[1].length)&&(s||(s=!0,g.emit("start")),g.emit("update",n[0],n[1]),l.updateValues())},g.removeValue=function(t,e){g.removeValues([{key:t,value:e}])},g.removeValues=function(t){var e=Ja(u.removeValues,t,d),n=Ua({collection:f,items:e});g.emit("remove-values",e),n.length&&(g.emit("update",[],n),l.updateValues())},g.addAndRemoveValues=function(t,e){var n=Ja(u.addValues,t,d),i=Ja(u.removeValues,e,d),r=qa({vc:o,collection:f,items:n}),a=Ua({collection:f,items:i});g.emit("add-values",n),g.emit("remove-values",i),(r.length||a.length)&&(s||(s=!0,g.emit("start")),g.emit("update",r,a),l.updateValues())},g.toggleValue=function(t,e){g.toggleValues([{key:t,value:e}])},g.toggleValues=function(t){var e=Ja(u.toggleValues,t,d),n=function(t){for(var e,n,i,r=t.items,a=t.values,o=t.vc,s={},c={},u=[],l=[],h=Ya(r),f=Object.keys(h),d=0,g=f.length;d<g;d++)for(var p=0,y=(i=h[e=f[d]]).length;p<y;p++)n=i[p],a[e]&&a[e].contains(n)?a[e]&&a[e].contains(n)&&(c[e]=c[e]||[],c[e].push(n),a[e].remove(n)):Xa({key:e,value:n,collection:a,obj:s,fn:o});for(var v=Object.keys(s),m=0,x=v.length;m<x;m++)e=v[m],u.push({id:e,values:s[e]});for(var b=Object.keys(c),w=0,k=b.length;w<k;w++)e=b[w],l.push({id:e,values:c[e]});return[u,l]}({items:e,values:f,vc:o});g.emit("toggle-values",e),(0<n[0].length||0<n[1].length)&&(s||(s=!0,g.emit("start")),g.emit("update",n[0],n[1]),l.updateValues())},g.containsValue=function(t,e){var n=d[t]||t;return!!f[n]&&f[n].contains(e)},g.addRange=function(t,e){g.addRanges([{key:t,range:e}])},g.addRanges=function(t){Ka(t,"add",{ranges:h,rc:a,interceptors:u,aliases:d,rangeConfig:c})&&(s||(s=!0,g.emit("start")),g.emit("update",[],[]),l.updateRanges())},g.removeRange=function(t,e){g.removeRanges([{key:t,range:e}])},g.removeRanges=function(t){Ka(t,"remove",{ranges:h,rc:a,interceptors:u,aliases:d,rangeConfig:c})&&(s||(s=!0,g.emit("start")),g.emit("update",[],[]),l.updateRanges())},g.setRange=function(t,e){g.setRanges([{key:t,range:e}])},g.setRanges=function(t){Ka(t,"set",{ranges:h,rc:a,interceptors:u,aliases:d,rangeConfig:c})&&(s||(s=!0,g.emit("start")),g.emit("update",[],[]),l.updateRanges())},g.toggleRange=function(t,e){g.toggleRanges([{key:t,range:e}])},g.toggleRanges=function(t){Ka(t,"toggle",{ranges:h,rc:a,interceptors:u,aliases:d,rangeConfig:c})&&(s||(s=!0,g.emit("start")),g.emit("update",[],[]),l.updateRanges())},g.containsRangeValue=function(t,e){var n=d[t]||t;return!!h[n]&&h[n].containsValue(e)},g.containsRange=function(t,e){var n=d[t]||t;return!!h[n]&&h[n].containsRange(e)},g.containsMappedData=function(t,e,n){for(var i,r,a,o,s=[],c=Object.keys(t),u=0,l=c.length;u<l;u++){if("value"===(i=c[u]))r=t,s[u]={key:"",i:u,bool:!1};else{if("source"===i)continue;r=t[i],s[u]={key:i,i:u,bool:!1}}void 0!==(a=r.source&&r.source.field)&&(void 0!==r.source.key&&(a="".concat(r.source.key,"/").concat(a)),a in d&&(a=d[a]),o=r.value,h[a]?s[u].bool=Array.isArray(o)?h[a].containsRange({min:o[0],max:o[1]}):h[a].containsValue(o):f[a]&&f[a].contains(o)&&(s[u].bool=!0))}return e?(s=s.filter(function(t){return-1!==e.indexOf(t.key)}),"and"===n?!!s.length&&!s.some(function(t){return!1===t.bool}):"xor"===n?!!s.length&&s.some(function(t){return t.bool})&&s.some(function(t){return!1===t.bool}):s.some(function(t){return t.bool})):s.some(function(t){return t.bool})},g.intercept=function(t,e){var n=Ga(t);u[n]&&u[n].push(e)},g.removeInterceptor=function(t,e){var n=Ga(t);if(u[n]){var i=u[n].indexOf(e);-1!==i&&u[n].splice(i,1)}},g.removeAllInterceptors=function(t){var e=[];if(t){var n=Ga(t);u[n]&&u[n].length&&e.push({name:t,handlers:u[n]})}else Object.keys(u).forEach(function(t){u[t].length&&e.push({name:function(t){return t.replace(/([A-Z])/g,function(t){return"-".concat(t.toLowerCase())})}(t),handlers:u[t]})});e.forEach(function(e){e.handlers.slice().forEach(function(t){return g.removeInterceptor(e.name,t)})})},g.addKeyAlias=function(t,e){d[t]=e},g.removeKeyAlias=function(t){delete d[t]},Ba.mixin(g),g}ue();function to(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var eo=2*Math.PI,no=function e(n,i){var r=Math.asin(1/(n=Math.max(1,n)))*(i/=eo);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/i)}return t.amplitude=function(t){return e(t,i*eo)},t.period=function(t){return e(n,t)},t}(1,.3);function io(t,e){return t.data?t.data.value:"text"===t.type?t.text:e}var ro={fontFamily:"Arial",fontSize:"13px",color:"#595959",backgroundColor:"#ffffff",stroke:"#000000",strokeWidth:0,$fill:"#333333"},ao=/^\$/;function oo(t){var e=et(t);return"object"!==e&&"function"!==e&&"undefined"!==e}function so(t,e,n){var i=t[e];i&&i.scale&&i.scale.pxScale?i.scale=i.scale.pxScale(n):i&&i.pxScale&&(t[e]=i.pxScale(n))}function co(t,e){return t.pxScale?t.pxScale(e):t}var uo={normalizeSettings:function(t,a,o){var s=tt({},t),c=tt({},a);return Object.keys(s).forEach(function(t){c[t]={};var e=s[t],n=et(e);if("function"==typeof e)c[t].fn=e;else if(oo(e)){var i=a[t];"string"==typeof i&&ao.test(i)&&(i=ro[i]);var r=et(i);c[t]="undefined"===r?e:r===n?e:i}else e&&"object"===et(e)&&("function"==typeof e.fn&&(c[t].fn=e.fn),void 0!==e.scale&&(c[t].scale=o.scale(e.scale)),"string"==typeof e.ref&&(c[t].ref=e.ref))}),Object.keys(a).forEach(function(t){if(!(t in s)){var e=a[t];"string"===et(e)&&ao.test(e)?c[t]=ro[e]:c[t]=e}}),c},resolveForItem:function(t,e,n){for(var i={},r=Object.keys(e),a=r.length,o=t.datum,s=t.datum,c=0;c<a;c++){var u=r[c],l=e[u],h="object"===et(s)&&void 0!==l,f=h&&"string"==typeof l.ref,d=h&&u in s,g=f?s[l.ref]:d?s[u]:o;oo(l)?i[u]=l:h&&l.fn?(l.scale&&(t.scale=l.scale),i[u]=l.fn.call(null,t,n)):h&&l.scale&&g?(i[u]=l.scale(g.value),l.scale.bandwidth&&(i[u]+=l.scale.bandwidth()/2)):f&&g?i[u]=g.value:l.fn?i[u]=l.fn.call(null,t,n):i[u]=l}return i},updateScaleSize:so};function lo(p,t){var y=1<arguments.length&&void 0!==t?t:uo,v={};return{resolve:function(t){var e=t.data,n=t.settings,i=t.defaults,r=void 0===i?{}:i,a=t.scaled,o=v.norm=y.normalizeSettings(n,r,p.chart),s={scale:p.chart.scale,formatter:p.chart.formatter};a&&Object.keys(a).forEach(function(t){o[t]&&y.updateScaleSize(o,t,a[t])});var c=[];if(!e||!Array.isArray(e.items)){var u={data:e,resources:s},l=y.resolveForItem(u,v.norm,-1);return{settings:v.norm,item:l}}for(var h,f=0,d=e.items.length;f<d;f++){h={datum:e.items[f],data:e,resources:s};var g=y.resolveForItem(h,v.norm,f);g.data=e.items[f],c.push(g)}return{settings:v.norm,items:c}}}}function ho(r,t){var e=t.context,n=t.data,i=t.style,a=t.filter,c=t.mode,u=r.chart.brush(e),l=n,h=i.active||{},f=i.inactive||{},d=[];Object.keys(h).forEach(function(t){d.push(t)}),Object.keys(f).forEach(function(t){-1===d.indexOf(t)&&d.push(t)});function g(){var t=function n(t){return(0<arguments.length&&void 0!==t?t:[]).reduce(function(t,e){return Array.isArray(e.children)?t.push.apply(t,nt(n(e.children))):t.push(e),t},[])}(r.nodes);return"function"==typeof a&&(t=t.filter(a)),t}function o(){for(var a,o=g(),t=o.length,s=!1,e=function(e){if(!(a=o[e].data))return"continue";o[e].__style||(o[e].__style={},d.forEach(function(t){o[e].__style[t]=o[e][t]}));var n=u.containsMappedData(a,l,c),t=v.indexOf(o[e]),i=!1;if(n&&-1===t?(v.push(o[e]),i=!0):n||-1===t||(v.splice(t,1),i=!0),i||m){var r=tt({},o[e],o[e].__style);d.forEach(function(t){o[e][t]=n&&t in h?"function"==typeof h[t]?h[t].call(null,r):h[t]:!n&&t in f?"function"==typeof f[t]?f[t].call(null,r):f[t]:o[e].__style[t]}),s=!0}},n=0;n<t;n++)e(n);return m=!1,s}function s(){for(var n=g(),t=n.length,e=function(e){if(!n[e].data)return"continue";n[e].__style=n[e].__style||{},d.forEach(function(t){n[e].__style[t]=n[e][t],t in f&&(n[e][t]="function"==typeof f[t]?f[t].call(null,n[e]):f[t])})},i=0;i<t;i++)e(i);m=!0,v.length=0,r.renderer.render(r.nodes)}function p(){for(var n=g(),t=n.length,e=function(e){n[e].__style&&(Object.keys(n[e].__style).forEach(function(t){n[e][t]=n[e].__style[t]}),n[e].__style=void 0)},i=0;i<t;i++)e(i);v.length=0,r.renderer.render(r.nodes)}function y(){o()&&r.renderer.render(r.nodes)}var v=[],m=!1;return u.on("start",s),u.on("end",p),u.on("update",y),{isActive:function(){return u.isActive()},update:function(){v.length=0,m=!0,o()},cleanUp:function(){u.removeListener("start",s),u.removeListener("end",p),u.removeListener("update",y)}}}function fo(t){for(var e=t.nodes,n=t.action,i=t.chart,r=t.trigger,a=[],o=0;o<e.length;o++){var s=e[o].data;null!==s&&a.push(s)}!function(t){var e=t.dataPoints,n=t.action,i=t.chart,r=t.trigger;if(r){var a=r.data||[""],o={items:[],actionFn:"toggleRanges"},s={items:[],actionFn:"toggleValues"};-1!==["add","remove","set","toggle"].indexOf(n)&&(o.actionFn="".concat(n,"Ranges"),s.actionFn="".concat(n,"Values"));for(var c=function(t){var i=e[t];if(!i)return"continue";a.forEach(function(t){var e=i&&!t?i:i[t];if(e){var n={key:e.source.field};void 0!==e.source.key&&(n.key="".concat(e.source.key,"/").concat(e.source.field)),Array.isArray(e.value)?(n.range={min:e.value[0],max:e.value[1]},o.items.push(n)):(n.value=e.value,s.items.push(n))}})},u=0;u<e.length;u++)c(u);r.contexts.forEach(function(t){o.items.length?i.brush(t)[o.actionFn](o.items):i.brush(t)[s.actionFn](s.items)})}}({dataPoints:a,action:n,chart:i,trigger:r})}function go(t){var e=t.collisions,n=t.t,i=t.config,r=t.action,a=[],o=!1;return 0<e.length&&(a=e,o=!0,"stop"===n.propagation&&(a=[e[e.length-1]])),fo({nodes:a.map(function(t){return t.node}),action:r,chart:i.chart,data:i.data,trigger:n}),o}function po(t,e,n){var i=n.element().getBoundingClientRect(),r=st(t)?function(t,e){return 1!==t.changedTouches.length?null:{x:t.changedTouches[0].clientX-e.left,y:t.changedTouches[0].clientY-e.top}}(t,i):function(t,e){return{x:t.clientX-e.left,y:t.clientY-e.top}}(t,i);return null===r||r.x<0||r.y<0||r.x>i.width||r.y>i.height?[]:(0<e.touchRadius&&st(t)&&(r={cx:r.x,cy:r.y,r:e.touchRadius}),n.itemsAt(r))}function yo(t,e,n){return t?"function"==typeof t?t(e):t:n}var vo={fill:"fill",stroke:"stroke",opacity:"opacity",strokeWidth:"stroke-width",strokeLinejoin:"stroke-linejoin",fontFamily:"font-family",fontSize:"font-size",baseline:"dominant-baseline",dominantBaseline:"dominant-baseline",anchor:"text-anchor",textAnchor:"text-anchor",maxWidth:"maxWidth",transform:"transform",strokeDasharray:"stroke-dasharray",id:"id"};function mo(t,e){for(var n=!(1<arguments.length&&void 0!==e)||e,i="",r=0;r<t.length;r++){var a=t[r];i+=0===r?"M".concat(a.x," ").concat(a.y):"L".concat(a.x," ").concat(a.y),i+=" "}return n&&(i+="Z"),i}function xo(t,e,n,i){var r=n/2,a=t-i/2,o=e-i/2,s=t-r,c=e-r;return[{x:a,y:o},{x:a,y:c},{x:a+i,y:c},{x:a+i,y:o},{x:s+n,y:o},{x:s+n,y:o+i},{x:a+i,y:o+i},{x:a+i,y:c+n},{x:a,y:c+n},{x:a,y:o+i},{x:s,y:o+i},{x:s,y:o}]}function bo(t){return-t/180*Math.PI}function wo(t){return function(t){var e=(.5*(Math.floor(t/Math.PI*2)+2)+.25)*Math.PI,n=Math.cos(Math.abs(e-t))*Math.sqrt(2),i=n*Math.cos(t),r=n*Math.sin(t);return{x1:i<0?1:0,y1:r<0?1:0,x2:0<=i?i:1+i,y2:0<=r?r:1+r}}(bo(t))}function ko(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Mo(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _o(t,e){return{x:t.x*e,y:t.y*e}}function Ro(t,e){return t.x-e.x}function So(t,e){return t.y-e.y}function No(t,e){return Math.pow(Ro(t,e),2)+Math.pow(So(t,e),2)}function zo(t,e){return Math.sqrt(No(t,e))}function Ao(t,e){return t.x*e.x+t.y*e.y}function Co(t,e,n){var i=2<arguments.length&&void 0!==n?n:{x:0,y:0},r=Math.cos(e),a=Math.sin(e),o=Mo(t,i);return ko({x:r*o.x-a*o.y,y:a*o.x+r*o.y},i)}var Eo={up:0,down:180,left:90,right:-90};var Oo=ue();function To(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Oo.get(t.type);if(e){var n=e(t);return function(e,t){var n=1<arguments.length&&void 0!==t?t:{};Object.keys(n).forEach(function(t){void 0!==vo[t]&&"transform"!==t&&(e[t]=n[t])})}(n,t),void 0!==t.data&&(n.data=t.data),n}return e}Oo.add("circle",function(t){return{type:"circle",fill:"black",cx:t.x,cy:t.y,r:t.size/2}}),Oo.add("diamond",function(t){var e=t.size,n=t.x-e/2,i=t.y-e/2;return{type:"path",fill:"black",d:mo([{x:n,y:i+e/2},{x:n+e/2,y:i},{x:n+e,y:i+e/2},{x:n+e/2,y:i+e},{x:n,y:i+e/2}])}}),Oo.add("saltire",function(t){var e=bo(45),n=t.size/2,i=isNaN(t.width)?n/2:t.width,r=Math.min(i,n),a=t.size,o=Math.sin(Math.asin(-e))*(r/2);a+=2*(n/Math.sin(-e)-n),a-=2*o;var s={x:t.x,y:t.y};return{type:"path",fill:"black",d:mo(xo(t.x,t.y,a,r).map(function(t){return Co(t,e,s)}))}}),Oo.add("square",function(t){var e=t.size;return{type:"rect",fill:"black",x:t.x-e/2,y:t.y-e/2,width:e,height:e}}),Oo.add("triangle",function(t){var e=t.size,n={x:t.x,y:t.y},i=Eo[t.direction]||0,r=e/2,a=t.x-r,o=t.y-r,s=[{x:a,y:o+e},{x:a+r,y:o},{x:a+e,y:o+e},{x:a,y:o+e}],c=bo(i);return{type:"path",fill:"black",d:mo(s=s.map(function(t){return Co(t,c,n)}))}}),Oo.add("line",function(t){var e="vertical"===t.direction,n=t.size/2,i=t.x,r=t.y;return{type:"line",stroke:"black",strokeWidth:1,x1:i-(e?0:n),y1:r-(e?n:0),x2:i+(e?0:n),y2:r+(e?n:0),collider:function(t){var e=t.x,n=t.y,i=t.size,r=i/2;return{type:"rect",x:e-r,y:n-r,width:i,height:i}}(t)}}),Oo.add("star",function(t){for(var e=t.size,n=[],i=e/2,r=t.points||5,a=Math.min(t.innerRadius||e/2,e)/2,o=isNaN(t.startAngle)?90:t.startAngle,s=360/r,c=1;c<=r;c++){var u=s*c+o,l=bo(u),h=bo(u+s/2),f=Math.sin(l),d=Math.cos(l),g=Math.sin(h),p=Math.cos(h);n.push({x:t.x+d*i,y:t.y+f*i}),n.push({x:t.x+p*a,y:t.y+g*a})}return{type:"path",fill:"black",d:mo(n)}}),Oo.add("n-polygon",function(t){for(var e=[],n=t.size/2,i=Math.max(isNaN(t.sides)?6:t.sides,3),r=360/i,a=isNaN(t.startAngle)?0:t.startAngle,o=1;o<=i;o++){var s=bo(r*o+a),c=Math.sin(s),u=Math.cos(s);e.push({x:t.x+u*n,y:t.y+c*n})}return{type:"path",fill:"black",d:mo(e)}}),Oo.add("cross",function(t){var e=t.x,n=t.y,i=t.size/2,r=isNaN(t.width)?i/2:t.width,a=Math.min(r,i);return{type:"path",fill:"black",d:mo(xo(e,n,t.size,a))}}),Oo.add("bar",function(t){var e={x:t.x,y:t.y},n="vertical"===t.direction,i=t.size/2,r=i/2/2,a=[{x:e.x-i,y:e.y+r},{x:e.x-i,y:e.y-r},{x:e.x+i,y:e.y-r},{x:e.x+i,y:e.y+r}];if(n){var o=bo(90);a=a.map(function(t){return Co(t,o,e)})}var s=I(a);return s.type="rect",s.fill="black",s});var jo=function(e){return["on","preferredSize","created","beforeMount","mounted","resize","beforeUpdate","updated","beforeRender","render","beforeUnmount","beforeDestroy","destroyed","defaultSettings","data","settings","formatter","scale","chart","dockConfig","mediator","style","resolver","registries","_DO_NOT_USE_getInfo","symbol","isVisible"].some(function(t){return t===e})};function Po(e,n,t){var i=n.require,r=void 0===i?[]:i,a=n.mediator||{},o=t.settings,s=t.formatter,c=t.scale,u=t.data,l=t.renderer,h=t.chart,f=t.dockConfig,d=t.mediator,g=t.instance,p=t.rect,y=t.style,v=t.registries,m=t.resolver,x=t.update,b=t._DO_NOT_USE_getInfo,w=t.symbol,k=t.isVisible;e.emit=function(){},k&&(e.isVisible=k),Object.defineProperty(e,"settings",{get:o}),Object.defineProperty(e,"data",{get:u}),Object.defineProperty(e,"formatter",{get:s}),Object.defineProperty(e,"scale",{get:c}),Object.defineProperty(e,"mediator",{get:d}),Object.defineProperty(e,"style",{get:y}),Object.defineProperty(e,"registries",{get:v}),p&&Object.defineProperty(e,"rect",{get:p}),b&&(e._DO_NOT_USE_getInfo=b),Object.keys(n).forEach(function(t){jo(t)||("function"==typeof n[t]?e[t]=n[t].bind(e):e[t]=n[t])}),r.forEach(function(t){"renderer"===t?Object.defineProperty(e,"renderer",{get:l}):"chart"===t?Object.defineProperty(e,"chart",{get:h}):"dockConfig"===t?Object.defineProperty(e,"dockConfig",{get:f}):"instance"===t?Object.defineProperty(e,"instance",{get:g}):"update"===t&&x?Object.defineProperty(e,"update",{get:x}):"resolver"===t?Object.defineProperty(e,"resolver",{get:m}):"symbol"===t&&Object.defineProperty(e,"symbol",{get:w})}),Object.keys(a).forEach(function(t){e.mediator.on(t,a[t].bind(e))})}function Fo(e,t,n){function i(t){return e[t]?(n.warn("Deprecation Warning the ".concat(t," property should be moved into layout: {} property")),e[t]):e.layout?e.layout[t]:void 0}var r={};return r.displayOrder=i("displayOrder"),r.dock=i("dock"),r.prioOrder=i("prioOrder"),r.minimumLayoutMode=i("minimumLayoutMode"),e.layout=e.layout||{},e.layout.displayOrder=void 0!==r.displayOrder?r.displayOrder:e.layout.displayOrder,e.layout.prioOrder=void 0!==r.prioOrder?r.prioOrder:e.layout.prioOrder,e.layout.dock=r.dock||e.layout.dock,e.layout.minimumLayoutMode=r.minimumLayoutMode||e.layout.minimumLayoutMode,r.show=e.show,r.preferredSize=t,r}function Bo(n,r,i){Object.keys(i.on||{}).forEach(function(t){n.eventListeners=n.eventListeners||[];var e=i.on[t].bind(n);n.eventListeners.push({event:t,listener:e}),r.on(t,e)}),n.emit=function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return r.emit.apply(r,[t].concat(n))}}function Do(h,t){var e,n,i,r,a,o=1<arguments.length&&void 0!==t?t:{},s=h.defaultSettings,c=void 0===s?{}:s,u=h._DO_NOT_USE_getInfo,l=void 0===u?function(){return{}}:u,f=o.chart,d=o.container,g=o.mediator,p=o.registries,y=o.theme,v=o.renderer,m=Ba.mixin({}),x=o.settings||{},b=tt(!0,{},c,x),w=[],k=lo({chart:f}),M=!1,_={nodes:[],chart:f,config:b.brush||{},renderer:null},R={tap:[],over:[]},S=[],N={},z=tt({},x);function A(c,t,e){var u=1<arguments.length&&void 0!==t?t:function(){},l=2<arguments.length&&void 0!==e&&e;return function(){for(var t,e,n,i=void 0!==h[c],r=void 0!==x[c],a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];i&&("function"==typeof h[c]?t=(e=h[c]).call.apply(e,[N].concat(o)):l&&(t=h[c]));r&&("function"==typeof x[c]?t=(n=x[c]).call.apply(n,[z].concat(o)):l&&(t=x[c]));return i||r||(t=u.call.apply(u,[N].concat(o))),t}}function C(){b.brush&&(b.brush.consume||[]).forEach(function(t){t.context&&t.style&&S.push(ho(_,t))})}function E(){b.brush&&(b.brush.trigger||[]).forEach(function(t){"over"===t.on?R.over.push(t):R.tap.push(t)})}var O=A("preferredSize",function(){return 0},!0),T=A("resize",function(t){return t.inner}),j=A("created"),P=A("beforeMount"),F=A("mounted"),B=A("beforeUnmount"),D=A("beforeUpdate"),L=A("updated"),I=A("beforeRender"),W=A("beforeDestroy"),H=A("destroyed"),$=h.render;Object.defineProperty(_,"data",{get:function(){return w}});var V=b.renderer||h.renderer,q=V?v||p.renderer(V)():v||p.renderer()();_.renderer=q;function U(t){t.key=b.key,t.element=q.element()}function Y(){}var X={resources:f.logger?{logger:f.logger()}:{}},Z=it(Fo(b,O,f.logger()),X);Y.dockConfig=function(){return Z},Y.set=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.settings&&(x=t.settings,b=tt(!0,{},c,t.settings),Z=it(Fo(b,O,f.logger()),X)),b.scale&&(e=f.scale(b.scale)),w=b.data?fi(b.data,{dataset:f.dataset,collection:f.dataCollection},{logger:f.logger()},f.dataCollection):e?e.data():[],"string"==typeof b.formatter?n=f.formatter(b.formatter):"object"===et(b.formatter)?n=f.formatter(b.formatter):e&&e.data().fields&&(n=e.data().fields[0].formatter()),a=y.style(b.style||{})},Y.resize=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=T({inner:t,outer:e});r=n?q.size(n):q.size(t),z.rect=tt(!0,{computedPhysical:r.computedPhysical,computedOuter:e.computed||e,computedInner:t.computed||t},t),r=tt(!0,{computedOuter:e.computed||e,computedInner:t.computed||t},r)},Y.getRect=function(){return z.rect};function J(){var t=q.renderArgs?q.renderArgs.slice(0):[];return t.push({data:w}),t}var G,K;Y.beforeMount=P,Y.beforeRender=function(){I({size:r})},Y.render=function(){var t=_.nodes=$.call.apply($,[N].concat(nt(J())));q.render(t),G=t},Y.hide=function(){Y.unmount(),q.size({x:0,y:0,width:0,height:0}),q.clear()},Y.beforeUpdate=function(){D({settings:b,data:w})},Y.update=function(){K&&K.stop();var t=_.nodes=$.call.apply($,[N].concat(nt(J())));S.forEach(function(t){return t.cleanUp()}),S.length=0,R.tap=[],R.over=[],b.brush&&(C(),E()),S.forEach(function(t){t.isActive()&&t.update()}),G&&b.animations&&b.animations.enabled?(K=function(t,e,n){var r,a=t.old,o=t.current,s=e.renderer,c=[],u={nodes:[],ips:[]},l={nodes:[],ips:[]},h={nodes:[],ips:[]},f=[],d=n.trackBy||io,g={start:function(){var i={};a.forEach(function(t,e){var n=d(t,e);i[n]=t}),o.forEach(function(t,e){var n=d(t,e);i[n]?(h.ips.push(Ir(i[n],t)),h.nodes.push(t),c.push(i[n]),i[n]=!1):(u.nodes.push(t),u.ips.push(Ir({r:.001,opacity:0},t)))}),Object.keys(i).forEach(function(t){i[t]&&(l.nodes.push(i[t]),l.ips.push(Ir(i[t],tt({},i[t],{r:1e-4,opacity:0}))))}),l.ips.length&&f.push({easing:to,duration:200,tweens:l.ips,nodes:[].concat(c)}),h.ips.length&&f.push({easing:to,duration:400,tweens:h.ips,nodes:[]}),u.ips.length&&f.push({easing:no,duration:1200,tweens:u.ips,nodes:nt(h.nodes)}),f.length&&(f[0].started=Date.now(),"undefined"!=typeof window&&(r=window.requestAnimationFrame(g.tick)))},tick:function(){var e=f[0];e||g.stop(),e.started||(e.started=Date.now());var n=(Date.now()-e.started)/e.duration,t=[],i=e.tweens.map(function(t){return t(e.easing(Math.min(1,n)))});t.push.apply(t,nt(i)),t.push.apply(t,nt(e.nodes)),s.render(t),1<=n&&(f.shift(),f.length||g.stop()),r=r&&window.requestAnimationFrame(g.tick)},stop:function(){r&&(window.cancelAnimationFrame(r),r=!1)}};return g}({old:G,current:t},{renderer:q},b.animations)).start():q.render(t),G=t,q.setKey&&"string"==typeof x.key&&q.setKey(x.key)},Y.updated=L,Y.destroy=function(){Y.unmount(),W(i),q.destroy(),H(),i=null};function Q(t){_.nodes=t,S.forEach(function(t){t.isActive()&&t.update()}),q.render(t)}return Po(N,h,{settings:function(){return b},data:function(){return w},scale:function(){return e},formatter:function(){return n},renderer:function(){return q},chart:function(){return f},dockConfig:function(){return Z},mediator:function(){return g},instance:function(){return z},rect:function(){return z.rect},style:function(){return a},update:function(){return Q},registries:function(){return p},resolver:function(){return k},symbol:function(){return To}}),Po(z,x,{settings:function(){return b},data:function(){return w},scale:function(){return e},formatter:function(){return n},renderer:function(){return q},chart:function(){return f},dockConfig:function(){return Z},mediator:function(){return g},style:function(){return a},_DO_NOT_USE_getInfo:l.bind(N),isVisible:function(){return M}}),Y.getBrushedShapes=function(e,i,r){var a=[];if(b.brush&&b.brush.consume){var o=f.brush(e),s=q.findShapes("*");b.brush.consume.filter(function(t){return t.context===e}).forEach(function(t){for(var e=0;e<s.length;e++){var n=s[e];n.data&&o.containsMappedData(n.data,r||t.data,i)&&(U(n),a.push(n),s.splice(e,1),e--)}})}return a},Y.findShapes=function(t){for(var e=q.findShapes(t),n=0,i=e.length;n<i;n++)U(e[n]);return e},Y.shapesAt=function(t){for(var e,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=q.itemsAt(t),r=0,a=(e=n&&"stop"===n.propagation&&0<i.length?[i.pop().node]:i.map(function(t){return t.node})).length;r<a;r++)U(e[r]);return e},Y.brushFromShapes=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.contexts=Array.isArray(e.contexts)?e.contexts:[],fo({nodes:t,action:e.action||"toggle",trigger:e,chart:f,data:_.data})},Y.mount=function(){i=q.element&&q.element()?i:q.appendTo(d),q.setKey&&"string"==typeof x.key&&q.setKey(x.key),b.brush&&(C(),E()),Bo(z,m,x),Bo(N,m,h),M=!0},Y.mounted=function(){return F(i)},Y.unmount=function(){[z,N].forEach(function(t){!function(t,i){t.eventListeners&&(t.eventListeners.forEach(function(t){var e=t.event,n=t.listener;i.removeListener(e,n)}),t.eventListeners.length=0),t.emit=function(){}}(t,m)}),R.tap=[],R.over=[],S.forEach(function(t){t.cleanUp()}),S.length=0,B(),M=!1},Y.onBrushTap=function(e){R.tap.forEach(function(t){!function(t){var e=t.e,n=t.t,i=t.config;return go({collisions:po(e,n,i.renderer),t:n,config:i,action:yo(n.action,e,"toggle")})}({e:e,t:t,config:_})||"stop"!==t.globalPropagation||f.toggleBrushing(!0)})},Y.onBrushOver=function(e){R.over.forEach(function(t){!function(t){var e=t.e,n=t.t,i=t.config;return go({collisions:po(e,n,i.renderer),t:n,config:i,action:yo(n.action,e,"set")})}({e:e,t:t,config:_})||"stop"!==t.globalPropagation||f.toggleBrushing(!0)})},Y.def=N,Y.ctx=z,Y.renderer=function(){return q},Y.set({settings:x}),j(),Y}var Lo=1e-12;function Io(t,e,n){return ko(function(t,e){var n=Ao(t,e)/Ao(e,e)||1;return{x:e.x*n,y:e.y*n}}(Mo(n,t),Mo(e,t)),t)}function Wo(t,e,n){return zo(t,n)+zo(e,n)-zo(t,e)<Lo}function Ho(t){return t.x1===t.x2&&t.y1===t.y2}function $o(t){return t.width<=0||t.height<=0}function Vo(t){return t.r<=0}function qo(t){return t.edges.length<=2}function Uo(t,e){return!Vo(t)&&No({x:t.cx,y:t.cy},e)<=Math.pow(t.r,2)}function Yo(t,e){if($o(e)||Vo(t))return!1;var n=e.width/2,i=e.height/2,r=e.x+n,a=e.y+i,o=t.r,s=t.cx,c=t.cy,u=Math.abs(s-r),l=Math.abs(c-a);return!(n+o<u||i+o<l)&&(u<=n||l<=i||Math.pow(u-n,2)+Math.pow(l-i,2)<=Math.pow(o,2))}function Xo(t,e){if(Vo(t)||Ho(e))return!1;var n=O(D(e),2),i=n[0],r=n[1];if(Uo(t,i)||Uo(t,r))return!0;var a={x:t.cx,y:t.cy},o=Io(i,r,a);return No(o,a)<=Math.pow(t.r,2)&&Wo(i,r,o)}function Zo(t,e){if(qo(e)||Vo(t))return!1;if(Jo(e,{x:t.cx,y:t.cy}))return!0;for(var n=e.edges.length,i=0;i<n;i++){if(Xo(t,W(e.edges[i])))return!0}return!1}function Jo(t,e){if(qo(t)||!ts(t.boundingRect(),e))return!1;for(var n=!0,i=t.vertices.length,r={x:t.xMin-1,y:e.y},a=0;a<i-1;a++){var o=W(t.edges[a]);o.y1<e.y&&o.y2<e.y||o.y1>e.y&&o.y2>e.y||(n=ns(o,W([r,e]))?!n:n)}return!n}function Go(t,e){if(qo(t))return!1;for(var n=0,i=t.edges.length;n<i;n++){if(ns(e,W(t.edges[n])))return!0}var r=O(D(e),2),a=r[0],o=r[1];return Jo(t,a)||Jo(t,o)}function Ko(t,e){if(qo(t))return!1;for(var n=0,i=t.edges.length;n<i;n++){if(es(e,W(t.edges[n])))return!0}var r=O(L(e),4),a=r[0],o=r[1],s=r[2],c=r[3];return Jo(t,a)||Jo(t,o)||Jo(t,s)||Jo(t,c)}function Qo(t,e){return!$o(t)&&!$o(e)&&(t.x<=e.x+e.width&&e.x<=t.x+t.width&&t.y<=e.y+e.height&&e.y<=t.y+t.height)}function ts(t,e){return!$o(t)&&(e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height)}function es(t,e){if(Ho(e)||$o(t))return!1;var n=O(D(e),2),i=n[0],r=n[1];if(ts(t,i)||ts(t,r))return!0;for(var a=L(t),o=a.length,s=0;s<o;s++){if(ns(W([a[s],a[3!==s?s+1:0]]),e))return!0}return!1}function ns(t,e){var n,i,r=O(D(t),2),a=r[0],o=r[1],s=O(D(e),2),c=s[0],u=s[1],l=Ro(o,a),h=So(o,a),f=Ro(u,c),d=So(u,c),g=Ro(a,c),p=So(a,c),y=d*l-f*h,v=f*p-d*g,m=l*p-h*g;if(0===l&&0===h)return!1;if(0===f&&0===d)return!1;if(0===y){if(0!=v||0!=m)return!1;if(0===l){if(0===h)return a.x===o.x&&a.y===o.y;n=So(c,a)/h,i=So(u,a)/h}else n=(c.x-a.x)/l,i=(u.x-a.x)/l;return!(n<0&&i<0||1<n&&1<i)}var x=v/y;return y=m/y,0<=x&&x<=1&&0<=y&&y<=1}function is(t,e){if(Ho(t))return!1;var n=O(D(t),2);return Wo(n[0],n[1],e)}var rs=/^\$/,as="@extend";function os(t){throw new Error('Cyclical reference for "'.concat(t,'"'))}function ss(t,e){return function i(t,e,r){if("string"==typeof t){var n=e[t];return-1!==r.indexOf(t)&&os(t),rs.test(n)?(r.push(t),i(n,e,r)):n}var a=t,o=tt(!0,{},e,t),s={};if(t[as]){var c=t[as];-1!==r.indexOf(c)&&os(c);var u=r.slice();u.push(c),a=tt(!0,{},i(o[c],e,u),t)}return Object.keys(a).forEach(function(t){var e=r.slice();if(t!==as&&!rs.test(t)){s[t]=a[t];var n=s[t];rs.test(n)&&n in o?(-1!==r.indexOf(n)&&os(n),e.push(n),"object"===et(n=o[n])?s[t]=i(n,o,e):rs.test(n)&&n in o?s[t]=i(n,o,e):s[t]=n):"object"===et(n)&&(s[t]=i(n,o,e))}}),s}(t,e,[])}function cs(t,e){function n(t){t.forEach(function(t){var e=Array.isArray(t.colors[0])?t.colors:[t.colors];a[t.key]={colors:e,sizes:e.map(function(t){return t?t.length:0})}})}var i=0<arguments.length&&void 0!==t?t:{},a={},r={palette:function(t,e){return function(t,e){var n=a[t];if(!n)return[];for(var i=n.sizes,r=0;r<i.length;r++)if(e<=i[r])return n.colors[r];return n.colors[i.length-1]}(t,e)},setPalettes:n,style:function(t){return ss(t,i)}};return n(1<arguments.length&&void 0!==e?e:[]),r}function us(t,e,n){var i=e.left-n.left,r=e.top-n.top,a=H(t),o=tt(!0,{},t);switch(a){case"circle":o.cx+=i,o.cy+=r;break;case"polygon":for(var s=0,c=o.vertices.length;s<c;s++){var u=o.vertices[s];u.x+=i,u.y+=r}break;case"line":o.x1+=i,o.y1+=r,o.x2+=i,o.y2+=r;break;case"point":case"rect":o.x+=i,o.y+=r}return o}var ls=function(e,t,n){var i=t.instance.renderer().element();if(!isNaN(n)&&i&&e&&e.children){var r=e.children[Math.max(0,n)];if(i!==r){var a=t.instance.def.additionalElements&&t.instance.def.additionalElements().filter(Boolean);e.insertBefore&&void 0!==r?(e.insertBefore(i,r),a&&a.forEach(function(t){e.insertBefore(t,i)})):(a&&a.forEach(function(t){e.appendChild(t,i)}),e.appendChild(i))}}};function hs(n,i,r){var a=[],o=0,t=r?i.slice().sort(function(t,e){return r[i.indexOf(t)]-r[i.indexOf(e)]}):i;t.forEach(function(t){a.push(o),o++;var e=t.instance.def.additionalElements&&t.instance.def.additionalElements();e&&(o+=e.length)}),t.forEach(function(t,e){return ls(n,t,a[e])})}function fs(c,t){function m(t,e){return h.component.has(t.type)?{instance:Do(h.component(t.type),{settings:t,chart:u,mediator:o,registries:h,theme:d,container:e}),settings:tt(!0,{},t),key:t.key,hasKey:void 0!==t.key}:(f.warn("Unknown component: ".concat(t.type)),!1)}var x=c.element,e=c.data,b=void 0===e?[]:e,n=c.settings,w=void 0===n?{}:n,i=c.on,r=void 0===i?{}:i,h=t.registries,f=t.logger,d=cs(t.style,t.palettes),a=[],u=tt({},c),o=function(){var t={};return Ba.mixin(t),t}(),k=[],M=[],g=null,p=null,y=null,s=[],v=function(){},_=function(){},R={},l=!1;function S(o,t){var s=1<arguments.length&&void 0!==t?t:function(){};return function(){for(var t,e,n="function"==typeof c[o],i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n?t=(e=c[o]).call.apply(e,[u].concat(r)):t=s.call.apply(s,[u].concat(r));return t}}function N(t){for(var e=0;e<k.length;e++)if(k[e].instance===t)return k[e];return null}function z(t){for(var e=0;e<k.length;e++){var n=k[e];if(n.hasKey&&n.key===t)return e}return-1}function A(t){var e=t.map(function(t){var e=t.instance.dockConfig();return{instance:t.instance,resize:t.instance.resize,preferredSize:e.computePreferredSize.bind(e),settings:t.settings,layoutComponents:function(){}}}),n=ot(w.dockLayout?(f.warn('Deprecation Warning: "dockLayout" property should be renamed to "strategy"'),w.dockLayout):w.strategy),i=function(t){if("function"!=typeof t.getBoundingClientRect)return{x:0,y:0,width:0,height:0};var e=t.getBoundingClientRect();return{x:0,y:0,width:e.width,height:e.height}}(x),r=n.layout(i,e),a=r.visible,o=r.hidden,s=r.order;return{visible:a.map(function(t){return N(t.instance)}),hidden:o.map(function(t){return N(t.instance)}),order:s}}function C(t,e,n){var i=(2<arguments.length&&void 0!==n?n:{}).partialData,r=e.formatters,a=void 0===r?{}:r,o=e.scales,s=void 0===o?{}:o,c=e.scroll,u=void 0===c?{}:c;v=function(t,e){var a=e.types,o=e.logger,s={},n=[];return Array.isArray(t)?n.push.apply(n,nt(t)):(o.warn('Deprecated: "data-source" configuration"'),n.push(t)),n.forEach(function(t,e){var n=a(t.type);if(n){var i=t.key;void 0===t.key&&(o.warn("Missing key for dataset. Using index '".concat(e,"' as key.")),i=e);var r=n({key:i,data:t.data,config:t.config});s[i]=r}}),function(t){return t?s[t]:s[Object.keys(s)[0]]}}(t,{logger:f,types:h.data}),i||Object.keys(R).forEach(function(t){return R[t].clear()}),e.palettes&&d.setPalettes(e.palettes),_=function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:fi,a={};return(t||[]).forEach(function(t){if(!t.key)throw new Error('Data collection is missing "key" property');if("object"===et(t.data)&&"collection"in t.data)throw new Error("Data config for collections may not reference other collections");a[t.key]=function(){return r(t.data,e,n)}}),function(t){var e,n;if("string"==typeof t?e=t:"object"===et(t)&&(e=t.key,n=t),!(e in a))throw new Error("Unknown data collection: ".concat(e));"function"==typeof a[e]&&(a[e]=a[e]());var i=a[e];if(n&&n.fields&&n.fields.filter){var r=i.fields.filter(n.fields.filter);i.fields.length!==r.length&&(i=tt(i,{fields:r}))}return i}}(e.collections,{dataset:v},{logger:f});var l={theme:d,logger:f};g=function(n,i,r,t){var a=3<arguments.length&&void 0!==t?t:Ta,o={};return{get:function(t){var e;return"string"==typeof t&&n[t]?e=t:"object"===et(t)&&"scale"in t&&n[t.scale]&&(e=t.scale),e?(o[e]=o[e]||a(n[e],i,r),o[e]):a(t,i,r)},all:function(){return Object.keys(n).forEach(this.get),o}}}(s,{dataset:v,collection:_},$({},l,{scale:h.scale})),p=function(n,i,r,t){var a=3<arguments.length&&void 0!==t?t:di,o={};return{get:function(t){var e;return"string"==typeof t&&n[t]?e=t:"object"===et(t)&&"formatter"in t&&n[t.formatter]?e=t.formatter:"object"===et(t)&&"type"in t&&n[t.type]&&(e=t.type),e?(o[e]=o[e]||a(n[e],i,r),o[e]):a(t||{},i,r)},all:function(){return Object.keys(n).forEach(this.get),o}}}(a,{dataset:v,collection:_},$({},l,{formatter:h.formatter})),y=function(t,e){var n,i,r,a,o,s,c={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(c[u]=(n=t[u],i=e?e[u]:null,s=void 0,r=n.min||0,a=n.max||0,o=n.viewSize||0,(s=i||Da()).update({min:r,max:a,viewSize:o}),s));return c}(u,y)}var E=S("created"),O=S("beforeMount"),T=S("mounted"),j=S("beforeUpdate"),P=S("updated"),F=S("beforeRender"),B=S("beforeDestroy"),D=S("destroyed");function L(t){var e=0<arguments.length&&void 0!==t?t:[],n={},i=e.filter(function(t){return!!t.key}).map(function(t){return t.key});s.forEach(function(t){t.key&&-1!==i.indexOf(t.key)?n[t.key]=t:t.destroy()}),s=e.map(function(t){var e=t.key&&n[t.key]?n[t.key]:h.interaction(t.type)(u,o,x);return e.set(t),e})}function I(t){var e=x.getBoundingClientRect(),n="clientX"in t?t.clientX:t.x,i="clientY"in t?t.clientY:t.y,r={x:n-e.left,y:i-e.top},a=[];return M.forEach(function(t){var e=t.instance.getRect();ts(e.computedPhysical?e.computedPhysical:{x:e.margin.left+e.x*e.scaleRatio.x,y:e.margin.top+e.y*e.scaleRatio.y,width:e.width*e.scaleRatio.x,height:e.height*e.scaleRatio.y},r)&&a.push(t)}),a}function W(){if(!a.length&&x){Object.keys(r).forEach(function(t){var e=r[t].bind(u);x.addEventListener(t,e),a.push({key:t,listener:e})});var i={},t=function(t){t.touches?(i.x=t.touches[0].clientX,i.y=t.touches[0].clientY,i.multiTouch=1<t.touches.length):(i.x=t.clientX,i.y=t.clientY,i.multiTouch=!1),i.time=Date.now(),i.comps=I(i)},e=function(t){var e=i.comps||I(t);if(!e.every(function(t){return t.instance.def.disableTriggers})&&("touchend"===t.type&&t.preventDefault(),function(t,e){var n=st(t),i=n?t.changedTouches[0]:t,r=Date.now()-e.time,a=isNaN(e.x)?0:Math.abs(i.clientX-e.x),o=isNaN(e.y)?0:Math.abs(i.clientY-e.y);return(0===t.button||n)&&!e.multiTouch&&a<=12&&o<=12&&r<=300}(t,i)))for(var n=e.length-1;0<=n;n--){if(e[n].instance.onBrushTap(t),l){l=!1;break}}},n=[];n.push({key:"mousedown",listener:t}),n.push({key:"mouseup",listener:e}),function(t){return"ontouchstart"in t&&"ontouchend"in t||1<navigator.maxTouchPoints}(x)&&(n.push({key:"touchstart",listener:t}),n.push({key:"touchend",listener:e})),n.push({key:"mousemove",listener:function(t){for(var e=I(t),n=e.length-1;0<=n;n--){if(e[n].instance.onBrushOver(t),l){l=!1;break}}}}),n.forEach(function(t){x.addEventListener(t.key,t.listener),a.push(t)})}}function H(){a.forEach(function(t){var e=t.key,n=t.listener;return x.removeEventListener(e,n)}),a.length=0}return u.update=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.partialData,i=e.excludeFromUpdate,r=void 0===i?[]:i;e.data&&(b=e.data),e.settings&&(w=e.settings,L(e.settings.interactions)),j(),C(b,w,{partialData:n});for(var a=w,o=a.formatters,s=a.scales,c=a.components,u=void 0===c?[]:c,l=function(t){var e=k[t];u.some(function(t){return e.hasKey&&e.key===t.key})||(k.splice(t,1),e.instance.destroy())},h=k.length-1;0<=h;h--)l(h);(k=u.map(function(t){var e=z(t.key);return-1<r.indexOf(t.key)?k[e]:-1===e?m(t,x):(k[e].updateWith={formatters:o,scales:s,data:b,settings:t},k[e])}).filter(function(t){return!!t})).forEach(function(t){t.updateWith&&t.instance.set(t.updateWith)}),k.forEach(function(t){t.updateWith&&t.instance.beforeUpdate()});var f,d=[],g=[];if(n)k.forEach(function(t){t.updateWith&&t.visible&&d.push(t)}),f=d;else{var p=A(k),y=p.visible,v=p.hidden;t=p.order,(f=M=y).forEach(function(t){t.updateWith&&t.visible?d.push(t):g.push(t)}),v.forEach(function(t){t.instance.hide(),t.visible=!1,delete t.updateWith})}g.forEach(function(t){return t.instance.beforeMount()}),g.forEach(function(t){return t.instance.mount()}),f.forEach(function(t){return t.instance.beforeRender()}),f.forEach(function(t){t.updateWith&&t.visible?t.instance.update():t.instance.render()}),n||hs(x,M,t),g.forEach(function(t){return t.instance.mounted()}),d.forEach(function(t){return t.instance.updated()}),M.forEach(function(t){delete t.updateWith,t.visible=!0}),P()},u.destroy=function(){B(),k.forEach(function(t){return t.instance.destroy()}),k=[],H(),L(),delete u.update,delete u.destroy,D()},u.getAffectedShapes=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"and",i=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0,a=[];return k.filter(function(t){return null==r||t.key===r}).forEach(function(t){a.push.apply(a,nt(t.instance.getBrushedShapes(e,n,i)))}),a},u.findShapes=function(e){var n=[];return M.forEach(function(t){n.push.apply(n,nt(t.instance.findShapes(e)))}),n},u.componentsFromPoint=function(t){return I(t).map(function(t){return t.instance.ctx})},u.shapesAt=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=[],i=x.getBoundingClientRect(),r=M;if(Array.isArray(e.components)&&0<e.components.length){var a=e.components.map(function(t){return t.key});r=M.filter(function(t){return-1!==a.indexOf(t.key)}).map(function(t){return{instance:t.instance,opts:e.components[a.indexOf(t.key)]}})}for(var o=r.length-1;0<=o;o--){var s=r[o],c=us(t,i,s.instance.renderer().element().getBoundingClientRect()),u=s.instance.shapesAt(c,s.opts),l=0<u.length&&"stop"===e.propagation;if(n.push.apply(n,nt(u)),0<n.length&&l)return n}return n},u.brushFromShapes=function(o){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{components:[]},c=s.components.map(function(t){return t.key});M.forEach(function(t){var e=c.indexOf(t.key);if(-1!==e){for(var n=[],i=0,r=o.length;i<r;i++){var a=o[i];a.key===t.key&&n.push(a)}t.instance.brushFromShapes(n,s.components[e])}})},u.scroll=function(t){return function(t,e){return e[t]||(e[t]=Da()),e[t]}(0<arguments.length&&void 0!==t?t:"default",y)},u.dataset=function(t){return v(t)},u.dataCollection=function(t){return _(t)},u.scales=function(){return g.all()},u.formatters=function(){return p.all()},u.brush=function(t){var e=0<arguments.length&&void 0!==t?t:"default";return R[e]||(R[e]=Qa()),R[e]},u.scale=function(t){return g.get(t)},u.formatter=function(t){return p.get(t)},u.toggleBrushing=function(t){l=void 0!==t?t:!l},u.component=function(t){var e=z(t);if(-1!==e)return k[e].instance.ctx},u.logger=function(){return f},u.theme=function(){return d},Object.defineProperty(u,"interactions",{get:function(){return{instances:s,on:function(){W(),s.forEach(function(t){return t.on()})},off:function(){H(),s.forEach(function(t){return t.off()})}}}}),E(),x&&(O(),x.innerHTML="",function(){var t=w.components,e=void 0===t?[]:t;F(),C(b,w),k=e.map(function(t){return m(t,x)}).filter(function(t){return!!t});var n=A(k),i=n.visible,r=n.hidden,a=n.order;M=i,r.forEach(function(t){t.instance.hide(),t.visible=!1}),i.forEach(function(t){return t.instance.beforeMount()}),i.forEach(function(t){return t.instance.mount()}),i.forEach(function(t){return t.instance.beforeRender()}),i.forEach(function(t){return t.instance.render()}),i.forEach(function(t){return t.instance.mounted()}),i.forEach(function(t){t.visible=!0}),hs(x,M,a)}(),W(),L(w.interactions),T(x),u.element=x),u}var ds=function(t){var e=ue(t);return e.prio=function(t){return t?e.default(t[0]):[e.default()]},e.types=function(){return e.getKeys()},e},gs=ue();var ps=function(t){return t.filter(function(t){return"number"==typeof t&&!isNaN(t)})},ys=function(t){return t.reduce(function(t,e){return t+e},0)},vs={first:function(t){return t[0]},last:function(t){return t[t.length-1]},min:function(t){var e=ps(t);return e.length?Math.min.apply(null,e):NaN},max:function(t){var e=ps(t);return e.length?Math.max.apply(null,e):NaN},sum:function(t){var e=ps(t);return e.length?e.reduce(function(t,e){return t+e},0):NaN},avg:function(t){var e=ps(t),n=e.length;return n?ys(e)/n:NaN}};function ms(i,r,a,o){var s={},c=o.field||(void 0!==i.field?r.field(i.field):null);return Object.keys(a).forEach(function(t){var e=a[t],n=s[t]={};-1!==["number","string","boolean"].indexOf(et(e))?(n.type="primitive",n.value=e):"function"==typeof e?(n.type="function",n.value=e,n.label=e,n.field=c):"object"===et(e)&&(e.fields?n.fields=e.fields.map(function(t){return ms(i,r,{main:t},o).main}):void 0!==e.field?(n.type="field",n.field=r.field(e.field),n.value=n.field.value,n.label=n.field.label):c&&(n.value=c.value,n.label=c.label,n.field=c),"function"==typeof e.filter&&(n.filter=e.filter),void 0!==e.value&&(n.value=e.value),void 0!==e.label&&(n.label=e.label),"function"==typeof e.reduce?n.reduce=e.reduce:e.reduce?n.reduce=vs[e.reduce]:n.field&&n.field.reduce&&(n.reduce="string"==typeof n.field.reduce?vs[n.field.reduce]:n.field.reduce),"function"==typeof e.reduceLabel?n.reduceLabel=e.reduceLabel:e.reduceLabel?n.reduceLabel=vs[e.reduceLabel]:n.field&&n.field.reduceLabel&&(n.reduceLabel="string"==typeof n.field.reduceLabel?vs[n.field.reduceLabel]:n.field.reduceLabel))}),s}function xs(t,e){var n=ms(t,e,{main:{value:t.value,label:t.label,reduce:t.reduce,filter:t.filter}},{}).main;return{props:ms(t,e,t.props||{},n),main:n}}function bs(t,e,n,i){for(var r,a=Array(t.length),o=Array(t.length),s=0;s<t.length;s++)r=i?t[s][i]:t[s],a[s]=r.value,o[s]=r.label;var c=e.reduce,u=e.reduceLabel,l=c?c(a):a,h={value:l,label:u?u(o,l):n?n(l):String(l)};return i&&t[0][i].source?h.source=t[0][i].source:!i&&t[0].source&&(h.source=t[0].source),h}function ws(t,e){var i=e.main,r=e.propsArr,a=e.props,n=[],o=i.field.formatter(),s={};return r.forEach(function(t){s[t]=a[t].field?a[t].field.formatter():function(t){return t}}),n.push.apply(n,nt(t.map(function(e){var n=bs(e.items,i,o);return r.forEach(function(t){n[t]=bs(e.items,a[t],s[t],t)}),n}))),n}function ks(t){var e=t.cfg,n=t.itemData,i=t.obj,r=t.target,a=t.tracker,o="function"===t.trackType?e.trackBy(n):n[e.trackBy],s=a[o];s||(s=a[o]={items:[],id:o},r.push(s)),s.items.push(i)}function Ms(t,e,n){var i=n.key,r={value:"function"==typeof t.value?t.value(e):void 0!==t.value?t.value:e};return r.label="function"==typeof t.label?t.label(e):void 0!==t.label?String(t.label):String(r.value),t.field&&(r.source={key:i,field:t.field.key()}),r}var _s=function(t){return t.filter(function(t){return"number"==typeof t&&!isNaN(t)})};function Rs(t){var e=t.key,n=t.data,i=t.cache,r=t.config;if(n){var a=n;"string"==typeof a&&(a=function(t){var e=t.data,n=t.config,i=e.split("\n"),r=i[0],a=i[1],o=",";if(n&&n.parse&&n.parse.delimiter)o=n.parse.delimiter;else if(r)for(var s=[/,/,/\t/,/;/],c=0;c<s.length;c++){var u=s[c];if(r&&a){if(u.test(r)&&u.test(a)&&r.split(u).length===a.split(u).length){o=u;break}}else u.test(r)&&(o=u)}return i.map(function(t){return t.split(o)})}({data:n,config:r})),Array.isArray(a)&&function(t){var e,n=t.source,i=t.data,r=t.cache,a=t.config,o=i,s=a&&a.parse;Array.isArray(i[0])?s&&!1===s.headers?e=i[0].map(function(t,e){return e}):(e=i[0],o=i.slice(1)):e=Object.keys(i[0]);var c,u=!!s&&"function"==typeof s.row&&s.row,l=e;l=s&&"function"==typeof s.fields?s.fields(l.slice()):e.map(function(t){return{key:t,title:t}}),Array.isArray(i[0])?c=l.map(function(){return[]}):(c={},l.forEach(function(t){c[t.key]=[]}));for(var h=0;h<o.length;h++){var f=u?u(o[h],h,l):o[h];if(f)if(Array.isArray(f))for(var d=0;d<l.length;d++)c[d].push(f[d]);else for(var g=0;g<l.length;g++)c[l[g].key].push(f[l[g].key])}for(var p=Array.isArray(c)?function(t){return c[t]}:function(t){return c[l[t].key]},y=0;y<l.length;y++){var v=p(y),m=_s(v),x=0<m.length,b=x?"measure":"dimension",w=x?Math.min.apply(Math,nt(m)):NaN,k=x?Math.max.apply(Math,nt(m)):NaN;r.fields.push(ci(tt({source:n,key:y,title:l[y].title,values:v,min:w,max:k,type:b},l[y]),{value:l[y].value,label:l[y].label}))}}({data:a,cache:i,source:e,config:r})}}function Ss(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.key,n=t.data,i=t.config,r={fields:[]},a={key:function(){return e},raw:function(){return n},field:function(t){return function(t,e){var n=e.cache;if("number"==typeof t)return n.fields[t];for(var i=0;i<n.fields.length;i++)if(n.fields[i].key()===t)return n.fields[i];for(var r=0;r<n.fields.length;r++)if(n.fields[r].title()===t)return n.fields[r];return null}(t,{cache:r,matrix:n})},fields:function(){return r.fields.slice()},extract:function(t){return function(t,a){var e=Array.isArray(t)?t:[t],y=[];return e.forEach(function(p){void 0!==p.field&&function(){var t=a.field(p.field),o=a.key();if(!t)throw Error("Field '".concat(p.field,"' not found"));for(var e=xs(p,a),s=e.props,n=e.main,c=Object.keys(s),u=!!p.trackBy,l=et(p.trackBy),h={},f=[],d=t.items(),g=[],i=function(i){var r=d[i];if(n.filter&&!n.filter(r))return"continue";var a=Ms(n,r,{key:o});c.forEach(function(t){var e=s[t],n=e.field?e.field.items()[i]:r;a[t]=Ms(e,n,{key:o})}),u&&ks({cfg:p,itemData:r,obj:a,target:f,tracker:h,trackType:l}),g.push(a)},r=0;r<d.length;r++)i(r);u?y.push.apply(y,nt(ws(f,{main:n,propsArr:c,props:s}))):y.push.apply(y,g)}()}),y}(t,a)},hierarchy:function(){return null}};return Rs({key:e,data:n,config:i,cache:r}),a}Ss.util={normalizeConfig:xs,collect:ws,track:ks};var Ns=ue();Ns.default("matrix"),Ns("matrix",Ss),Ns("default",Ss);var zs=ue();function As(t,e,n){return Math.max(t,Math.min(e,n))}function Cs(t){var e,n=t.item,i=t.value,r=t.boxCenter,a=t.rendWidth,o=t.rendHeight,s="x",c="y",u=a,l=o,h=i<.5?90:-90;return t.flipXY&&(s="y",c="x",u=o,l=a,h=i<.5?180:0),(0,t.symbol)(tt({},n.oob,(M(e={},s,r*u),M(e,c,Math.max(n.oob.size/2,Math.min(i*l,l-n.oob.size/2))),M(e,"startAngle",h),e)))}function Es(t){var e,n=t.item,i=t.boxWidth,r=t.boxPadding,a=t.rendWidth,o=t.rendHeight,s="x",c="y",u="width",l="height",h=a,f=o;t.flipXY&&(s="y",c="x",u="height",l="width",h=o,f=a);var d=function(t){var e=t.start,n=t.end,i=t.minPx,r=void 0===i?.1:i,a=t.maxPx,o=void 0===a?1:a,s=Math.max(e,n),c=Math.min(e,n),u=As(-.1,1.2,s),l=As(-.1,1.2,c),h=u*o-l*o,f=Math.max(r,h),d=(f-h)/2;return{actualDiff:f,startModifier:d,actualLow:l*o-d}}({start:n.start,end:n.end,minPx:n.box.minHeightPx,maxPx:f}),g=d.actualDiff,p=d.actualLow;return tt({},n.box,(M(e={type:"rect"},s,(r+n.major)*h),M(e,c,p),M(e,l,g),M(e,u,i*h),M(e,"data",n.data||{}),M(e,"collider",{type:null}),e))}function Os(t){var e,n=t.item,i=t.from,r=t.to,a=t.boxCenter,o=t.rendWidth,s=t.rendHeight,c="x1",u="y1",l="x2",h="y2",f=o,d=s;return t.flipXY&&(c="y1",u="x1",l="y2",h="x2",f=s,d=o),tt({},n.line,(M(e={type:"line"},h,Math.floor(i*d)),M(e,c,a*f),M(e,u,Math.floor(r*d)),M(e,l,a*f),M(e,"data",n.data||{}),M(e,"collider",{type:null}),e))}function Ts(t){var e,n=t.item,i=t.key,r=t.position,a=t.width,o=t.boxCenter,s=t.rendWidth,c=t.rendHeight,u="x1",l="y1",h="x2",f="y2",d=s,g=c;t.flipXY&&(u="y1",l="x1",h="y2",f="x2",d=c,g=s);var p=a/2;return tt({type:"line"},n[i],(M(e={},l,Math.floor(r*g)),M(e,u,(o-p)*d),M(e,f,Math.floor(r*g)),M(e,h,(o+p)*d),M(e,"r",p*d),M(e,"cx",o*d),M(e,"cy",r*g),M(e,"width",a*d),M(e,"data",n.data||{}),M(e,"collider",{type:null}),e))}function js(t){var e=t.width,n=t.height,i=t.flipXY,r=t.resolved,a=t.keys,o=t.symbol,s=[],c=r.major.items;if(!c.length)return s;var u,l,h,f,d,g,p,y,v,m=e,x=n,b=i?n:e,w=r.major.settings,k=["start","end","min","max","med"].filter(function(t){return void 0!==r.minor.settings[t]}),M=k.length,_=a.filter(function(t){return"oob"!==t}),R=a?a.length:0,S=_?_.length:0;var N,z,A,C,E,O,T,j,P={box:function(){h.box&&Y(h.start)&&Y(h.end)&&u.push(Es({item:h,boxWidth:f,boxPadding:d,rendWidth:m,rendHeight:x,flipXY:i}))},line:function(){Y(h.min)&&Y(h.start)&&u.push(Os({item:h,from:h.min,to:h.start,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i})),Y(h.max)&&Y(h.end)&&u.push(Os({item:h,from:h.max,to:h.end,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i}))},median:function(){h.median&&Y(h.med)&&u.push(Ts({item:h,key:"median",position:h.med,width:f,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i}))},whisker:function(){if(h.whisker){var t=f*h.whisker.width;Y(h.min)&&u.push(Ts({item:h,key:"whisker",position:h.min,width:t,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i})),Y(h.max)&&u.push(Ts({item:h,key:"whisker",position:h.max,width:t,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i}))}}};function F(){for(var t,e=-Number.MAX_VALUE,n=Number.MAX_VALUE,i=0;i<M;i++)Y(t=h[k[i]])&&(e<t&&(e=t),t<n&&(n=t));p=e<0&&e!==-Number.MAX_VALUE,y=1<n&&n!==Number.MAX_VALUE,v=p||y}for(var B=0,D=c.length;B<D;B++){u=[],l=null;var L=c[B],I=L.data,W=null,H=null;void 0!==w.binStart?(W=L.binStart,H=L.binEnd,l=w.binStart.scale):W=(l=w.major.scale)?L.major:0;var $=0;l?l.bandwidth?W-=($=l.bandwidth())/2:$=H-W:$=1,h=tt({},{major:W,majorEnd:H},r.minor.items[B]);for(var V=0;V<R;V++)h[a[V]]=r[a[V]].items[B];if(N=$,z=b,j=void 0,A=h.box,C=A.width,E=A.maxWidthPx,O=A.minWidthPx,T=0<=N?1:-1,j=Math.min(T*N*C,isNaN(E)?z:E/z),f=(j=isNaN(O)?j:Math.max(O/z,j))*T,g=(d=($-f)/2)+h.major+f/2,F(),v)h.oob&&(p?u.push(Cs({item:h,value:0,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i,symbol:o})):y&&u.push(Cs({item:h,value:1,boxCenter:g,rendWidth:m,rendHeight:x,flipXY:i,symbol:o})));else for(var q=0;q<S;q++)P[_[q]]();var U={type:"container",data:I,collider:{type:"bounds"},children:u};s.push(U)}return s}zs("native",function(t,e,i){var n,r,a={chart:t,mediator:e,element:i},o=[],s=!0;function c(){"function"==typeof n.enable&&(n.enable=n.enable.bind(a)()),n.enable&&Object.keys(n.events).forEach(function(t){var e=n.events[t].bind(a);i.addEventListener(t,e),o.push({key:t,listener:e})})}function u(){o.forEach(function(t){var e=t.key,n=t.listener;i.removeEventListener(e,n)}),o=[]}return{get key(){return r},set:function(t){!function(t){r=t.key,(n=t).events=n.events||[],void 0===n.enable&&(n.enable=!0)}(t),u(),s&&c()},off:function(){s=!1,u()},on:function(){s=!0,0===o.length&&c()},destroy:function(){u(),n=a=null}}});var Ps={line:{show:!0,stroke:"#000",strokeWidth:1},median:{show:!0,stroke:"#000",strokeWidth:1},whisker:{show:!0,stroke:"#000",strokeWidth:1,fill:"",type:"line",width:1},box:{show:!0,fill:"#fff",stroke:"#000",strokeWidth:1,strokeLinejoin:"miter",width:1,maxWidthPx:void 0,minWidthPx:1,minHeightPx:1},oob:{show:!0,type:"n-polygon",fill:"#999",stroke:"#000",strokeWidth:0,size:10,sides:3,startAngle:-90}},Fs=Object.keys(Ps),Bs={require:["chart","resolver","symbol"],defaultSettings:{settings:{},data:{},style:{box:"$shape",line:"$shape-guide",whisker:"$shape-guide",median:"$shape-guide--inverted"}},created:function(){this.state={}},render:function(t){var e=this,n=t.data,i=this.rect,r=i.width,a=i.height,o="horizontal"===this.settings.settings.orientation,s=this.style,c=this.resolver,u=this.symbol,l=Fs.filter(function(t){return!e.settings.settings[t]||!1!==e.settings.settings[t].show}),h={};l.forEach(function(t){return h[t]=Ps[t]});var f=function(t){var e,n=t.keys,i=t.data,r=t.defaultSettings,a=t.style,o=t.settings,s=t.width,c=t.height,u=t.resolver,l=tt(!0,{},r||{},a||{}),h={major:"horizontal"===o.orientation?c:s,minor:"horizontal"===o.orientation?s:c},f=o.major;e="object"===et(f)&&"object"===et(f.ref)&&void 0!==f.ref.start&&void 0!==f.ref.end?u.resolve({data:i,defaults:{start:0,end:1},scaled:h,settings:tt(!0,{},{binStart:{scale:o.major.scale,ref:o.major.ref.start},binEnd:{scale:o.major.scale,ref:o.major.ref.end}})}):"object"===et(f)&&void 0!==f.binStart&&void 0!==f.binEnd?u.resolve({data:i,defaults:{start:0,end:1},scaled:h,settings:tt(!0,{},{binStart:{scale:o.major.scale,ref:"binStart"},binEnd:{scale:o.major.scale,ref:"binEnd"}},o.major)}):u.resolve({data:i,scaled:h,defaults:{major:.5},settings:{major:o.major}});var d=o.minor||{},g={};["start","end","min","max","med"].forEach(function(t){(d[t]||i.items&&i.items.length&&i.items[0][t])&&(g[t]={scale:d.scale,ref:t})});for(var p,y={major:e,minor:u.resolve({data:i,defaults:{start:0,end:1},scaled:h,settings:tt(!0,{},g,d)})},v=0,m=n.length;v<m;v++)o[p]&&!1===o[p].show||(y[p=n[v]]=u.resolve({data:i,defaults:l[p],settings:o[p],scaled:h}));return y}({keys:l,data:n,defaultSettings:h,style:s,settings:this.settings.settings,width:r,height:a,resolver:c}),d=f.settings;return js({items:f.items,settings:d,width:r,height:a,flipXY:o,resolved:f,keys:l,symbol:u})}};var Ds={errorShape:{shape:"saltire",width:2,size:.5,fill:"#333",stroke:"#333",strokeWidth:0}},Ls={shape:"circle",label:"",fill:"#333",stroke:"#ccc",strokeWidth:0,strokeLinejoin:"miter",opacity:1,x:.5,y:.5,size:1,strokeDasharray:""},Is={maxPx:1e4,minPx:1,maxRelExtent:.1,minRelExtent:.01,maxRelDiscrete:1,minRelDiscrete:.1};function Ws(t,e){return t&&"function"==typeof t.bandwidth?{isBandwidth:!0,value:Math.max(1,t.bandwidth()*e)}:{isBandwidth:!1,value:Math.max(1,e)}}var Hs={require:["chart","resolver"],defaultSettings:{settings:{},data:{},animations:{enabled:!1,trackBy:function(t){return t.data.value}},style:{item:"$shape"}},render:function(t){var e=t.data,n=this.resolver.resolve({data:e,defaults:tt({},Ls,this.style.item),settings:this.settings.settings,scaled:{x:this.rect.width,y:this.rect.height}}),i=this.rect,r=i.width,a=i.height,o=tt({},Is,this.settings.settings.sizeLimits),s=n.items,c=function(t,e,n,i,r){var a=Ws(t?t.scale:void 0,n),o=Ws(e?e.scale:void 0,i),s=Math.min(a.value*r[a.isBandwidth?"maxRelDiscrete":"maxRelExtent"],o.value*r[o.isBandwidth?"maxRelDiscrete":"maxRelExtent"]),c=Math.min(a.value*r[a.isBandwidth?"minRelDiscrete":"minRelExtent"],o.value*r[o.isBandwidth?"minRelDiscrete":"minRelExtent"]);return{min:Math.max(1,Math.floor(c)),max:Math.max(1,Math.floor(s)),maxGlobal:r.maxPx,minGlobal:r.minPx}}(n.settings.x,n.settings.y,r,a,o);return function(t,e,a,o){var s=e.width,c=e.height;return t.filter(function(t){return!isNaN(t.x+t.y)}).map(function(t){var e=j(t.size)?Ds.errorShape:t,n=a.min+e.size*(a.max-a.min),i={type:"rect"===e.shape?"square":e.shape,label:t.label,x:t.x*s,y:t.y*c,fill:e.fill,size:Math.min(a.maxGlobal,Math.max(a.minGlobal,n)),stroke:e.stroke,strokeWidth:e.strokeWidth,strokeDasharray:e.strokeDasharray,opacity:e.opacity};e===t.errorShape&&(i.width=e.width);var r=o(i);return r.data=t.data,r})}(s,this.rect,c,this.settings.shapeFn||To)}};Math.PI;var $s={label:"",arc:1,show:!0,fill:"#333",stroke:"#ccc",strokeWidth:1,strokeLinejoin:"round",opacity:1,innerRadius:0,outerRadius:.8,cornerRadius:0,offset:0};function Vs(t,e,s,c){var n=e.x,i=e.y,r=e.width,a=e.height,u=Ot(),l={x:n+r/2,y:i+a/2},h=Math.min(r,a)/2,f=Math.min(r,a)/2,d=f/100;return t.map(function(t,e){var n=s[e];n.type="path";var i=f*n.outerRadius,r=h*n.innerRadius;u.innerRadius(r),u.outerRadius(i),u.cornerRadius(d*n.cornerRadius),n.d=u(t);var a=u.centroid(t),o=n.offset?function(t,e,n,i){var r=O(t,2),a=r[0],o=r[1],s=Math.sqrt(a*a+o*o),c=n-i;return{x:(a/=s)*e*c,y:(o/=s)*e*c}}(a,n.offset,i,r):{x:0,y:0};return n.transform="translate(".concat(o.x,", ").concat(o.y,") translate(").concat(l.x,", ").concat(l.y,")"),n.desc={share:t.value/c,slice:{start:t.startAngle,end:t.endAngle,innerRadius:r,outerRadius:i,offset:{x:l.x+o.x,y:l.y+o.y}}},n})}var qs={require:["chart","resolver"],defaultSettings:{settings:{startAngle:0,endAngle:2*Math.PI,padAngle:0,slice:{}},style:{slice:"$shape"},data:{}},render:function(t){for(var e,n,i=t.data,r=[],a=[],o=this.settings.settings,s=this.resolver.resolve({data:i,defaults:tt({},$s,this.style.slice),settings:o.slice}).items,c=0,u=0,l=s.length;u<l;u++){var h=(e=o,n=s[u],e.slice&&"arc"in e.slice?n.arc:n.data.value);0<h&&s[u].outerRadius>=s[u].innerRadius&&(r.push(h),a.push(s[u]),c+=h)}var f=function(){var g=Lt,p=Dt,y=null,v=dt(0),m=dt(_t),x=dt(0);function e(n){var t,e,i,r,a,o=n.length,s=0,c=new Array(o),u=new Array(o),l=+v.apply(this,arguments),h=Math.min(_t,Math.max(-_t,m.apply(this,arguments)-l)),f=Math.min(Math.abs(h)/o,x.apply(this,arguments)),d=f*(h<0?-1:1);for(t=0;t<o;++t)0<(a=u[c[t]=t]=+g(n[t],t,n))&&(s+=a);for(null!=p?c.sort(function(t,e){return p(u[t],u[e])}):null!=y&&c.sort(function(t,e){return y(n[t],n[e])}),t=0,i=s?(h-o*d)/s:0;t<o;++t,l=r)e=c[t],r=l+(0<(a=u[e])?a*i:0)+d,u[e]={data:n[e],index:t,value:a,startAngle:l,endAngle:r,padAngle:f};return u}return e.value=function(t){return arguments.length?(g="function"==typeof t?t:dt(+t),e):g},e.sortValues=function(t){return arguments.length?(p=t,y=null,e):p},e.sort=function(t){return arguments.length?(y=t,p=null,e):y},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:dt(+t),e):v},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:dt(+t),e):m},e.padAngle=function(t){return arguments.length?(x="function"==typeof t?t:dt(+t),e):x},e}().sortValues(null);return f.startAngle(o.startAngle),f.endAngle(o.endAngle),f.padAngle(o.padAngle),Vs(f(r),tt({},this.rect,{x:0,y:0}),a,c)}};var Us,Ys=(void 0===Us&&(Us={line:{append:["x1","x2","y1","y2"],round:[],condition:function(t){return t.x1===t.x2||t.y1===t.y2},conditionAppend:function(t){return t.strokeWidth%2!=0}},rect:{append:["x","y"],round:["width","height"],condition:function(){return!0},conditionAppend:function(t){return t.strokeWidth%2!=0}}}),Object.keys(Us).forEach(function(t){var e=Us[t];e.items=[],e.append.forEach(function(t){e.items.push({key:t,type:"append"})}),e.round.forEach(function(t){e.items.push({key:t,type:"round"})})}),Xs.multiple=function(t){return t.forEach(function(t){return Xs(t)})},Xs);function Xs(i){if(Us[i.type]&&Us[i.type].condition(i)){var t=Us[i.type],r=void 0===t.conditionAppend||t.conditionAppend(i);t.items.forEach(function(t){var e=Math.round(i[t.key]),n=i[t.key]-e;i[t.key]=e,r&&"append"===t.type&&(0<n?i[t.key]+=.5:i[t.key]-=.5)})}}var Zs=function(){function y(){b(this,y),this.reset(),this.push.apply(this,arguments)}return k(y,[{key:"transposeCoordinate",value:function(t,e,n){if("number"==typeof e&&isFinite(e)){var i=t.substring(0,1);if("x"===i||"cx"===t)return e*this.width;if("width"===t)return e*this.width;if("r"===t)return e*(n?this.height:this.width);if("y"===i||"cy"===t)return e*this.height;if("height"===t)return e*this.height}return e}},{key:"push",value:function(){var t;return(t=this.storage).push.apply(t,arguments),this}},{key:"processItem",value:function(t){var e={},n=void 0!==t.flipXY?t.flipXY:this.flipXY,i=void 0!==t.crisp?t.crisp:this.crisp;if(t.fn&&"function"==typeof t.fn){var r=n?this.height:this.width,a=n?this.width:this.height;t=t.fn({width:r,height:a,flipXY:n});for(var o=Object.keys(t),s=0,c=o.length;s<c;s++){var u=o[s];e[y.evaluateKey(u,n)]=t[u]}}else for(var l=Object.keys(t),h=0,f=l.length;h<f;h++){var d=l[h],g=y.evaluateKey(d,n),p=this.transposeCoordinate(g,t[d],n);e[g]=p}return i&&Ys(e),e}},{key:"output",value:function(){for(var t=[],e=0,n=this.storage.length;e<n;e++){var i=this.processItem(this.storage[e]);t.push(i)}return t}},{key:"reset",value:function(){this.storage=[],this.flipXY=!1,this.crisp=!1,this.width=0,this.height=0}}],[{key:"evaluateKey",value:function(t,e){if(e){var n=t.substring(0,1),i=t.substring(1);if("x"===n)return"y".concat(i);if("y"===n)return"x".concat(i);if("cx"===t)return"cy";if("cy"===t)return"cx";if("width"===t)return"height";if("height"===t)return"width"}return t}}]),y}();function Js(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Zs,e)}function Gs(t,e){return t&&e?t.cachedTicks&&t.cachedTicks()||t.ticks({distance:e}):[]}var Ks={created:function(){},require:["chart","renderer","resolver"],defaultSettings:{layout:{displayOrder:0},style:{ticks:"$guide-line",minorTicks:"$guide-line--minor"}},beforeRender:function(){this.blueprint=Js(),this.blueprint.width=this.rect.width,this.blueprint.height=this.rect.height,this.blueprint.x=this.rect.x,this.blueprint.y=this.rect.y,this.blueprint.crisp=!0},render:function(){var a=this;if(this.x=this.settings.x?this.chart.scale(this.settings.x):null,this.y=this.settings.y?this.chart.scale(this.settings.y):null,so(this,"x",this.rect.width),so(this,"y",this.rect.height),!this.x&&!this.y)return[];this.settings.ticks=tt({show:!0},this.style.ticks,this.settings.ticks||{}),this.settings.minorTicks=tt({show:!1},this.style.minorTicks,this.settings.minorTicks||{}),this.lines={x:[],y:[]},this.lines.x=Gs(this.x,this.rect.width),this.lines.y=Gs(this.y,this.rect.height),this.lines.y=this.lines.y.map(function(t){return tt(t,{flipXY:!0})});function t(t){var e=t.dir,n=t.isMinor,i=a.lines[e].filter(function(t){return!!t.isMinor===n}),r=n?a.settings.minorTicks:a.settings.ticks;a.resolver.resolve({settings:r,data:{items:i,dir:e}}).items.forEach(function(t){var e=t.data;t.show&&a.blueprint.push({type:"line",x1:e.position,y1:0,x2:e.position,y2:1,stroke:t.stroke||"black",strokeWidth:void 0!==t.strokeWidth?t.strokeWidth:1,strokeDasharray:void 0!==t.strokeDasharray?t.strokeDasharray:void 0,flipXY:e.flipXY||!1})})}return t({dir:"x",isMinor:!1}),t({dir:"x",isMinor:!0}),t({dir:"y",isMinor:!1}),t({dir:"y",isMinor:!0}),this.blueprint.output()}};function Qs(t){for(var g=t.blueprint,p=t.oob,e=t.settings,y=t.items,v=Object.keys(p),m=e.style.oob||{},n=function(t,e){var n=v[t],a=p[n];if(0<a.length){var o=n.charAt(1),s="y"===n.charAt(0),c=m.padding.x+m.width,u=m.padding.y+m.width,l="bottom";l=s?"1"===o?"bottom":"top":"1"===o?"right":"left";var i=g.processItem({fn:function(t){var e=t.width,n=t.height,i=o*e+("1"===o?-c:c),r=s?u:n-u;return"arc"===m.type?{type:"path",d:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:"bottom";if(n*=.8,"left"===r||"right"===r){var a="right"===r;return"\n      M ".concat(t," ").concat(e-n,"\n      A ").concat(1.25*n," ").concat(1.25*n,", 0, 1, ").concat(a?0:1,", ").concat(t," ").concat(e+n,"\n      L ").concat(a?t+n:t-n," ").concat(e," Z\n    ")}var o="bottom"===r;return"\n    M ".concat(t-n," ").concat(e,"\n    A ").concat(1.25*n," ").concat(1.25*n,", 0, 1, ").concat(o?1:0,", ").concat(t+n," ").concat(e,"\n    L ").concat(t," ").concat(o?e+n:e-n," Z\n  ")}(s?r:i,s?i:r,m.width,l),x:i,y:r,stroke:m.stroke,fill:m.fill,strokeWidth:m.strokeWidth||0}:{type:"circle",cx:i,cy:r,r:m.width,stroke:m.stroke,fill:m.fill,strokeWidth:m.strokeWidth||0,opacity:m.opacity,data:a}},flipXY:s}),r=i.cx||i.x,h=i.cy||i.y,f={type:"text",text:a.length||"",x:r-.4*m.width,y:h+.4*m.width,fontFamily:m.text.fontFamily,fontSize:"".concat(1.3*m.width,"px"),stroke:m.text.stroke,fill:m.text.fill,strokeWidth:m.text.strokeWidth||0,opacity:m.text.opacity},d={type:"path",d:function(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:"bottom";if(n*=.75,"left"===r||"right"===r){var a="right"===r;return"\n      M ".concat(t+=a?1.5*n:-1.5*n," ").concat(e-n,"\n      L ").concat(t," ").concat(e+n,"\n      L ").concat(a?t+n:t-n," ").concat(e," Z\n    ")}var o="bottom"===r;return e+=o?1.5*n:-1.5*n,"\n    M ".concat(t-n," ").concat(e,"\n    L ").concat(t+n," ").concat(e,"\n    L ").concat(t," ").concat(o?e+n:e-n," Z\n  ")}(r,h,m.width,l),x:r,y:h,stroke:m.triangle.stroke,fill:m.triangle.fill,strokeWidth:m.triangle.strokeWidth||0,opacity:m.triangle.opacity};y.push(i,f,d)}},i=0,r=v.length;i<r;i++)n(i)}function tc(t){if(void 0===t)return 0;if("number"==typeof t&&isFinite(t))return t;if("string"==typeof t)switch(t){case"center":case"middle":return.5;case"bottom":case"right":return 1;case"top":case"left":default:return 0}return 0}function ec(t){var e={value:t.value};return t.label&&(e.label=t.label.text),e}function nc(t){return void 0!==t.value}var ic={require:["chart","renderer"],defaultSettings:{layout:{displayOrder:0},style:{oob:{show:!0,width:10,fill:"#1A1A1A",stroke:"transparent",strokeWidth:0,opacity:1,text:{fontFamily:"Arial",stroke:"transparent",fill:"#fff",strokeWidth:0,opacity:1},triangle:{fill:"#4D4D4D",stroke:"transparent",strokeWidth:0,opacity:1},padding:{x:28,y:5}},line:{stroke:"#000"},label:{strokeWidth:0}}},preferredSize:function(){return 30},beforeRender:function(){this.blueprint=Js(),this.blueprint.width=this.rect.width,this.blueprint.height=this.rect.height,this.blueprint.x=this.rect.x,this.blueprint.y=this.rect.y,this.blueprint.crisp=!0},render:function(){var n=this,e=this.settings;if(this.lines={x:[],y:[]},this.lines.x=e.lines&&e.lines.x||[],this.lines.y=e.lines&&e.lines.y||[],0===this.lines.x.length&&0===this.lines.y.length)return[];var i={x0:[],x1:[],y0:[],y1:[]};this.lines.x=this.lines.x.filter(nc).map(function(t){if(t.scale){var e=n.chart.scale(t.scale);return tt(t,{scale:e,position:e(t.value)})}return tt(t,{position:t.value})}),this.lines.y=this.lines.y.filter(nc).map(function(t){if(t.scale){var e=n.chart.scale(t.scale);return tt(t,{scale:e,position:e(t.value),flipXY:!0})}return tt(t,{position:t.value,flipXY:!0})}),this.lines.x=this.lines.x.filter(function(t){return!(t.position<0||1<t.position)||(i["x".concat(1<t.position?1:0)].push(ec(t)),!1)}),this.lines.y=this.lines.y.filter(function(t){return!(t.position<0||1<t.position)||(i["y".concat(1<t.position?1:0)].push(ec(t)),!1)});var r=[];return[].concat(nt(this.lines.x),nt(this.lines.y)).forEach(function(t){!0!==t.show&&void 0!==t.show||function(t){var e,n=t.chart,r=t.blueprint,i=t.renderer,a=t.p,o=t.settings,s=t.items,c=!0,u=!1,l=!1,h=!1,f=tt(!0,{},o.style.line,a.line||{});if(e=r.processItem({type:"line",x1:a.position,y1:0,x2:a.position,y2:1,stroke:f.stroke||"black",strokeWidth:f.strokeWidth||1,flipXY:a.flipXY||!1}),a.label){var d,g=tt(!0,{fill:"#000",fontFamily:"Arial",fontSize:"12px",opacity:1,maxWidth:1,maxWidthPx:9999,padding:5,background:{fill:"#fff",stroke:"transparent",strokeWidth:0,opacity:.5}},o.style.label||{},{fill:f.stroke},a.label),p={width:0,height:0},y="";if("string"==typeof a.formatter)d=n.formatter(a.formatter);else if("object"===et(a.formatter))d=n.formatter(a.formatter);else if(void 0!==a.scale&&a.scale.data){var v=a.scale.data()&&a.scale.data().fields;d=v&&v[0]?v[0].formatter():null}d?y=" (".concat(d(a.value),")"):a.scale&&(y=" (".concat(a.value,")")),y&&(p=i.measureText({text:y,fontFamily:g.fontFamily,fontSize:g.fontSize}));var m=i.measureText({text:g.text||"",fontFamily:g.fontFamily,fontSize:g.fontSize}),x=m.width+p.width,b=Math.max(m.height,p.height),w=g.padding,k=tc(a.flipXY?g.vAlign:g.align),M=tc(a.flipXY?g.align:g.vAlign),_=Math.min(1+x+2*w,g.maxWidth*r.width,g.maxWidthPx),R=b+2*w,S=a.flipXY?R:_,N=a.flipXY?_:R;if((u=r.processItem({fn:function(t){var e=t.width,n=t.height,i=a.position*e-(a.flipXY?R:_)*(1-k);return{type:"rect",x:i=a.flipXY?i:Math.max(i,0),y:Math.max(Math.abs(M*n-N*M),0),width:a.flipXY?S:Math.min(S,r.width-i),height:N,stroke:g.background.stroke,strokeWidth:g.background.strokeWidth,fill:g.background.fill,opacity:g.background.opacity}},flipXY:a.flipXY||!1})).x<-1||u.x+u.width>r.width+1||u.y<-1||u.y+u.height>r.height+1)u=void 0;else{l={type:"text",text:g.text||"",fill:g.fill,opacity:g.opacity,fontFamily:g.fontFamily,fontSize:g.fontSize,x:u.x+w,y:u.y+u.height/2+b/3,maxWidth:u.width-2*w-p.width,anchor:"start"},y&&(h={type:"text",text:y||"",fill:g.fill,opacity:g.opacity,fontFamily:g.fontFamily,fontSize:g.fontSize,x:l.x+3+(u.width-(p.width+2*w)),y:l.y});for(var z=0,A=s.length;z<A;z++){var C=s[z];"rect"===C.type?Qo(u,C)&&(c=!1):"line"===C.type&&a.flipXY===C.flipXY&&es(u,C)&&(c=!1)}}}s.push(e),c&&u&&l&&(s.push(u,l),h&&s.push(h))}({chart:n.chart,blueprint:n.blueprint,renderer:n.renderer,p:t,settings:e,items:r})}),e.style.oob.show&&Qs({blueprint:this.blueprint,oob:i,settings:e,items:r}),r}};function rc(t){var e={type:"line",x1:0,x2:0,y1:0,y2:0,collider:{type:null}};return"top"===t.align||"bottom"===t.align?(e.x1=t.innerRect.x-t.outerRect.x,e.x2=t.innerRect.width+t.innerRect.x,e.y1=e.y2="top"===t.align?t.innerRect.height-t.padding:t.padding):(e.x1=e.x2="left"===t.align?t.innerRect.width-t.padding:t.padding,e.y1=t.innerRect.y-t.outerRect.y,e.y2=t.innerRect.height+t.innerRect.y),function(t,e){tt(t,e.style);var n=t.strokeWidth/2;"top"===e.align?(t.y1-=n,t.y2-=n):"bottom"===e.align?(t.y1+=n,t.y2+=n):"left"===e.align?(t.x1-=n,t.x2-=n):"right"===e.align&&(t.x1+=n,t.x2+=n)}(e,t),e}function ac(t,e,n){n.layered||!n.stepSize?function(t,e){e.collider={type:"polygon",vertices:[{x:e.boundingRect.x,y:e.boundingRect.y},{x:e.boundingRect.x+e.boundingRect.width,y:e.boundingRect.y},{x:e.boundingRect.x+e.boundingRect.width,y:e.boundingRect.y+e.boundingRect.height},{x:e.boundingRect.x,y:e.boundingRect.y+e.boundingRect.height}]}}(0,e):n.tilted?function(t,e,n){var i=n.angle*(Math.PI/180),r=Math.max(n.stepSize/2,e.boundingRect.height/2),a="start"===e.anchor,o="end"===e.anchor&&i<0,s="start"===e.anchor&&0<=i,c=e.boundingRect.y+(s||o?e.boundingRect.height:0),u=[{x:e.x-r,y:c},{x:e.x+r,y:c}].map(function(t){return Co(t,i,{x:e.x,y:e.y})}),l={x:a?e.boundingRect.x+e.boundingRect.width+10:e.boundingRect.x-10,y:e.boundingRect.y+e.boundingRect.height},h={x:a?e.boundingRect.x+e.boundingRect.width+10:e.boundingRect.x-10,y:e.boundingRect.y},f=0<=i?[l,h]:[h,l];u.push.apply(u,f),e.collider={type:"polygon",vertices:u}}(0,e,n):function(t,e,n){if("bottom"===n.align||"top"===n.align){var i=t.position*n.innerRect.width+(n.innerRect.x-n.outerRect.x-n.stepSize/2);e.collider={type:"rect",x:i,y:0,width:i<0?n.stepSize+i:n.stepSize,height:n.innerRect.height}}else{var r=t.position*n.innerRect.height+(n.innerRect.y-n.outerRect.y-n.stepSize/2);e.collider={type:"rect",x:0,y:r,width:n.innerRect.width,height:r<0?n.stepSize+r:n.stepSize}}var a=e.collider;a.x=Math.max(a.x,0),a.y=Math.max(a.y,0);var o=a.x+a.width-(n.outerRect.x+n.outerRect.width);a.width=0<o?a.width-o:a.width;var s=a.y+a.height-(n.outerRect.y+n.outerRect.height);a.height=0<s?a.height-s:a.height}(t,e,n)}function oc(t,e){var n=isNaN(t.style.align)?.5:Math.min(Math.max(t.style.align,0),1),i=0;if(t.tilted)i=t.stepSize*n;else{var r=e?t.textRect.height:t.textRect.width;i=Math.max(0,t.stepSize-r)*n}return i}function sc(t,e){var n={type:"text",text:function(t){return"string"==typeof t||"number"==typeof t?t:"-"}(t.label),x:0,y:0,maxWidth:e.maxWidth,maxHeight:e.maxHeight};return"top"===e.align||"bottom"===e.align?(n.x=t.start*e.innerRect.width+(e.innerRect.x-e.outerRect.x)+oc(e,!1),n.y="top"===e.align?e.innerRect.height:0,n.anchor=e.stepSize?"start":"middle",n.x+=isNaN(e.style.offset)?0:+e.style.offset):(n.y=t.start*e.innerRect.height+(e.innerRect.y-e.outerRect.y)+oc(e,!0),n.x="left"===e.align?e.innerRect.width:0,n.anchor="left"===e.align?"end":"start",n.baseline=e.stepSize?"text-before-edge":"central",n.y+=isNaN(e.style.offset)?0:+e.style.offset),function(e,n){["fill","fontSize","fontFamily"].forEach(function(t){e[t]=n.style[t]})}(n,e),function(t,e){if(!e.tilted&&!e.stepSize)if("top"===e.align||"bottom"===e.align){var n=e.outerRect.width,i=Math.min(e.maxWidth/2,e.textRect.width/2),r=t.x-i,a=t.x+i;r<0?(t.anchor="start",t.x=e.innerRect.x-e.outerRect.x):n<a&&(t.anchor="end",t.x=e.innerRect.width+e.innerRect.x)}else{var o=e.outerRect.height,s=e.maxHeight/2,c=t.y-s,u=t.y+s;c<0?(t.y=e.innerRect.y-e.outerRect.y,t.baseline="text-before-edge"):o<u&&(t.y=e.innerRect.height+(e.innerRect.y-e.outerRect.y),t.baseline="text-after-edge")}}(n,e),function(t,e){"top"===e.align?t.y-=e.padding:"bottom"===e.align?t.y+=e.padding+e.maxHeight:"left"===e.align?t.x-=e.padding:"right"===e.align&&(t.x+=e.padding)}(n,e),function(t,e){if(e.tilted){var n=-e.angle,i=n*(Math.PI/180);"bottom"===e.align?(t.x-=e.maxHeight*Math.sin(i)/2,t.y-=e.maxHeight,t.y+=e.maxHeight*Math.cos(i)/2):t.x-=e.maxHeight*Math.sin(i)/3,t.transform="rotate(".concat(n,", ").concat(t.x,", ").concat(t.y,")"),t.anchor="bottom"===e.align==e.angle<0?"start":"end";var r=Math.cos(i)*e.maxWidth;if("bottom"===e.align==e.angle<0){var a=e.outerRect.width-e.paddingEnd;a<t.x+r&&(t.maxWidth=(a-t.x-10)/Math.cos(i))}else{var o=e.paddingEnd;t.x-r<o&&(t.maxWidth=(t.x-o-10)/Math.cos(i))}}}(n,e),function(t,e){t.boundingRect=e.textBounds(t)}(n,e),ac(t,n,e),n}function cc(t,e){var n={type:"line",x1:0,x2:0,y1:0,y2:0,collider:{type:null}};return"top"===e.align||"bottom"===e.align?(n.x1=n.x2=t.position*e.innerRect.width+(e.innerRect.x-e.outerRect.x),n.y1="top"===e.align?e.innerRect.height:0,n.y2="top"===e.align?n.y1-e.tickSize:n.y1+e.tickSize):(n.y1=n.y2=t.position*e.innerRect.height+(e.innerRect.y-e.outerRect.y),n.x1="left"===e.align?e.innerRect.width:0,n.x2="left"===e.align?n.x1-e.tickSize:n.x1+e.tickSize),function(t,e){tt(t,e.style)}(n,e),function(t,e){"top"===e.align?(t.y1-=e.padding,t.y2-=e.padding):"bottom"===e.align?(t.y1+=e.padding,t.y2+=e.padding):"left"===e.align?(t.x1-=e.padding,t.x2-=e.padding):"right"===e.align&&(t.x1+=e.padding,t.x2+=e.padding)}(n,e),function(t,e){var n=t.strokeWidth/2;t.x1===e.innerRect.width?(t.x1-=n,t.x2-=n):0===t.x1?(t.x1+=n,t.x2+=n):t.y1===e.innerRect.height?(t.y1-=n,t.y2-=n):0===t.y1&&(t.y1+=n,t.y2+=n)}(n,e),n}function uc(t){return!t.isMinor&&0<=t.position&&t.position<=1}function lc(t){var e=t.rect,n=t.state,i=t.majorTicks,r=t.measure;return t.horizontal?function(t){for(var e=t.majorTicks,n=t.measureText,i=t.rect,r="layered"===t.state.labels.activeMode?2:1,a=i.width,o=e.map(function(t){return t.label}).map(function(t){return"".concat(t.slice(0,1)).concat(1<t.length?"â¦":"")}).map(n).map(function(t){return t.width}),s=0;s<e.length;++s){var c=e[s];if(r*a*Math.abs(c.start-c.end)<o[s])return!0}return!1}({majorTicks:i,measureText:r,rect:e,state:n}):function(t){var e=t.majorTicks,n=t.measureText,i=t.rect.height,r=n("M").height;return!(e.length<2)&&i*Math.abs(e[0].position-e[1].position)<r}({majorTicks:i,measureText:r,rect:e,state:n})}function hc(t){var e=t.value,n=t.maxValue,i=t.minValue,r=t.range,a=t.modifier;return isNaN(r)||isNaN(a)||(e=r*a),n<e&&(e=n),e<i&&(e=i),e}function fc(t){var e=t.isDiscrete,i=t.rect,n=t.formatter,r=t.measureText,a=t.scale,o=t.settings,s=t.state,c=0,u={left:0,top:0,right:0,bottom:0},l=o.labels,h=l.maxLengthPx,f=l.minLengthPx;if(o.labels.show){var d,g,p=o.align,y="top"===p||"bottom"===p,v=y?i.width:i.height,m=a.ticks({settings:o,distance:v,formatter:n}).filter(uc),x=function(t){var e=r({text:t,fontSize:o.labels.fontSize,fontFamily:o.labels.fontFamily});return e.width=hc({value:e.width,maxValue:h,minValue:f}),e};if(e&&y&&"auto"===o.labels.mode&&(!function(t){var e=t.majorTicks,n=t.measure,i=t.rect,r=t.state,a=t.settings,o=a.labels.maxGlyphCount,s="layered"===r.labels.activeMode?2:1,c=a.labels.tiltThreshold?a.labels.tiltThreshold:.7,u=n("â¦").width,l=i.width;if(isNaN(o))for(var h=0;h<e.length;h++){var f=e[h],d=f.label,g=n(d).width*(1<d.length?c:1);if(s*l*Math.abs(f.start-f.end)<g+u)return!0}else if(s*l*e.reduce(function(t,e){return Math.min(Math.abs(e.start-e.end),t)},1/0)<n("M").width*c*o+u)return!0;return!1}({majorTicks:m,measure:x,rect:i,state:s,settings:o})?s.labels.activeMode="horizontal":s.labels.activeMode="tilted"),!o.labels.filterOverlapping&&"tilted"!==s.labels.activeMode&&lc({rect:i,state:s,majorTicks:m,measure:x,horizontal:y}))return{size:Math.max(i.width,i.height),isToLarge:!0};if("tilted"===s.labels.activeMode){var b=Math.abs(o.labels.tiltAngle)*(Math.PI/180);d=function(t){return hc({value:t.width,maxValue:h,minValue:f})*Math.sin(b)+t.height*Math.cos(b)}}else d=y?function(t){return t.height}:function(t){return hc({value:t.width,maxValue:h,minValue:f})};if(y&&"tilted"!==s.labels.activeMode)g=["M"];else if(isNaN(o.labels.maxGlyphCount))g=m.map(function(t){return t.label});else{for(var w="",k=0;k<o.labels.maxGlyphCount;k++)w+="M";g=[w]}var M=g.map(x),_=M.map(d),R=Math.max.apply(Math,nt(_).concat([0]));if(c+=R,c+=o.labels.margin,"layered"===s.labels.activeMode&&(c*=2),"tilted"===s.labels.activeMode){var S="bottom"===o.align==0<=o.labels.tiltAngle,N=Math.abs(o.labels.tiltAngle)*(Math.PI/180),z=(R-r("M").height*Math.cos(N))/Math.sin(N),A=Math.min(o.labels.maxEdgeBleed,Math.max.apply(Math,nt(M.map(function(t){return Math.min(z,t.width)*Math.cos(N)+t.height}).map(function(t,e){var n=m[e]?m[e].position:0;return S?t-n*i.width:t-(1-n)*i.width})).concat([0])))+o.paddingEnd;if(u[S?"left":"right"]=A,!o.labels.filterOverlapping&&function(t){var e=t.majorTicks,n=t.measureText,i=t.rect,r=t.bleedSize,a=t.angle;if(e.length<2)return!1;if(0===a)return!0;var o=Math.abs(a),s=(i.width-r)*Math.abs(e[0].position-e[1].position),c=n("M").height,u=1/s;return Math.sin(o*(Math.PI/180))/u<c}({majorTicks:m,measureText:r,rect:i,bleedSize:A,angle:o.labels.tiltAngle}))return{size:Math.max(i.width,i.height),isToLarge:!0}}}return{size:c,edgeBleed:u}}var dc=function(t,e,n){return t.width*Math.abs(e.position-n.position)},gc=function(t){var e=t.innerRect,n=t.outerRect,i=t.tick,r=t.nextWidth,a=e.x-n.x,o=e.width*i.position+a,s=2*Math.min(r,o);return Math.max(r,s)},pc=function(t){var e=t.innerRect,n=t.outerRect,i=t.tick,r=t.prevWidth,a=e.x-n.x,o=n.width-e.width-a,s=e.width-e.width*i.position+o,c=2*Math.min(r,s);return Math.max(r,c)};function yc(t){var e=0;return e+=t.paddingStart,e+=t.line.show?t.line.strokeWidth:0,e+=t.ticks.show?t.ticks.margin:0}function vc(t){var e=0;return e+=t.ticks.show?t.ticks.tickSize:0,e+=yc(t)+t.labels.margin}function mc(t,e){return t.map(function(t){return cc(t,e)})}function xc(t,e){return e?Math.abs(e.end-e.start):t.bandwidth()}function bc(t){var e=t.measureText,n=t.settings,i=t.innerRect,r=t.scale,a=t.tilted,o=t.layered,s=t.tick,c=e({text:"M",fontSize:n.labels.fontSize,fontFamily:n.labels.fontFamily}).height,u=xc(r,s),l={width:0,height:c};if("left"===n.align||"right"===n.align)l.width=i.width-vc(n)-n.paddingEnd;else if(o)l.width=u*i.width*2;else if(a){var h=Math.abs(n.labels.tiltAngle)*(Math.PI/180);l.width=(i.height-vc(n)-n.paddingEnd-c*Math.cos(h))/Math.sin(h)}else l.width=u*i.width;return l.width=hc({value:l.width,maxValue:n.labels.maxLengthPx,minValue:n.labels.minLengthPx}),l}function wc(t){var e=t.measureText,n=t.settings,i=t.innerRect,r=t.outerRect,a=t.tilted,o=t.layered,s=t.tick,c=t.index,u=t.major,l=e({text:"M",fontSize:n.labels.fontSize,fontFamily:n.labels.fontFamily}).height,h={width:0,height:l};if("left"===n.align||"right"===n.align)h.width=i.width-vc(n)-n.paddingEnd;else if(a){var f=Math.abs(n.labels.tiltAngle)*(Math.PI/180);h.width=(i.height-vc(n)-n.paddingEnd-l*Math.cos(f))/Math.sin(f)}else h.width=function(t){var e=t.layered,n=t.major,i=t.innerRect,r=t.outerRect,a=t.tick,o=t.index,s=e?2:1,c=n[o-s],u=n[o+s],l=c?dc(i,a,c)/2-2:1/0,h=u?dc(i,a,u)/2-2:1/0;return n.length<2?i.width:c?u?2*Math.min(l,h):pc({innerRect:i,outerRect:r,tick:a,prevWidth:l}):gc({innerRect:i,outerRect:r,tick:a,nextWidth:h})}({layered:o,major:u,innerRect:i,outerRect:r,tick:s,index:c});return h.width=hc({value:h.width,maxValue:n.labels.maxLengthPx,minValue:n.labels.minLengthPx}),h}function kc(t){var x;function e(){return x=wc,e}function n(){return x=bc,n}function i(t){var e,i=t.settings,r=t.scale,a=t.innerRect,o=t.outerRect,s=t.measureText,c=t.ticks,n=t.state,u=t.textBounds,l=[],h=function(t){return t.filter(function(t){return!t.isMinor})}(c),f=function(t){return t.filter(function(t){return t.isMinor})}(c),d={innerRect:a,align:i.align,outerRect:o},g="tilted"===n.labels.activeMode,p="layered"===n.labels.activeMode;if(i.line.show&&(d.style=i.line,d.padding=i.paddingStart,l.push(rc(d))),i.ticks.show&&(d.style=i.ticks,d.tickSize=i.ticks.tickSize,d.padding=yc(i),e=mc(h,d)),i.labels.show){var y=vc(i);d.style=i.labels,d.padding=y,d.tilted=g,d.layered=p,d.angle=i.labels.tiltAngle,d.paddingEnd=i.paddingEnd,d.textBounds=u;var v=function(t,e){d.textRect=function(t){var e=t.style;return(0,t.measureText)({text:t.tick.label,fontSize:e.fontSize,fontFamily:e.fontFamily})}({tick:t,measureText:s,style:d.style});var n=x({measureText:s,settings:i,innerRect:a,outerRect:o,scale:r,tilted:g,layered:p,tick:t,major:h,index:e});d.maxWidth=n.width,d.maxHeight=n.height,d.stepSize=function(t){var e=t.innerRect,n=t.scale,i=t.settings,r=t.tick;return("top"===i.align||"bottom"===i.align?e.width:e.height)*xc(n,r)}({innerRect:a,scale:r,ticks:c,settings:i,tick:t})},m=[];m=!p||"top"!==i.align&&"bottom"!==i.align?function(t,i,r){return t.map(function(t,e){r(t,e);var n=sc(t,i);return n.data=t.data,n})}(h,d,v):function(t,r,a,o){var s=r.padding,c=vc(a);return t.map(function(t,e){o(t,e);var n=c+r.maxHeight+a.labels.margin;r.layer=e%2,r.padding=e%2==0?s:n;var i=sc(t,r);return i.data=t.data,i})}(h,d,i,v),i.labels.filterOverlapping&&function(r,t,e){var n=function(t,e){return Qo(r[t].boundingRect,r[e].boundingRect)};if(e&&e.tilted){var a=Math.abs(e.angle);n=function(t,e){var n=1/Math.abs(r[t].x-r[e].x),i=Math.sin(a*(Math.PI/180))/n;return r[t].boundingRect.height>i}}for(var i=0;i<=r.length-1;i++)for(var o=i+1;o<=Math.min(i+5,i+(r.length-1));o++)r[i]&&r[o]&&n(i,o)&&(o===r.length-1?(r.splice(i,1),t&&t.splice(i,1)):(r.splice(o,1),t&&t.splice(o,1)),o--,i--)}(m,e,d),l.push.apply(l,nt(m))}return i.minorTicks&&i.minorTicks.show&&0<f.length&&(d.style=i.minorTicks,d.tickSize=i.minorTicks.tickSize,d.padding=function(t){return t.line.strokeWidth+t.minorTicks.margin}(i),l.push.apply(l,nt(mc(f,d)))),e&&l.push.apply(l,nt(e)),l}return n.build=e.build=i,t?n():e()}var Mc={labels:{show:!0,tiltAngle:40,tiltThreshold:.7,maxEdgeBleed:1/0,margin:4,maxLengthPx:150,minLengthPx:0,mode:"auto",maxGlyphCount:NaN,align:.5,offset:0,filterOverlapping:!1},ticks:{show:!1,margin:0,tickSize:4},line:{show:!1},paddingStart:0,paddingEnd:10,align:"auto"},_c={labels:{show:!0,margin:4,maxLengthPx:150,minLengthPx:0,align:.5,offset:0,filterOverlapping:!0},ticks:{show:!0,margin:0,tickSize:8},minorTicks:{show:!1,tickSize:3,margin:0},line:{show:!0},paddingStart:0,paddingEnd:10,align:"auto"};function Rc(t){var e=t.state,n=t.style,i=t.settings,r=tt(!0,{},e.isDiscrete?Mc:_c,n),a=tt(!0,{},r,i.settings),o=i.layout.dock||e.defaultDock;return a.dock=o,a.align=function(t,e){var n=["top","bottom"],i=["left","right"];return-1!==n.indexOf(t)&&-1===i.indexOf(e)?t:-1!==i.indexOf(t)&&-1===n.indexOf(e)?t:e}(i.settings.align,o),a.labels.tiltAngle=Math.max(-90,Math.min(a.labels.tiltAngle,90)),a}var Sc={require:["chart","renderer","dockConfig"],defaultSettings:{layout:{displayOrder:0,prioOrder:0},settings:{},style:{labels:"$label",ticks:"$guide-line",minorTicks:"$guide-line--minor",line:"$guide-line"}},created:function(){this.state={isDiscrete:!!this.scale.bandwidth,isHorizontal:!1,labels:{activeMode:"horizontal"},ticks:[],innerRect:{width:0,height:0,x:0,y:0},outerRect:{width:0,height:0,x:0,y:0},defaultDock:void 0,concreteNodeBuilder:void 0,settings:void 0},this.state.isDiscrete?this.state.defaultDock="bottom":this.state.defaultDock="left",this.setState(this.settings)},setState:function(){this.state.isDiscrete=!!this.scale.bandwidth,this.state.settings=Rc(this),this.state.concreteNodeBuilder=kc(this.state.isDiscrete),this.dockConfig.dock(this.state.settings.dock),this.state.isHorizontal="top"===this.state.settings.align||"bottom"===this.state.settings.align,this.state.labels.activeMode=function(t,e,n){var i=e.labels.mode;return n&&t.isHorizontal?"auto"===i?t.labels.activeMode:-1!==["layered","tilted"].indexOf(e.labels.mode)&&-1!==["top","bottom"].indexOf(e.dock)?i:"horizontal":"horizontal"}(this.state,this.state.settings,this.state.isDiscrete)},preferredSize:function(t){var e=this.formatter,n=this.state,i=this.scale,r=this.state.isHorizontal?t.inner.width:t.inner.height;return this.state.pxScale=co(i,r),function(t){var e=t.isDiscrete,n=t.rect,i=t.formatter,r=t.measureText,a=t.scale,o=t.settings,s=0,c=fc({isDiscrete:e,rect:n,formatter:i,measureText:r,scale:a,settings:o,state:t.state}),u=c.size,l=c.edgeBleed;if(s+=u,c.isToLarge)return{size:s};if(o.ticks.show&&(s+=o.ticks.margin,s+=o.ticks.tickSize),o.minorTicks&&o.minorTicks.show){var h=o.minorTicks.margin+o.minorTicks.tickSize;s<h&&(s=h)}return o.line.show&&(s+=o.line.strokeWidth),s+=o.paddingStart,{size:s+=o.paddingEnd,edgeBleed:l}}({isDiscrete:this.state.isDiscrete,rect:t.inner,formatter:e,measureText:this.renderer.measureText,scale:this.state.pxScale,settings:this.state.settings,state:n})},beforeUpdate:function(t){var e=(0<arguments.length&&void 0!==t?t:{}).settings;this.setState(e)},resize:function(t){var e=t.inner,n=t.outer,i=tt({},e,function(t){var e=t.align,n=t.inner;return"left"===e?{x:n.width+n.x}:"right"===e||"bottom"===e?n:{y:n.y+n.height}}({align:this.state.settings.align,inner:e})),r=n||i;return tt(this.state.innerRect,i),tt(this.state.outerRect,r),n},beforeRender:function(){var t=this.scale,e=this.formatter,n=this.state.isHorizontal?this.state.innerRect.width:this.state.innerRect.height;this.state.pxScale=co(t,n),this.state.ticks=this.state.pxScale.ticks({distance:n,formatter:e})},render:function(){var t=this.state,e=[];return e.push.apply(e,nt(this.state.concreteNodeBuilder.build({settings:this.state.settings,scale:this.state.pxScale,innerRect:this.state.innerRect,outerRect:this.state.outerRect,measureText:this.renderer.measureText,textBounds:this.renderer.textBounds,ticks:this.state.ticks,state:t}))),Ys.multiple(e),e}};function Nc(t,e,n){var i="";if("function"==typeof t)i=t();else if("string"==typeof t)i=t;else if(n){i=(n.data().fields||[]).map(function(t){return t.title()}).join(e)}return i}function zc(t){var e=t.title,n=t.definitionSettings,i=t.dock,r=t.rect,a=t.measureText,o=t.style,s={type:"text",text:e,x:0,y:0,dx:0,dy:0,anchor:function(t,e){var n="middle";return"left"===t?"top"===e?n="end":"bottom"===e&&(n="start"):"right"===t?"top"===e?n="start":"bottom"===e&&(n="end"):"left"===e?n="start":"right"===e&&(n="end"),n}(i,n.anchor),baseline:"alphabetical"};tt(s,o.text);var c=a(s);if("top"===i||"bottom"===i){var u=r.width/2;"left"===n.anchor?u=n.paddingLeft||0:"right"===n.anchor&&(u=r.width-(n.paddingRight||0)),s.x=u,s.y="top"===i?r.height-n.paddingStart:n.paddingStart+c.height,s.dy="top"===i?-c.height/6:-c.height/3,s.maxWidth=.8*r.width}else{var l=r.height/2;"top"===n.anchor?l=n.paddingStart:"bottom"===n.anchor&&(l=r.height-n.paddingStart),s.y=l,s.x="left"===i?r.width-n.paddingStart:n.paddingStart,s.dx="left"===i?-c.height/3:c.height/3;var h="left"===i?270:90;s.transform="rotate(".concat(h,", ").concat(s.x+s.dx,", ").concat(s.y+s.dy,")"),s.maxWidth=.8*r.height}return isNaN(n.maxLengthPx)||(s.maxWidth=Math.min(s.maxWidth,n.maxLengthPx)),s}var Ac={require:["renderer","chart"],defaultSettings:{layout:{dock:"bottom",displayOrder:0,prioOrder:0},settings:{paddingStart:5,paddingEnd:5,paddingLeft:0,paddingRight:0,anchor:"center",join:", ",maxLengthPx:NaN},style:{text:"$title"}},created:function(){this.definitionSettings=this.settings.settings;var t=this.settings.text,e=this.definitionSettings.join;this.title=Nc(t,e,this.scale)},preferredSize:function(){return this.renderer.measureText({text:this.title,fontSize:this.style.text.fontSize,fontFamily:this.style.text.fontFamily}).height+this.definitionSettings.paddingStart+this.definitionSettings.paddingEnd},render:function(){var t=this.title,e=this.definitionSettings,n=this.rect,i=[];return i.push(zc({title:t,dock:this.settings.layout.dock,definitionSettings:e,rect:n,measureText:this.renderer.measureText,style:this.style})),i},beforeUpdate:function(t){t.settings&&(tt(this.settings,t.settings),this.definitionSettings=t.settings.settings);var e=this.settings.text,n=this.definitionSettings.join;this.title=Nc(e,n,this.scale)}};function Cc(t,e){var o,n=t.settings.layout.dock,s=t.settings.settings.invert,c="top"===n||"bottom"===n,i=c?"width":"height",u=t.rect[i],l=t.chart.scroll(t.settings.scroll),r=e[c?"x":"y"];s&&(r=u-r);var a=l.getState();o={startOffset:r,startScroll:a.start,swipe:!1};var h=r/u*(a.max-a.min)+a.min;h<a.start?o.startScroll=h:h>a.start+a.viewSize&&(o.startScroll=h-a.viewSize);return{update:function(t){var e=t[c?"x":"y"];if(s&&(e=u-e),!o.swipe){if(Math.abs(o.startOffset-e)<=1)return;o.swipe=!0}var n=l.getState(),i=(e-o.startOffset)/u*(n.max-n.min),r=o.startScroll+i;l.moveTo(r)},end:function(t){var e=t[c?"x":"y"];s&&(e=u-e);var n=l.getState();if(o.swipe){var i=(e-o.startOffset)/u*(n.max-n.min),r=o.startScroll+i;l.moveTo(r)}else{var a=e/u*(n.max-n.min)+n.min-n.viewSize/2;l.moveTo(a)}}}}function Ec(t,e){var n=e.element().getBoundingClientRect();return{x:t.center.x-n.left,y:t.center.y-n.top}}var Oc={require:["chart","renderer"],on:{panStart:function(t){var e=Ec(t,this.renderer),n={x:e.x-t.deltaX,y:e.y-t.deltaY};this.currentMove=Cc(this,n),this.currentMove.update(e)},panMove:function(t){if(this.currentMove){var e=Ec(t,this.renderer);this.currentMove.update(e)}},panEnd:function(t){if(this.currentMove){var e=Ec(t,this.renderer);this.currentMove.end(e),this.currentMove=null}},panCancel:function(){this.currentMove=null},tap:function(t){var e=Ec(t,this.renderer);Cc(this,e).end(e)}},defaultSettings:{settings:{backgroundColor:"#eee",thumbColor:"#ccc",width:16}},preferredSize:function(t){var e=this.chart.scroll(this.settings.scroll).getState();return e.viewSize>=e.max-e.min?Math.max(t.width,t.height):this.settings.settings.width},render:function(t){var e,n=this.settings.layout.dock,i=this.settings.settings.invert,r="top"===n||"bottom"===n,a=r?"width":"height",o=this.rect[a],s=this.chart.scroll(this.settings.scroll).getState(),c=o*(s.start-s.min)/(s.max-s.min),u=o*s.viewSize/(s.max-s.min);return i&&(c=o-c-u),t("div",{style:{position:"relative",width:"100%",height:"100%",background:this.settings.settings.backgroundColor,pointerEvents:"auto"}},[].concat(t("div",{class:"scroller",style:(e={position:"absolute"},M(e,r?"left":"top","".concat(c,"px")),M(e,r?"top":"left","25%"),M(e,r?"height":"width","50%"),M(e,a,"".concat(Math.max(1,u),"px")),M(e,"background",this.settings.settings.thumbColor),e)})))},renderer:"dom"};var Tc=5,jc=0;function Pc(t){var e=t.h,n=t.isVertical,i=t.value,r=t.pos,a=t.align,o=t.borderHit,s=t.state,c=t.idx,u="end"!==a,l=u?{left:"0",top:"0"}:{right:"0",bottom:"0"},h=0,f="100%",d="100%";return s.targetRect&&"start"===s.settings.bubbles.align?(f="".concat(s.targetRect.x+s.targetRect.width,"px"),d="".concat(s.targetRect.y+s.targetRect.height,"px")):s.targetRect&&"end"===s.settings.bubbles.align&&(h=n?s.targetRect.x:s.targetRect.y,f="".concat(s.rect.width-h,"px"),d="".concat(s.rect.height-h,"px")),u||(r-=o),e("div",{onmouseover:function(t){t.srcElement.children[0].style.backgroundColor="#000",t.srcElement.children[0].style[n?"height":"width"]="2px"},onmouseout:function(t){t.srcElement.children[0].style.backgroundColor=s.style.line.stroke,t.srcElement.children[0].style[n?"height":"width"]="1px"},"data-value":i,"data-key":[s.key,"edge",c].join("-"),style:{cursor:n?"ns-resize":"ew-resize",position:"absolute",left:"".concat(n?h:r,"px"),top:"".concat(n?r:h,"px"),height:n?"".concat(o,"px"):d,width:n?f:"".concat(o,"px"),pointerEvents:"auto"}},[e("div",{style:tt({backgroundColor:s.style.line.stroke,position:"absolute",height:n?"".concat(1,"px"):"100%",width:n?"100%":"".concat(1,"px"),pointerEvents:"none"},l)})])}function Fc(t){var e,n,i=t.h,r=t.isVertical,a=t.label,o=t.otherValue,s=t.rangeIdx,c=t.idx,u=t.pos,l=t.align,h=t.state,f=t.value,d="end"!==l,g="outside"===h.settings.bubbles.placement,p="none";r?(n=d?"left":"right",g&&(p=d?"translate(-100%,  0px)":"translate(100%,  0px)")):(n=d?"top":"bottom",g&&(p=d?"translate(0px, -100%)":"translate(0px,  100%)"));var y=h.edit&&h.edit.rangeIdx===s&&h.edit.bubbleIdx===c,v={position:"relative",borderRadius:"".concat(h.style.bubble.borderRadius,"px"),border:"".concat(h.style.bubble.strokeWidth,"px solid ").concat(h.style.bubble.stroke),backgroundColor:h.style.bubble.fill,color:h.style.bubble.color,fontFamily:h.style.bubble.fontFamily,fontSize:h.style.bubble.fontSize,padding:"4px 8px",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"150px",minWidth:"50px",minHeight:"1em",pointerEvents:"auto",transform:r?"translate(0,-50%)":"translate(-50%,0)",cursor:r?"ns-resize":"ew-resize"},m=h.style.bubble.stroke,x=y?i("input",{type:"text",value:f,style:$({},v,{textAlign:"start",textOverflow:"",fontSize:"13px"}),onkeyup:function(t){if("Enter"===t.key){t.preventDefault(),t.stopPropagation();var e=parseFloat(t.target.value);isNaN(e)?(m="rgba(230, 78, 78, 0.6)",t.target.style.border="".concat(h.style.bubble.strokeWidth,"px solid ").concat(m)):h.onEditConfirmed(s,e,o)}else"Escape"===t.key&&(t.preventDefault(),t.stopPropagation(),h.onEditCanceled())}}):i("div",{"data-key":[h.key,"bubble",s].join("-"),"data-other-value":o,"data-idx":s,"data-bidx":c,style:v},[a]);return i("div",{style:(e={position:"absolute"},M(e,n,"0"),M(e,r?"top":"left","".concat(u,"px")),M(e,"transform",p),e)},[x])}function Bc(t){var e=t.borderHit,n=t.els,i=t.isVertical,r=t.state,a=t.vStart,o=t.vEnd,s=t.idx,c=0;r.targetRect&&(c=i?r.targetRect.y:r.targetRect.x);var u=!!r.scale,l=u?r.scale.norm(a)*r.size:a,h=u?r.scale.norm(o)*r.size:o,f=Math.abs(l-h),d=Math.min(l,h)+c,g=d+f;if(r.targetRect){var p=r.targetFillRect||r.targetRect,y=i?p.height:p.width,v=u?r.scale.norm(a)*y:a,m=u?r.scale.norm(o)*y:o,x=Math.abs(v-m),b=Math.min(v,m),w={h:r.h,isVertical:i,top:b,height:x,color:r.style.target.fill,opacity:r.style.target.opacity};r.style.target.opacity<.8&&(w.on={onmouseover:function(t){t.srcElement.style.opacity=r.style.target.opacity+.1},onmouseout:function(t){t.srcElement.style.opacity=r.style.target.opacity}}),n.push(r.h("div",{style:{position:"absolute",left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),height:"".concat(p.height,"px"),width:"".concat(p.width,"px")}},[function(t){var e=t.h,n=t.isVertical,i=t.top,r=t.height,a=t.color,o=t.on,s=t.opacity;return e("div",tt({style:{backgroundColor:a,opacity:s,position:"absolute",left:n?0:"".concat(i,"px"),top:n?"".concat(i,"px"):0,height:n?"".concat(r,"px"):"100%",width:n?"100%":"".concat(r,"px"),pointerEvents:"auto"}},o),[])}(w)]))}var k=l<h?a:o,M=l<h?o:a,_=O(u?r.scale.domain():[Math.min(a,o),Math.max(a,o)],2),R=_[0],S=_[1],N=R<=k+1e-5&&k-1e-5<=S,z=M-1e-5<=S&&R<=M+1e-5;N&&n.push(Pc({h:r.h,isVertical:i,borderHit:e,value:k,pos:d,align:"start",state:r,idx:s})),z&&n.push(Pc({h:r.h,isVertical:i,borderHit:e,value:M,pos:g,align:"end",state:r,idx:s}));var A=r.settings.bubbles;if(A&&A.show){var C={fontSize:A.fontSize,fontFamily:A.fontFamily,color:A.fill},E=[a,o];N&&n.push(Fc({h:r.h,isVertical:i,align:A.align,style:C,rangeIdx:s,idx:0,otherValue:M,value:k,label:"".concat(r.format(k,E)),pos:d,state:r})),z&&n.push(Fc({h:r.h,isVertical:i,align:A.align,style:C,rangeIdx:s,idx:1,otherValue:k,value:M,label:"".concat(r.format(M,E)),pos:g,state:r}))}}function Dc(t){var e=t.active.limitHigh-t.active.end,n=t.active.limitLow-t.active.start,i=t.current-t.start;return i=i<0?Math.max(i,n):Math.min(i,e)}function Lc(n){var i=[],r=n.direction===jc;if(Array.isArray(n.ranges)&&n.ranges.forEach(function(t,e){n.active&&e===n.active.idx||Bc({borderHit:Tc,els:i,isVertical:r,state:n,vStart:Math.min(t.min,t.max),vEnd:Math.max(t.min,t.max),idx:e})}),n.active){var t=n.start,e=n.current;if(-1!==n.active.idx)if("foo"===n.active.mode)t=Math.min(n.active.start,n.active.end),e=Math.max(n.active.start,n.active.end);else if("modify"===n.active.mode)t=Math.min(n.start,n.current),e=Math.max(n.start,n.current);else{var a=Dc(n);t=n.active.start+a,e=n.active.end+a}Bc({borderHit:Tc,els:i,isVertical:r,state:n,vStart:t,vEnd:e,idx:n.active.idx})}return i}function Ic(t){return{min:t.scale.min(),max:t.scale.max()}}function Wc(t){return{min:0,max:t.direction?t.rect.width:t.rect.height}}function Hc(t,e,n){var i,r,a=t.ranges,o=-1;for(i=0;i<a.length;i++){if(a[i].min<=e&&e<=a[i].max){o=i,n.min=i?a[i-1].max:n.min,n.max=i+1<a.length?a[i+1].min:n.max;break}if(e<a[i].min){n.max=a[i].min,n.min=i?a[i-1].max:n.min;break}}-1===o&&a.length&&i>=a.length&&(n.min=a[a.length-1].max),-1!==o&&(r={idx:o,start:a[o].min,end:a[o].max,limitLow:n.min,limitHigh:n.max,mode:"foo"}),t.active=r}function $c(t){t.renderer.render(Lc(t))}function Vc(t,e){if(!e||!e.isActive())return[];var n=t.scale.data(),i=(n&&n.fields||[]).map(function(t){return t.id()}),r=e.brushes().filter(function(t){return"range"===t.type&&-1!==i.indexOf(t.id)})[0];return r?r.brush.ranges():[]}function qc(t,e){for(var n,i=1/0,r=e.domain(),a=e.bandwidth()/2,o=0;o<r.length;++o){var s=Math.abs(t-a-e(r[o]));s<i&&(i=s,n=r[o])}return n}function Uc(t,e){return Math.min.apply(Math,nt(t))<=Math.max.apply(Math,nt(e))&&Math.max.apply(Math,nt(t))>=Math.min.apply(Math,nt(e))}function Yc(t){return I(t.reduce(function(t,e){return t.push.apply(t,nt(L(e.bounds))),t},[]))}var Xc={require:["chart","settings","renderer"],defaultSettings:{settings:{bubbles:{show:!0,align:"start"}},style:{bubble:"$label-overlay",line:"$shape-guide--inverted",target:"$selection-area-target"}},renderer:"dom",on:{rangeStart:function(t){this.start(t)},rangeMove:function(t){this.move(t)},rangeEnd:function(t){this.end(t)},rangeClear:function(t){this.clear(t)},bubbleStart:function(t){this.bubbleStart(t)}},created:function(){this.state={key:this.settings.key||"brush-range"}},beforeRender:function(t){this.state.rect=t.size.computedInner},renderRanges:function(){this.state.started||(this.state.ranges=Vc(this.state,this.state.brushInstance),this.state.active=null,$c(this.state))},render:function(t){var i=this,n=this.settings.settings;this.state.direction="vertical"===n.direction?jc:1;var e=this.renderer.element().getBoundingClientRect(),r=this.state.rect[this.state.direction===jc?"height":"width"],a=co(this.chart.scale(n.scale),r),o=function(e){var t={targetRect:null,targetFillRect:null,scale:null,size:null},n=e.settings.settings,i=n.target&&(n.target.components||(n.target.component?[n.target.component]:[])).map(function(t){return e.chart.component(t)}).filter(function(t){return!!t&&!!t.rect}),r=n.target&&n.target.selector?e.chart.findShapes(n.target.selector):[],a=n.target&&n.target.fillSelector?e.chart.findShapes(n.target.fillSelector):[];if(0<r.length){var o=Yc(r);if(t.size=o[e.state.direction===jc?"height":"width"],t.scale=co(e.chart.scale(n.scale),t.size),t.targetRect=o,0<a.length){var s=Yc(a);t.targetFillRect=s}}else if(i&&0<i.length){var c=i.slice(1).reduce(function(t,e){return{x0:Math.min(t.x0,e.rect.computedInner.x),y0:Math.min(t.y0,e.rect.computedInner.y),x1:Math.max(t.x1,e.rect.computedInner.x+e.rect.computedInner.width),y1:Math.max(t.y1,e.rect.computedInner.y+e.rect.computedInner.height)}},{x0:i[0].rect.computedInner.x,y0:i[0].rect.computedInner.y,x1:i[0].rect.computedInner.x+i[0].rect.computedInner.width,y1:i[0].rect.computedInner.y+i[0].rect.computedInner.height});t.targetRect={x:c.x0-e.state.rect.x,y:c.y0-e.state.rect.y,width:c.x1-c.x0,height:c.y1-c.y0}}return t}(this);if(a=o.scale?o.scale:a,this.state.targetRect=o.targetRect,this.state.targetFillRect=o.targetFillRect,this.state.size=null===o.size?r:o.size,this.state.settings=n,this.state.style=this.style,this.state.offset=e,this.state.brush="object"===et(n.brush)?n.brush.context:n.brush,this.state.brushInstance=this.chart.brush(this.state.brush),this.state.renderer=this.renderer,this.state.multi=!!n.multiple,this.state.h=t,this.state.onEditConfirmed=function(t,e,n){i.state.edit=null,function(e,t,n,i){var r=e.ranges.map(function(t){return{min:t.min,max:t.max}}),a=e.scale.min(),o=e.scale.max();r[t]={min:Math.max(a,Math.min(n,i)),max:Math.min(o,Math.max(n,i))},e.ranges[t]=$({},r[t]);var s=e.scale.data();s&&s.fields&&s.fields.forEach(function(t){e.fauxBrushInstance||e.brushInstance.setRange(t.id(),r)})}(i.state,t,e,n),i.emit("bubbleEnd"),$c(i.state)},this.state.onEditCanceled=function(){i.state.edit=null,$c(i.state)},this.state.cssCoord={offset:this.state.direction===jc?"top":"left",coord:this.state.direction===jc?"y":"x",pos:this.state.direction===jc?"deltaY":"deltaX"},this.state.format="function"==typeof n.bubbles.label&&function(t,e){return n.bubbles.label.call(void 0,{datum:t,data:e,scale:a,resources:{scale:i.chart.scale,formatter:i.chart.formatter}})},{}.hasOwnProperty.call(a,"norm")){this.state.editable=!0,this.state.observeBrush="object"===et(n.brush)&&n.brush.observe,this.state.fauxBrushInstance=null,this.state.findValues=null,this.state.scale=a;var s=this.state.scale.data();!this.state.format&&s&&s.fields&&s.fields[0]&&(this.state.format=s.fields[0].formatter())}else this.state.editable=!1,this.state.scale=ya(),this.state.scale.data=a.data,this.state.format||(this.state.format=function(t,e){return Uc(a.range(),e)?function(t,e){var n=e.ticks(),i=e.domain().indexOf(qc(t,e));return-1!==i?n[i].label:"-"}(t,a):"-"}),this.state.fauxBrushInstance=Qa(),this.state.findValues=function(t){return function(t,i){var r=i.domain(),a=i.range(),o=[];return t.forEach(function(t){if(Uc(a,[t.min,t.max])){var e=r.indexOf(qc(t.min,i)),n=r.indexOf(qc(t.max,i));o.push.apply(o,r.slice(Math.min(e,n),Math.max(e,n)+1))}}),o}(t,a)};return this.state.ranges=Vc(this.state,this.state.brushInstance),this.state.observeBrush||this.state.sourcedFromThisComponent?[Lc(this.state)]:[]},mounted:function(){this.state.observeBrush&&this.state.brushInstance&&this.state.brushInstance.on("update",this.renderRanges)},beforeDestroy:function(){this.state.observeBrush&&this.state.brushInstance&&this.state.brushInstance.removeListener("update",this.renderRanges)},start:function(t){!function(t){var e=t.state,n=t.e,i=t.renderer,r=t.ranges,a=t.targetSize;if(!e.started){e.edit=null;var o=n.center.x-n.deltaX,s=n.center.y-n.deltaY,c=document.elementFromPoint(o,s);i.element().contains(c)||(c=null);var u={started:!0};e.offset=tt({},i.element().getBoundingClientRect());var l=o-e.offset.left,h=s-e.offset.top;e.offset.left+=e.targetRect?e.targetRect.x:0,e.offset.top+=e.targetRect?e.targetRect.y:0,e.ranges=r(e,e.fauxBrushInstance||e.brushInstance);var f=n.center[e.cssCoord.coord]-n[e.cssCoord.pos]-e.offset[e.cssCoord.offset],d=n.center[e.cssCoord.coord]-e.offset[e.cssCoord.offset];u.current=e.scale.normInvert(d/e.size),u.start=e.scale.normInvert(f/e.size);var g,p,y=e.ranges,v=Ic(e),m=-1;if(c&&c.hasAttribute("data-idx"))m=parseInt(c.getAttribute("data-idx"),10),v.min=0<m?y[m-1].max:v.min,v.max=m+1<y.length?y[m+1].min:v.max;else{for(g=0;g<y.length;g++){if(y[g].min<=u.start&&u.start<=y[g].max){m=g,v.min=g?y[g-1].max:v.min,v.max=g+1<y.length?y[g+1].min:v.max;break}if(u.start<y[g].min){v.max=y[g].min,v.min=g?y[g-1].max:v.min;break}}-1===m&&y.length&&g>=y.length&&(v.min=y[y.length-1].max)}if(-1!==m||e.multi||(u.ranges=[],v.min=e.scale.min(),v.max=e.scale.max()),-1!==m)if(p={idx:m,start:y[m].min,end:y[m].max,limitLow:v.min,limitHigh:v.max,mode:"move"},c&&c.hasAttribute("data-other-value"))u.start=parseFloat(c.getAttribute("data-other-value")),p.mode="modify";else{var x=e.scale.norm(p.start)*e.size,b=e.scale.norm(p.end)*e.size;Math.abs(f-x)<=a?(u.start=p.end,p.mode="modify"):Math.abs(f-b)<=a&&(u.start=p.start,p.mode="modify")}else p={idx:-1,start:u.start,end:u.current,limitLow:v.min,limitHigh:v.max,mode:"current"};"modify"!==(u.active=p).mode&&e.targetRect&&!ts(e.targetRect,{x:l,y:h})||Object.keys(u).forEach(function(t){return e[t]=u[t]})}}({e:t,state:this.state,renderer:this.renderer,ranges:Vc,targetSize:Tc})},end:function(){this.state.started&&(function(t,e){t.started=!1,t.ranges=e(t,t.fauxBrushInstance||t.brushInstance);var n=Ic(t);Hc(t,t.current,n)}(this.state,Vc),$c(this.state),this.state.sourcedFromThisComponent=!0,this.state.active=null)},move:function(t){this.state.started&&(function(t,e){var n=(e.center[t.cssCoord.coord]-t.offset[t.cssCoord.offset])/t.size,i=t.scale.normInvert(n);t.current=Math.max(Math.min(i,t.active.limitHigh),t.active.limitLow)}(this.state,t),function(c){var u=c.ranges.map(function(t){return{min:t.min,max:t.max}});if(-1!==c.active.idx)if("modify"===c.active.mode)u[c.active.idx].min=Math.min(c.start,c.current),u[c.active.idx].max=Math.max(c.start,c.current);else{var t=Dc(c);u[c.active.idx].min+=t,u[c.active.idx].max+=t}else u.push({min:Math.min(c.start,c.current),max:Math.max(c.start,c.current)});var e=c.scale.data();e&&e.fields&&e.fields.forEach(function(e){if(c.fauxBrushInstance){var t=Vc(c,c.fauxBrushInstance),n=c.findValues(t),i=c.findValues(u),r=i.filter(function(t){return-1===n.indexOf(t)}),a=n.filter(function(t){return-1===i.indexOf(t)}),o=r.map(function(t){return{key:e.id(),value:t}}),s=a.map(function(t){return{key:e.id(),value:t}});c.brushInstance.addAndRemoveValues(o,s),c.fauxBrushInstance.setRange(e.id(),u)}else c.brushInstance.setRange(e.id(),u)})}(this.state),$c(this.state))},clear:function(){this.state.fauxBrushInstance&&this.state.fauxBrushInstance.clear(),this.state.renderer.render([]),this.state.started=!1,this.state.active=null,this.state.sourcedFromThisComponent=!1},bubbleStart:function(t){if(this.state.editable){var e=t.srcEvent||t,n=e.target,i={rangeIdx:parseInt(n.getAttribute("data-idx"),10),bubbleIdx:parseInt(n.getAttribute("data-bidx"),10)};if(!isNaN(i.rangeIdx)&&JSON.stringify(i)!==JSON.stringify(this.state.edit)){this.state.edit=i,e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault();var r=n.parentNode;$c(this.state);var a=r.querySelector("input");a.focus(),a.select()}}}};function Zc(t){t.renderer.render(Lc(t))}function Jc(t){return t.rc.ranges()}function Gc(e){var t=e.ranges.map(function(t){return{min:t.min,max:t.max}});if(-1!==e.active.idx)if("modify"===e.active.mode)t[e.active.idx].min=Math.min(e.start,e.current),t[e.active.idx].max=Math.max(e.start,e.current);else{var n=Dc(e);t[e.active.idx].min=e.active.start+n,t[e.active.idx].max=e.active.end+n}else t.push({min:Math.min(e.start,e.current),max:Math.max(e.start,e.current)});e.rc.set(t);var i=[];t.forEach(function(t){i.push.apply(i,nt(function(t,e){var n={x:t.direction?e.min+t.rect.x:t.rect.x,y:t.direction?t.rect.y:e.min+t.rect.y,width:t.direction?e.max-e.min:t.rect.width+t.rect.x,height:t.direction?t.rect.height+t.rect.y:e.max-e.min};return t.chart.shapesAt(n,t.settings.brush)}(e,t)))}),function(t,e){t.chart.brushFromShapes(e,t.settings.brush)}(e,i)}var Kc={require:["chart","settings","renderer"],defaultSettings:{settings:{bubbles:{show:!0,align:"start"}},style:{bubble:"$label-overlay",line:"$shape-guide--inverted",target:"$selection-area-target"}},renderer:"dom",on:{areaStart:function(t){this.start(t)},areaMove:function(t){this.move(t)},areaEnd:function(t){this.end(t)},areaClear:function(t){this.clear(t)}},created:function(){this.state={key:this.settings.key||"brush-area-dir"}},render:function(t){var e=this;this.state.rect=this.rect;var n=this.settings.settings,i="vertical"===n.direction?jc:1,r=this.state.rect[i===jc?"height":"width"],a=this.renderer.element().getBoundingClientRect(),o=(n.target?n.target.components||[n.target.component]:[]).map(function(t){return e.chart.component(t)}).filter(function(t){return!!t&&!!t.rect}),s=o[0]?o.slice(1).reduce(function(t,e){return{x0:Math.min(t.x0,e.rect.x),y0:Math.min(t.y0,e.rect.y),x1:Math.max(t.x1,e.rect.x+e.rect.width),y1:Math.max(t.y1,e.rect.y+e.rect.height)}},{x0:o[0].rect.x,y0:o[0].rect.y,x1:o[0].rect.x+o[0].rect.width,y1:o[0].rect.y+o[0].rect.height}):null;return this.state.targetRect=s?{x:s.x0-this.rect.x,y:s.y0-this.rect.y,width:s.x1-s.x0,height:s.y1-s.y0}:null,this.state.style=this.style,this.state.chart=this.chart,this.state.direction=i,this.state.settings=n,this.state.offset=a,this.state.rc=Ha(),this.state.renderer=this.renderer,this.state.multi=!!n.multiple,this.state.h=t,this.state.size=r,this.state.cssCoord={offset:this.state.direction===jc?"top":"left",coord:this.state.direction===jc?"y":"x",pos:this.state.direction===jc?"deltaY":"deltaX",area:this.state.direction===jc?"height":"width"},this.state.format=function(t,e){return function(r,a,t){var o=Math.min.apply(Math,nt(t)),e=Math.max.apply(Math,nt(t)),n={x:r.direction?o+r.rect.x:r.rect.x,y:r.direction?r.rect.y:o+r.rect.y,width:r.direction?e-o:r.rect.width+r.rect.x,height:r.direction?r.rect.height+r.rect.y:e-o},i=r.chart.shapesAt(n,r.settings.brush);if(0===i.length)return"-";var s=i.reduce(function(t,e){var n=t.bounds,i=e.bounds;return a===o?n[r.cssCoord.coord]<=i[r.cssCoord.coord]?t:e:n[r.cssCoord.coord]+n[r.cssCoord.area]>=i[r.cssCoord.coord]+i[r.cssCoord.area]?t:e}),c=r.settings.brush.components.reduce(function(t,e){return t.key===s.key?t:e});return"function"==typeof r.settings.bubbles.label?r.settings.bubbles.label(s.data):Array.isArray(c.data)&&c.data.length?s.data[c.data[0]].label:s.data&&s.data.label?s.data.label:"-"}(this,t,e)},[]},start:function(t){!function(t){var e=t.state,n=t.e,i=t.renderer,r=t.ranges,a=t.targetSize;if(!e.started){var o=n.center.x-n.deltaX,s=n.center.y-n.deltaY,c=document.elementFromPoint(o,s);i.element().contains(c)||(c=null);var u={started:!0};e.offset=i.element().getBoundingClientRect(),e.ranges=r(e);var l=o-e.offset.left,h=s-e.offset.top,f=n.center[e.cssCoord.coord]-n[e.cssCoord.pos]-e.offset[e.cssCoord.offset],d=n.center[e.cssCoord.coord]-e.offset[e.cssCoord.offset],g=d,p=f;u.start=f,u.current=d;var y,v,m=e.ranges,x=Wc(e),b=-1;if(c&&c.hasAttribute("data-idx"))b=parseInt(c.getAttribute("data-idx"),10),x.min=0<b?m[b-1].max:x.min,x.max=b+1<m.length?m[b+1].min:x.max;else{for(y=0;y<m.length;y++){if(m[y].min<=p&&p<=m[y].max){b=y,x.min=y?m[y-1].max:x.min,x.max=y+1<m.length?m[y+1].min:x.max;break}if(p<m[y].min){x.max=m[y].min,x.min=y?m[y-1].max:x.min;break}}-1===b&&m.length&&y>=m.length&&(x.min=m[m.length-1].max)}if(-1!==b||e.multi||(u.ranges=[],x.min=0,x.max=e.direction?e.rect.width:e.rect.height),-1!==b)if(v={idx:b,start:m[b].min,end:m[b].max,limitLow:x.min,limitHigh:x.max,mode:"move"},c&&c.hasAttribute("data-other-value"))u.start=parseFloat(c.getAttribute("data-other-value")),v.mode="modify";else{var w=v.start,k=v.end;Math.abs(f-w)<=a?(u.start=v.end,v.mode="modify"):Math.abs(f-k)<=a&&(u.start=v.start,v.mode="modify")}else v={idx:-1,start:p,end:g,limitLow:x.min,limitHigh:x.max,mode:"current"};"modify"!==(u.active=v).mode&&e.targetRect&&!ts(e.targetRect,{x:l,y:h})||Object.keys(u).forEach(function(t){return e[t]=u[t]})}}({e:t,state:this.state,renderer:this.renderer,ranges:Jc,targetSize:Tc})},end:function(){this.state.started&&(function(t,e){t.started=!1,t.ranges=e(t);var n=Wc(t);Hc(t,t.current,n)}(this.state,Jc),Zc(this.state))},move:function(t){this.state.started&&(function(t,e){var n=e.center[t.cssCoord.coord]-t.offset[t.cssCoord.offset];t.current=Math.max(Math.min(n,t.active.limitHigh),t.active.limitLow)}(this.state,t),Gc(this.state),Zc(this.state))},clear:function(){this.state.rc&&this.state.rc.clear(),this.state.renderer.render([])}};function Qc(a){var o="vertical"===a.direction,s=a.rect[o?"height":"width"],c=a.rect[o?"width":"height"];return function(t){var e=t.brush;if(!e||!e.isActive())return[];var n=t.scale.data(),i=(n&&n.fields||[]).map(function(t){return t.id()}),r=e.brushes().filter(function(t){return"range"===t.type&&-1!==i.indexOf(t.id)})[0];return r?r.brush.ranges():[]}(a).map(function(t){var e=a.scale(t.min)*s,n=a.scale(t.max)*s,i=Math.min(e,n),r=Math.abs(e-n);return{type:"rect",fill:a.fill,opacity:a.opacity,x:o?0:i,width:o?c:r,y:o?i:0,height:o?r:c}})}function tu(t,e,n,i){function r(){!function(t){t.renderer.render(Qc(t))}(t)}function a(){!function(t){t.renderer.render(Qc(t))}(t)}function o(){!function(t){t.renderer.render(Qc(t))}(t)}(t.brush=e)&&(e.on("start",r),e.on("update",a),e.on("end",o),t.start=r,t.update=a,t.end=o,t.brush=e,t.scale=n,t.renderer=i)}function eu(t){t.brush&&(t.brush.removeListener("start",t.start),t.brush.removeListener("update",t.update),t.brush.removeListener("end",t.end)),t.start=void 0,t.update=void 0,t.end=void 0,t.brush=void 0,t.scale=void 0,t.renderer=void 0}var nu={require:["chart","settings","renderer"],defaultSettings:{settings:{}},preferredSize:function(){return 50},created:function(){this.state={}},render:function(){var t=this.settings.settings,e=this.chart.brush(t.brush),n=t.direction||"horizontal",i="horizontal"===n?this.rect.width:this.rect.height,r=co(this.chart.scale(t.scale),i);return eu(this.state),tu(this.state,e,r,this.renderer),this.state.rect=this.rect,this.state.fill=t.fill||"#ccc",this.state.opacity=void 0!==t.opacity?t.opacity:1,this.state.direction=n,Qc(this.state)},beforeDestroy:function(){eu(this.state)}};function iu(t,e){var n=e.center.x,i=e.center.y;return{x:n-t.left,y:i-t.top}}function ru(t,e,n){return No(t,e.points[0])<Math.pow(n.settings.snapIndicator.threshold,2)}function au(t,e){null==t.path.d?t.path.d="M".concat(e.x," ").concat(e.y," "):t.path.d+="L".concat(e.x," ").concat(e.y," "),t.points.push(e)}function ou(t){var e=t.state,n=t.start,i=void 0===n?null:n,r=t.end,a=void 0===r?null:r;null!==i&&(e.snapIndicator.x1=i.x,e.snapIndicator.y1=i.y),null!==a&&(e.snapIndicator.x2=a.x,e.snapIndicator.y2=a.y)}function su(t,e){t.snapIndicator.visible=e}var cu={require:["chart","renderer","settings"],defaultSettings:{layout:{displayOrder:0},settings:{brush:{components:[]},snapIndicator:{threshold:75,strokeDasharray:"5, 5",stroke:"black",strokeWidth:2,opacity:.5},lasso:{fill:"transparent",stroke:"black",strokeWidth:2,opacity:.7,strokeDasharray:"20, 10"},startPoint:{r:10,fill:"green",stroke:"black",strokeWidth:1,opacity:1}}},on:{lassoStart:function(t){this.start(t)},lassoEnd:function(t){this.end(t)},lassoMove:function(t){this.move(t)},lassoCancel:function(){this.cancel()}},created:function(){this.state={points:[],active:!1,path:null,snapIndicator:null,startPoint:null,rendererBounds:null,componentDelta:null,brushConfig:null,lineBrushShape:{x1:0,y1:0,x2:0,y2:0}}},start:function(t){this.state.active=!0,this.state.path=function(t){return{visible:!0,type:"path",d:null,fill:t.fill,stroke:t.stroke,strokeWidth:t.strokeWidth,opacity:t.opacity,strokeDasharray:t.strokeDasharray,collider:{type:null}}}(this.settings.settings.lasso),this.state.snapIndicator=function(t){return{visible:!1,type:"line",x1:0,y1:0,x2:0,y2:0,strokeDasharray:t.strokeDasharray,stroke:t.stroke,strokeWidth:t.strokeWidth,opacity:t.opacity,collider:{type:null}}}(this.settings.settings.snapIndicator),this.state.startPoint=function(t){return{visible:!0,type:"circle",cx:0,cy:0,r:t.r,fill:t.fill,opacity:t.opacity,stroke:t.stroke,strokeWidth:t.strokeWidth,collider:{type:null}}}(this.settings.settings.startPoint),this.state.rendererBounds=this.renderer.element().getBoundingClientRect(),this.state.componentDelta=function(t,e){var n=t.element.getBoundingClientRect();return{x:e.left-n.left,y:e.top-n.top}}(this.chart,this.state.rendererBounds),this.state.brushConfig=function(t){return t.settings.brush.components.map(function(t){return{key:t.key,contexts:t.contexts||["lassoBrush"],data:t.data||[""],action:t.action||"add"}})}(this.settings);var e=iu(this.state.rendererBounds,t);au(this.state,e),ou({state:this.state,start:e}),function(t,e){t.startPoint.cx=e.x,t.startPoint.cy=e.y}(this.state,e)},move:function(t){if(this.state.active){var e=iu(this.state.rendererBounds,t);ru(e,this.state,this.settings)?su(this.state,!0):su(this.state,!1),au(this.state,e),ou({state:this.state,end:e}),function(t,e){var n=[t.startPoint,t.path,t.snapIndicator].filter(function(t){return t.visible});e.render(n)}(this.state,this.renderer),function(t,e){if(t.active){var n=t.points[t.points.length-2],i=t.points[t.points.length-1];t.lineBrushShape.x1=n.x+t.componentDelta.x,t.lineBrushShape.y1=n.y+t.componentDelta.y,t.lineBrushShape.x2=i.x+t.componentDelta.x,t.lineBrushShape.y2=i.y+t.componentDelta.y;var r=e.shapesAt(t.lineBrushShape,{components:t.brushConfig});e.brushFromShapes(r,{components:t.brushConfig})}}(this.state,this.chart)}},end:function(t){this.state.active&&(su(this.state,!1),ru(iu(this.state.rendererBounds,t),this.state,this.settings)&&function(t,e){if(t.active){var n=t.componentDelta.x,i=t.componentDelta.y,r=t.points.map(function(t){return{x:t.x+n,y:t.y+i}}),a=e.shapesAt({vertices:r},{components:t.brushConfig});e.brushFromShapes(a,{components:t.brushConfig})}}(this.state,this.chart),this.state={points:[],active:!1,path:null,snapIndicator:null,startPoint:null,rendererBounds:null,componentDelta:null,brushConfig:null,lineBrushShape:{x1:0,y1:0,x2:0,y2:0}},this.renderer.render([]))},cancel:function(){this.state.active&&(function(t,e){t.brushConfig.forEach(function(t){t.contexts.forEach(function(t){e.brush(t).end()})})}(this.state,this.chart),this.state={points:[],active:!1,path:null,snapIndicator:null,startPoint:null,rendererBounds:null,componentDelta:null,brushConfig:null,lineBrushShape:{x1:0,y1:0,x2:0,y2:0}},this.renderer.render([]))},render:function(){}};function uu(t,e,n,i,r){for(var a,o=0,s=e.length-1;o<s;){var c=Math.floor((o+s)/2);(a=r(e[c]))[n]+a[i]<t[n]?o=c+1:s=c}return o}function lu(t){function l(t){return t.textBounds}function h(t){return t.node.localBounds}var e=t.orientation,f=t.targetNodes,d=t.labels,g=t.container,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:uu,y=[],v="v"===e?"x":"y",m="v"===e?"width":"height";return function(t,e){var n=d[e],i=n.textBounds,r=n.node;if(i[v]<g[v]||i[v]+i[m]>g[v]+g[m])return!1;for(var a=p(i,y,v,m,l);a<y.length;a++)if(Qo(i,y[a].textBounds))return!1;for(var o=p(i,f,v,m,h),s=i[v]+i[m],c=o;c<f.length;c++){var u=f[c].node;if(s<u.localBounds[v])break;if(Qo(i,u.localBounds)&&r!==u)return!1}return y.push(d[e]),!0}}var hu=1.5,fu=4;function du(t,e){return{node:t,data:t.data,scale:e.scale,formatter:e.formatter,dataset:e.dataset}}function gu(t){var e=et(t);return("string"===e||"number"===e)&&""!==t}function pu(t){return $({type:"rect",rx:2,ry:2,fill:t.backgroundColor},t.backgroundBounds)}function yu(t,e,n){var i={type:"text",text:e,maxWidth:n.rotate?t.height:t.width,x:0,y:t.y,dx:0,dy:0,fill:n.fill,anchor:n.rotate?"end":"start",baseline:"alphabetical",fontSize:"".concat(n.fontSize,"px"),fontFamily:n.fontFamily},r=n.textMetrics;if(!n.overflow&&!function(t,e,n){return n.rotate?!(t.width<e.height||t.height<e.width):!(t.width<e.width||t.height<e.height)}(t,r,n))return!1;if(n.rotate){if(n.overflow&&t.width<r.height)i.x=t.x+t.width/2,i.dx=.35*n.fontSize;else{var a=Math.max(0,t.width-r.height/(.8*hu));i.x=t.x+r.height/hu+n.align*a}var o=Math.max(0,t.height-r.width);i.y=t.y+n.justify*o,i.transform="rotate(-90, ".concat(i.x+i.dx,", ").concat(i.y+i.dy,")")}else{if(n.overflow&&t.height<r.height)i.y=t.y+t.height/2,i.dy=.35*n.fontSize;else{var s=Math.max(0,t.height-r.height/(.8*hu));i.y=t.y+r.height/hu+n.justify*s}var c=Math.max(0,t.width-r.width);i.x=t.x+n.align*c}return i}function vu(t){var e=t.bar,n=t.view,i=t.direction,r=t.position,a=t.padding,o=void 0===a?fu:a,s={};if(tt(s,e),r&&"inside"!==r)if("up"===i||"down"===i){var c=Math.max(0,Math.min(e.y,n.height)),u=Math.max(0,Math.min(e.y+e.height,n.height));"outside"===r&&"up"===i||"opposite"===r&&"down"===i?(s.y=0,s.height=c):("outside"===r&&"down"===i||"opposite"===r&&"up"===i)&&(s.y=u,s.height=n.height-u)}else{var l=Math.max(0,Math.min(e.x,n.width)),h=Math.max(0,Math.min(e.x+e.width,n.width));"outside"===r&&"left"===i||"opposite"===r&&"right"===i?(s.x=0,s.width=l):("outside"===r&&"right"===i||"opposite"===r&&"left"===i)&&(s.x=h,s.width=n.width-h)}else;return function(t,e){var n=Math.max(0,Math.min(t.y,e.height)),i=Math.max(0,Math.min(t.y+t.height,e.height)),r=Math.max(0,Math.min(t.x,e.width)),a=Math.max(0,Math.min(t.x+t.width,e.width));t.x=r,t.width=a-r,t.y=n,t.height=i-n}(s,n),function(t,e){var n=1<arguments.length&&void 0!==e?e:{},i=n.top,r=void 0===i?fu:i,a=n.bottom,o=void 0===a?fu:a,s=n.left,c=void 0===s?fu:s,u=n.right,l=void 0===u?fu:u;t.x+=c,t.width-=c+l,t.y+=r,t.height-=r+o}(s,o),s}function mu(t){var e,n,i,r,a,o=t.direction,s=t.fitsHorizontally,c=t.measured,u=t.node,l=t.orientation,h=t.placementSettings,f=t.rect,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:vu,g=[];for(a=0;a<h.length;a++){if(i=h[a],r=d({bar:u.localBounds,view:f,direction:o,position:i.position,padding:i.padding}),g.push(r),e=!a||r.height>e.height?r:e,"v"===l&&(s&&r.height>c.height*hu||!s&&r.height>c.width)){n=r;break}if("h"===l&&r.height>c.height&&r.width>c.width){n=r;break}}return n||(n=e,a=g.indexOf(n)),{bounds:n,placement:i=h[a]}}function xu(t,e,n,i,r){var a=4<arguments.length&&void 0!==r?r:{},o=a.top,s=void 0===o?fu:o,c=a.bottom,u=void 0===c?fu:c,l=a.left,h=void 0===l?fu:l,f=a.right,d=void 0===f?fu:f,g=t.x+t.dx,p=t.y+t.dy,y=n?Math.min(e.width,i.height):Math.min(e.height,i.width),v=n?Math.min(e.height,i.height):Math.min(e.width,i.width),m=.8*e.height;return{x:(n?g-m:g)-h-1e-9,y:(n?p:p-m)-s-1e-9,width:v+(h+d)-1e-9,height:y+(s+u)-1e-9}}function bu(t){for(var e,n,i,r,a,o,s,c,u,l,h,f,d,g=t.chart,p=t.targetNodes,y=t.rect,v=t.fitsHorizontally,m=t.collectiveOrientation,x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:mu,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:yu,w=3<arguments.length&&void 0!==arguments[3]?arguments[3]:lu,k=[],M={container:y,targetNodes:p,labels:[],orientation:m},_=0,R=p.length;_<R;_++){o=null,f=du(i=(n=p[_]).node,g),d="left"===(u=n.direction)||"right"===u?"h":"v";for(var S=0;S<n.texts.length;S++)if(gu(r=n.texts[S])){var N=x({direction:u,fitsHorizontally:v,lblStngs:l=n.labelSettings[S],measured:c=n.measurements[S],node:i,orientation:d,placements:l.placements,placementSettings:n.placementSettings[S],rect:y});if(o=N.bounds,h=N.placement,o&&h){a=h.justify,s="function"==typeof h.fill?h.fill(f,_):h.fill;var z="function"==typeof l.linkData?l.linkData(f,_):void 0,A="function"==typeof h.overflow?h.overflow(f,_):h.overflow;"up"===u&&(a=1-a),"opposite"===h.position&&(a=1-a),"left"===u&&(a=1-a);var C=!("h"===m||v);(e=b(o,r,{fill:s,justify:"h"==d?h.align:a,align:"h"==d?a:h.align,fontSize:l.fontSize,fontFamily:l.fontFamily,textMetrics:c,rotate:C,overflow:!!A}))&&(void 0!==z&&(e.data=z),"object"===et(h.background)&&(e.backgroundColor="function"==typeof h.background.fill?h.background.fill(f,_):h.background.fill,void 0!==e.backgroundColor&&(e.backgroundBounds=xu(e,c,C,o,h.background.padding))),k.push(e),M.labels.push({node:i,textBounds:xu(e,c,C,o,h.padding)}))}}}var E=k.filter(w(M)),O=E.filter(function(t){return void 0!==t.backgroundBounds}).map(pu);return[].concat(nt(O),nt(E))}function wu(t){var e=2*Math.PI;return(t%e+e)%e}function ku(t,e,n){var i=e.x,r=e.y;if(t*t<i*i+r*r)return null;var a=Math.sin(n),o=Math.cos(n),s=i*o-r*a,c=t*t-s*s;if(c<0)return null;var u=Math.sqrt(c);return{x:s*o+a*u,y:-s*a+o*u}}function Mu(t){var e=t.slice,n=t.padding,i=t.measured,r=e.start,a=e.end,o=e.innerRadius,s=e.outerRadius,c=wu((r+a)/2),u=function(t){var e,n,i=t.radius,r=t.size,a=t.angle,o=r.width,s=r.height,c={x:o/2,y:s/2};switch(Math.floor(a/(Math.PI/2))){case 0:if(!(e=ku(i,c,a)))return null;e.y*=-1,n={x:-o,y:0};break;case 1:if(!(e=ku(i,c,Math.PI-a)))return null;n={x:-o,y:-s};break;case 2:if(!(e=ku(i,c,a-Math.PI)))return null;e.x*=-1,n={x:0,y:-s};break;case 3:if(!(e=ku(i,c,2*Math.PI-a)))return null;e.x*=-1,e.y*=-1,n={x:0,y:0};break;default:throw new Error("invalid angle")}return{x:e.x+n.x,y:e.y+n.y,width:o,height:s}}({radius:s,size:{width:i.width+2*n,height:i.height+2*n},angle:c});return u?(u.baseline="top",es(u,{x1:0,y1:0,x2:Math.sin(r)*s,y2:-Math.cos(r)*s})?null:es(u,{x1:0,y1:0,x2:Math.sin(a)*s,y2:-Math.cos(a)*s})?null:Yo({cx:0,cy:0,r:o},u)?null:(function(t,e){t.x+=e,t.width-=2*e,t.y+=e,t.height-=2*e}(u,n),u)):null}function _u(t){var e=t.slice,n=t.measured,i=t.padding,r=e.start,a=e.end,o=e.innerRadius,s=e.outerRadius,c=s-o-2*i,u=a-r;if(u<Math.PI){var l=(n.height/2+i)/Math.tan(u/2);o<l&&(c=s-l-2*i)}if(c<0)return null;var h=wu((r+a)/2),f=s-i,d={x:Math.sin(h)*f,y:-Math.cos(h)*f,width:c,height:n.height};return h<Math.PI?(d.angle=h-Math.PI/2,d.anchor="end"):(d.angle=h+Math.PI/2,d.anchor="start"),d}function Ru(t){var e=t.context,n=t.node,i=t.bounds,r=n.desc.slice,a=wu((r.start+r.end)/2);switch(Math.floor(a/(Math.PI/2))){case 0:e.q1maxY=i.y-2,void 0===e.q2minY&&(e.q2minY=i.y+i.height+2);break;case 1:e.q2minY=i.y+i.height+2;break;case 2:e.q3minY=i.y+i.height+2;break;case 3:e.q4maxY=i.y-2,void 0===e.q3minY&&(e.q3minY=i.y+i.height+2)}}function Su(t){var e=t.slice,n=t.measured,i=t.padding,r=t.view,a=t.context,o=e.start,s=e.end,c=e.outerRadius,u=e.offset,l=wu((o+s)/2);if(function(t,e,n){switch(e){case 0:return t.q1maxY<0;case 1:return t.q2minY>n.height;case 2:return t.q3minY>n.height;case 3:return t.q4maxY<0;default:return!0}}(a,Math.floor(l/(Math.PI/2)),r))return null;var h=c+i+n.height/2,f=Math.sin(l)*h,d=-Math.cos(l)*h,g=n.width;if(l<Math.PI){var p=Math.abs(r.x+r.width-(f+u.x));p<g&&(g=p)}else{var y=Math.abs(r.x-(f+u.x));y<g&&(g=y)}var v={x:f,y:d,width:g,height:n.height};return l<Math.PI?v.anchor="start":v.anchor="end",v}function Nu(t,e,n){var i={type:"text",text:e,maxWidth:t.width,x:t.x,y:t.y+("top"===t.baseline?t.height/2:0),fill:n.fill,anchor:t.anchor||"start",baseline:"middle",fontSize:"".concat(n.fontSize,"px"),fontFamily:n.fontFamily};if(!isNaN(t.angle)){var r=t.angle*(360/(2*Math.PI));i.transform="rotate(".concat(r,", ").concat(i.x,", ").concat(i.y,")")}return i}function zu(t){var e,n,i=t.slice,r=t.direction,a=t.position,o=t.padding,s=t.measured,c=t.view,u=t.context,l=i.start,h=i.end,f=i.innerRadius,d=i.offset;switch(a){case"into":e="rotate"===r?_u({slice:i,measured:s,padding:o}):Mu({slice:i,measured:s,padding:o});break;case"inside":n={start:l,end:h,innerRadius:0,outerRadius:f},e="rotate"===r?_u({slice:n,measured:s,padding:o}):Mu({slice:n,measured:s,padding:o});break;case"outside":e="rotate"===r?function(t){var e=t.slice,n=t.measured,i=t.padding,r=t.view,a=e.start,o=e.end,s=e.outerRadius,c=e.offset,u=s+i,l=o-a;if(l<Math.PI&&u<(n.height/2+i)/Math.tan(l/2))return null;var h=wu((a+o)/2),f=Math.sin(h)*u,d=-Math.cos(h)*u,g=n.width,p=h%Math.PI;if(p>Math.PI/2&&(p=Math.PI-p),.001<Math.cos(p)){var y=d<0?r.y:r.y+r.height,v=Math.abs(y-c.y)/Math.cos(p)-Math.tan(p)*(n.height/2)-2*i-s;v<g&&(g=v)}if(.001<Math.sin(p)){var m=f<0?r.x:r.x+r.width,x=Math.abs(m-c.x)/Math.sin(p)-n.height/2/Math.tan(p)-2*i-s;x<g&&(g=x)}if(g<=0)return 0;var b={x:f,y:d,width:g,height:n.height};return h<Math.PI?(b.angle=h-Math.PI/2,b.anchor="start"):(b.angle=h+Math.PI/2,b.anchor="end"),b}({slice:i,measured:s,padding:o,view:c}):Su({slice:i,measured:s,padding:o,view:c,context:u});break;default:throw new Error("not implemented")}return e&&(e.x+=d.x,e.y+=d.y,"outside"===a&&"rotate"!==r&&function(t,e,n){var i=n.start,r=n.end,a=n.offset,o=n.outerRadius,s=wu((i+r)/2);switch(Math.floor(s/(Math.PI/2))){case 0:if(void 0!==e.q1maxY){var c=Math.min(t.y,e.q1maxY-t.height),u=t.y-c;if(t.y=c,1<u){var l=o+2;t.line={type:"line",x1:t.x-2,y1:t.y+2,x2:a.x+Math.sin(s)*l,y2:a.y-Math.cos(s)*l,strokeWidth:1}}}break;case 1:if(void 0!==e.q2minY){var h=Math.max(t.y,e.q2minY),f=h-t.y;if(t.y=h,1<f){var d=o+2;t.line={type:"line",x1:t.x-2,y1:t.y-2,x2:a.x+Math.sin(s)*d,y2:a.y-Math.cos(s)*d,strokeWidth:1}}}break;case 2:if(void 0!==e.q3minY){var g=Math.max(t.y,e.q3minY),p=g-t.y;if(t.y=g,1<p){var y=o+2;t.line={type:"line",x1:t.x+2,y1:t.y-2,x2:a.x+Math.sin(s)*y,y2:a.y-Math.cos(s)*y,strokeWidth:1}}}break;case 3:if(void 0!==e.q4maxY){var v=Math.min(t.y,e.q4maxY-t.height),m=t.y-v;if(t.y=v,1<m){var x=o+2;t.line={type:"line",x1:t.x+2,y1:t.y+2,x2:a.x+Math.sin(s)*x,y2:a.y-Math.cos(s)*x,strokeWidth:1}}}}}(e,u,i)),e}function Au(t){for(var e=t.context,n=t.direction,i=t.measured,r=t.node,a=t.placementSettings,o=t.rect,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:zu,c=0;c<a.length;c++){var u=a[c],l=s({context:e,slice:r.desc.slice,view:o,direction:n,position:u.position,measured:i,padding:u.padding});if(l)return{bounds:l,placement:u}}return{bounds:null,placement:null}}function Cu(t){for(var e=[],n=[],i=[],r=[],a=0;a<t.length;++a){var o=t[a].desc.slice,s=wu((o.start+o.end)/2);switch(Math.floor(s/(Math.PI/2))){case 0:e.push(t[a]);break;case 1:n.push(t[a]);break;case 2:i.push(t[a]);break;case 3:r.push(t[a])}}function c(t,e){return wu((t.desc.slice.start+t.desc.slice.end)/2)-wu((e.desc.slice.start+e.desc.slice.end)/2)}function u(t,e){return c(e,t)}return e.sort(u),n.sort(c),i.sort(u),r.sort(c),e.concat(n,r,i)}var Eu=1.2;function Ou(t,e,n){var i={type:"text",text:e,maxWidth:t.width,x:0,y:t.y,dx:0,dy:0,fill:n.fill,anchor:"start",baseline:"alphabetical",fontSize:"".concat(n.fontSize,"px"),fontFamily:n.fontFamily},r=n.textMetrics;if(t.width<n.fontSize)return!1;var a=Math.max(0,t.width-r.width);return i.x=t.x+n.align*a,i.y=t.y+r.height/Eu,i}function Tu(t){return{type:"circle",bounds:{cx:t.cx,cy:t.cy,r:t.r}}}function ju(t){return t.desc&&t.desc.slice?function(t){var e=t.start,n=t.end,i=t.innerRadius,r=t.outerRadius,a=t.offset;if(1e-12<Math.abs(e+2*Math.PI-n))return{type:null,bounds:null};var o=0!==i?i:r;return Tu({cx:a.x,cy:a.y,r:o})}(t.desc.slice):"circle"===t.type?Tu(t.attrs):"rect"===t.type?{type:"rect",bounds:t.bounds}:{type:null,bounds:null}}var Pu={bar:function(t){var n=t.settings,e=t.chart,i=t.nodes,r=t.rect,a=t.renderer,o=t.style,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:bu,c=tt({fontSize:12,fontFamily:"Arial",align:.5,justify:0,fill:"#333"},o.label);c.fontSize=parseInt(c.fontSize,10);var u=n.labels.map(function(t){return tt({},c,n,t)}),l=n.labels.map(function(e){return e.placements.map(function(t){return tt({},c,n,e,t)})}),h=function(t){for(var e,n,i,r,a,o,s,c=t.nodes,u=t.rect,l=t.chart,h=t.labelSettings,f=t.placementSettings,d=t.settings,g=t.renderer,p={},y=[],v=!0,m=!1,x=0;x<c.length;x++)if(Qo(r=(n=c[x]).localBounds,u)){var b=du(n,l);e={node:n,texts:[],measurements:[],labelSettings:[],placementSettings:[]};for(var w=0;w<h.length;w++)gu(i="function"==typeof(o=h[w]).label?o.label(b,x):void 0)&&(s="function"==typeof d.direction?d.direction(b,x):d.direction||"up",m=m||"left"===s||"right"===s,p.fontFamily=o.fontFamily,p.fontSize="".concat(o.fontSize,"px"),p.text=i,a=g.measureText(p),e.measurements.push(a),e.texts.push(i),e.labelSettings.push(o),e.placementSettings.push(f[w]),e.direction=s,v=v&&a.width<=r.width-2*fu);y.push(e)}return{targetNodes:y,fitsHorizontally:v,hasHorizontalDirection:m}}({nodes:i,chart:e,renderer:a,settings:n,rect:r,labelSettings:u,placementSettings:l}),f=h.fitsHorizontally,d=h.hasHorizontalDirection,g=h.targetNodes,p=d?"y":"x",y=d?"height":"width";return g.sort(function(t,e){return t.node.localBounds[p]+t.node.localBounds[y]-(e.node.localBounds[p]+e.node.localBounds[y])}),s({chart:e,targetNodes:g,stngs:n,rect:r,fitsHorizontally:f,collectiveOrientation:d?"h":"v"})},slice:function(t){var n=t.settings,e=t.chart,i=t.nodes,r=t.rect,a=t.renderer,o=t.style,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Au,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Nu,u=tt({fontSize:12,fontFamily:"Arial",fill:"#333",padding:4,position:"into"},o.label);u.fontSize=parseInt(u.fontSize,10);for(var l,h,f,d,g,p=n.labels.map(function(t){return tt({},u,n,t)}),y=n.labels.map(function(e){return e.placements.map(function(t){return tt({},u,n,e,t)})}),v={},m=[],x={},b=0,w=(i=Cu(i)).length;b<w;b++)for(var k=i[b],M=(g=e,{node:d=k,data:d.data,scale:g.scale,formatter:g.formatter,dataset:g.dataset}),_=0;_<p.length;_++){var R=p[_],S="function"==typeof R.label?R.label(M,b):"";if(S){var N="function"==typeof R.direction?R.direction(M,b):R.direction||"horizontal",z="function"==typeof R.linkData?R.linkData(M,b):void 0;v.fontFamily=R.fontFamily,v.fontSize="".concat(R.fontSize,"px"),v.text=S;var A=a.measureText(v),C=s({context:x,direction:N,lblStngs:R,measured:A,node:k,placementSettings:y[_],rect:r}),E=C.bounds,O=C.placement;if(E&&O){if("outside"===O.position&&"rotate"!==N){Ru({context:x,node:k,bounds:E});var T={x:(f=E).x,y:f.y-f.height/2,width:f.width,height:f.height};if(!((l=T).x>=(h=r).x&&l.x+l.width<=h.x+h.width&&l.y>=h.y&&l.y+l.height<=h.y+h.height))continue}var j="function"==typeof O.fill?O.fill(M,b):O.fill,P=c(E,S,{fill:j,fontSize:R.fontSize,fontFamily:R.fontFamily,textMetrics:A});P&&(void 0!==z&&(P.data=z),m.push(P),E.line&&(E.line.stroke=j,m.push(E.line)))}}}return m},rows:function(t){var e=t.settings,n=t.chart,i=t.nodes,r=t.renderer,a=t.style,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ou,s=tt({fontSize:12,fontFamily:"Arial",fill:"#333",padding:4,align:.5,justify:.5},a.label);s.fontSize=parseInt(s.fontSize,10);for(var c,u,l=tt({},s,e),h=e.labels.map(function(t){return tt({},l,t)}),f={},d=[],g=0,p=i.length;g<p;g++){var y=i[g],v=(u=n,{node:c=y,data:c.data,scale:u.scale,formatter:u.formatter,dataset:u.dataset}),m=ju(y),x=m.type,b=m.bounds;if(b){var w=0,k=[],M=[],_="circle"===x?2*b.r*.9:b.height;w+=l.padding;var R=void 0;for(R=0;R<h.length;R++){var S=h[R],N="function"==typeof S.label?S.label(v,g):"";f.fontFamily=S.fontFamily,f.fontSize="".concat(S.fontSize,"px"),f.text=N;var z=r.measureText(f);if(_<(w+=z.height+S.padding))break;M.push(N),k.push(z)}var A=R,C=Math.max(0,_-w),E=void 0;for(E="circle"===x?b.cy-.9*b.r:b.y,E+=l.justify*C+l.padding,R=0;R<A;R++){var O=h[R],T=void 0;if("circle"===x){var j=Math.max(Math.abs(E-b.cy),Math.abs(E+k[R].height-b.cy)),P=Math.sqrt(b.r*b.r-j*j);T={x:b.cx-P+l.padding,y:E,width:2*P-2*l.padding,height:k[R].height}}else T={x:b.x+l.padding,y:E,width:b.width-2*l.padding,height:k[R].height};E+=k[R].height+l.padding;var F="function"==typeof O.fill?O.fill(v,g):O.fill,B="function"==typeof O.linkData?O.linkData(v,g):void 0,D=o(T,M[R],{fill:F,align:O.align,fontSize:O.fontSize,fontFamily:O.fontFamily,textMetrics:k[R]});D&&(void 0!==B&&(D.data=B),d.push(D))}}}return d}};var Fu={require:["chart","renderer","settings"],defaultSettings:{settings:{},style:{label:"$label"}},render:function(){var e=this,t=this.settings.settings,n=[];return(t.sources||[]).forEach(function(t){t.strategy&&Pu[t.strategy.type]&&t.component&&n.push.apply(n,nt(function(t,e){var n=t.chart,i=t.source,r=t.rect,a=t.renderer,o=t.style;if(!n.component(i.component))return[];var s=n.findShapes(i.selector).filter(function(t){return t.key===i.component});return e({chart:n,settings:i.strategy.settings,nodes:s,rect:{x:0,y:0,width:r.width,height:r.height},renderer:a,style:o})}({chart:e.chart,rect:e.rect,renderer:e.renderer,source:t,style:e.style},Pu[t.strategy.type])))}),n}};var Bu={layout:{size:1,direction:"ltr",scrollOffset:0},item:{show:!0,justify:.5,align:.5,label:{fontSize:"12px",fontFamily:"Arial",fill:"#595959",wordBreak:"none",maxLines:2,maxWidth:136,lineHeight:1.2},shape:{type:"square",size:12}},title:{show:!0,text:void 0,anchor:"start",fontSize:"16px",fontFamily:"Arial",fill:"#595959",wordBreak:"none",maxLines:2,maxWidth:156,lineHeight:1.25},navigation:{button:{class:void 0,content:void 0}}};function Du(t){var e=t.x,n=void 0===e?0:e,i=t.y,r=t.item,a=t.globalMetrics,o=t.symbolFn,s=void 0===o?To:o,c=t.direction,u=void 0===c?"ltr":c,l=r.label.displayObject,h=r.label.bounds,f=r.symbol.meta,d="rtl"===u,g={x:d?n+a.maxLabelBounds.width:n+a.maxSymbolSize+a.spacing,y:i,width:a.maxLabelBounds.width,height:Math.max(a.maxSymbolSize,a.maxLabelBounds.height)},p=function(t,e,n){var i=Math.max(0,t.width-e),r=Math.max(0,t.height-e);return{x:t.x+e/2+n.align*i,y:t.y+e/2+n.justify*r}}({x:d?n+a.maxLabelBounds.width+a.spacing:n,y:i,width:a.maxSymbolSize,height:g.height},f.size,{align:void 0===f.align?.5:f.align,justify:void 0===f.justify?.5:f.justify}),y=s(tt({},f,p));return delete y.collider,l.anchor=d?"end":"start",function(t,e,n){var i=n.textMetrics;if(t.height<i.height)return;var r=Math.max(0,t.width-i.width);e.baseline="hanging";var a=Math.max(0,t.height-i.height);e.x=t.x+n.align*r,e.y=t.y+n.justify*a}(g,l,{textMetrics:h,fontSize:parseInt(l.fontSize,10),align:0,justify:.5}),{item:{type:"container",data:r.label.displayObject.data,children:[y,l],collider:{type:"rect",x:n,y:i,width:a.maxItemBounds.width,height:a.maxItemBounds.height}},metrics:g}}function Lu(t,e){var n=t.items.length,i=Math.ceil(n/e),r="horizontal"===t.layout.orientation?"width":"height",a="width"==r?"horizontal":"vertical";return t.globalMetrics.maxItemBounds[r]*i+(i-1)*t.layout.margin[a]}function Iu(e,t){var i,r,a,o,n=t.onScroll,s=void 0===n?function(){}:n,c=null,u=0,l={itemize:function(t){i=function(t,e){for(var n,i,r=t.resolved,a=t.dock,o=[],s=r.items.items,c=r.symbols.items,u=r.labels.items,l=0,h=0,f=0,d=0;d<s.length;d++)if(!1!==s[d].show){var g=void 0!==u[d].text?u[d].text:u[d].data.label||"";n=tt({},u[d],{type:"text",fontSize:"".concat(parseInt(u[d].fontSize,10),"px"),text:g,title:g}),i={symbol:{meta:c[d]},label:{displayObject:n,bounds:e.textBounds(n)}},o.push(i),l=Math.max(c[d].size,l),h=Math.max(i.label.bounds.width,h),f=Math.max(i.label.bounds.height,f)}return{items:o,globalMetrics:{spacing:8,maxSymbolSize:l,maxItemBounds:{height:Math.max(l,f),width:l+8+h},maxLabelBounds:{width:h,height:f}},layout:{margin:{vertical:void 0!==r.layout.item.vertical?r.layout.item.vertical:8,horizontal:void 0!==r.layout.item.horizontal?r.layout.item.horizontal:8},mode:r.layout.item.mode,size:r.layout.item.size,orientation:"top"===a||"bottom"===a?"horizontal":"vertical",direction:r.layout.item.direction,scrollOffset:r.layout.item.scrollOffset}}}(t,e.renderer),c=null!==c||isNaN(i.layout.scrollOffset)?c:i.layout.scrollOffset},getItemsToRender:function(t){a=t.viewRect,u=l.getContentOverflow(a);var e=l.extent();c=Math.max(0,Math.min(c,u)),o=tt({},a);var n="horizontal"===l.orientation()?"x":"y";return o[n]-=c,o["x"==n?"width":"height"]=e,function(t,e,n){for(var i=t.viewRect,r=n.itemized,a=n.create,o=void 0===a?Du:a,s=n.parallels,c=r.layout.direction,u=r.globalMetrics,l=r.items,h="horizontal"===r.layout.orientation,f=0,d=[],g=u.maxItemBounds.height,p=u.maxItemBounds.width,y=r.layout.margin.vertical+g,v=r.layout.margin.horizontal+p,m=e.x,x=e.y,b=i.x-e.x,w=0;w<l.length;w++){var k=o({y:x,x:"rtl"===c?i.x+b+i.width-p-(m-e.x):m,item:l[w],globalMetrics:u,direction:c});if((h&&m>=i.x-p||!h&&x>=i.y-g)&&d.push(k.item),s<=++f?(f=0,h?(m+=v,x=e.y):(x+=y,m=e.x)):h?x+=y:m+=v,!h&&x>i.y+i.height)break;if(h&&m>i.x+i.width)break}return d}(t,o,{itemized:i,parallels:r})},parallelize:function(t,e){return r=function(t,e,n){var i=n.items.length,r="horizontal"===n.layout.orientation?"width":"height",a="width"==r?"horizontal":"vertical",o=n.globalMetrics.maxItemBounds[r]*i+(i-1)*n.layout.margin[a],s=Math.ceil(o/t);if(null!=e){var c="horizontal"===n.layout.orientation?"height":"width",u=Math.floor(e/(4+n.globalMetrics.maxItemBounds[c]));s=Math.min(s,u)}var l=isNaN(n.layout.size)?1:n.layout.size;return Math.max(1,Math.min(s,l))}(t,e,i)},hasContentOverflow:function(){var t="horizontal"===i.layout.orientation?"width":"height";return Lu(i,r)>a[t]},getContentOverflow:function(t){var e=0<arguments.length&&void 0!==t?t:a,n="horizontal"===i.layout.orientation?"width":"height";return Math.max(0,Lu(i,r)-e[n])},getNextSize:function(){var t="horizontal"===i.layout.orientation?"width":"height",e="width"==t?"horizontal":"vertical";return i.globalMetrics.maxItemBounds[t]+i.layout.margin[e]},getPrevSize:function(){var t="horizontal"===i.layout.orientation?"width":"height",e="width"==t?"horizontal":"vertical";return i.globalMetrics.maxItemBounds[t]+i.layout.margin[e]},hasNext:function(){return"horizontal"===l.orientation()?a.x+a.width<o.x+o.width:a.y+a.height<o.y+o.height},hasPrev:function(){return"horizontal"===l.orientation()?o.x<a.x:o.y<a.y},next:function(){l.scroll(-l.getNextSize())},prev:function(){l.scroll(l.getPrevSize())},scroll:function(t){var e=Math.max(0,Math.min(u,c-t));e!==c&&(c=e,s())},offset:function(){return c},orientation:function(){return i.layout.orientation},direction:function(){return i.layout.direction},extent:function(){return Lu(i,r)},spread:function(){return function(t,e){var n=e,i="horizontal"===t.layout.orientation?"height":"width",r="width"==i?"horizontal":"vertical";return t.globalMetrics.maxItemBounds[i]*n+(n-1)*t.layout.margin[r]}(i,r)}};return l}function Wu(e){return Object.keys(e).filter(function(t){return e[t]}).join(" ")}var Hu={up:"â²",right:"â¶",down:"â¼",left:"â"};function $u(t,e){var n=e.size,i=e.isActive,r=e.direction,a=e.nav,o=e.attrs,s={},c="";a&&a.button&&("function"==typeof a.button.class?s=a.button.class({direction:r}):a.button.class&&(s=a.button.class),"function"==typeof a.button.content&&(c=a.button.content(t,{direction:r})));var u={width:"".concat(n,"px"),minWidth:"".concat(n,"px"),height:"".concat(n,"px")};Object.keys(s).length||(u.border="0",u.background="none");var l=o;return i||(l.disabled="disabled"),t("button",tt({class:Wu(s),style:u},l),[c||t("span",{style:{pointerEvents:"none"}},[Hu[r]])])}function Vu(e){var n,i={itemize:function(t){n=function(t){var e=t.dock;return{layout:{orientation:"top"===e||"bottom"===e?"vertical":"horizontal"},navigation:t.navigation}}(t)},render:function(t){return function(t,e,n,i){var r=e.rect,a=e.itemRenderer;if(t&&t.renderArgs){t.size(r);var o=t.renderArgs[0],s="vertical"===n.layout.orientation,c="rtl"===a.direction(),u=a.hasNext(),l=a.hasPrev();if(l||u){var h=s?["right","left"]:["down","up"];c&&s&&h.reverse();var f=[o("div",{style:{position:"relative",display:"flex","flex-direction":s?"column":"row","justify-content":"center",height:"100%",pointerEvents:"auto"},dir:c&&!s?"rtl":"ltr"},[$u(o,{size:32,isActive:u,direction:h[0],attrs:{"data-action":"next","data-component-key":i.settings.key},nav:n.navigation}),$u(o,{size:32,isActive:l,direction:h[1],attrs:{"data-action":"prev","data-component-key":i.settings.key},nav:n.navigation})])];t.render(f)}else t.render([])}}(i.renderer,t,n,e)},extent:function(){return 32},spread:function(){return 64}};return i}function qu(e){var n,i={itemize:function(t){n=function(t,e){var n=t.resolved;if(!1===n.title.item.show)return null;var i=tt({},n.title.item,{type:"text"});if("rtl"===n.layout.item.direction&&(i.anchor&&"start"!==i.anchor?"end"===i.anchor&&(i.anchor="start"):i.anchor="end"),void 0===n.title.settings.text){var r=e.scale.data().fields;i.text=r&&r[0]?r[0].title():""}return{displayObject:i,bounds:e.renderer.textBounds(i)}}(t,e)},render:function(t){!function(t,e,n){var i=t.rect;if(e){var r=[];if(e.size(i),n){var a={start:0,end:i.width,middle:i.width/2};r.push(tt({},n.displayObject,{x:a[n.displayObject.anchor]||0,y:0,baseline:"hanging",title:n.displayObject.text}))}e.render(r)}}(t,i.renderer,n)},spread:function(){return n?n.bounds.height:0},extent:function(){return n?n.bounds.width:0}};return i}function Uu(t,e,n,i){var r,a,o,s=i.itemRenderer,c=i.navigationRenderer,u=i.titleRenderer,l=i.isPreliminary,h=void 0!==l&&l,f=0,d={x:e.spacing,y:e.spacing,width:t.width-2*e.spacing,height:t.height-2*e.spacing};if(r={x:d.x,y:d.y,width:d.width,height:u.spread()},"horizontal"===n){r={x:d.x,y:d.y,width:u.extent(),height:u.spread()};var g=d.width-r.width-(r.width?e.spacing:0),p=d.height;s.parallelize(g,h?void 0:p);var y=s.extent()>g?c.extent():0,v=s.spread(),m=y?c.spread():0;o={x:(a={x:r.x+r.width+(r.width?e.spacing:0),y:d.y+Math.max(0,(m-v)/2),width:d.width-y-r.width-(y?e.spacing:0)-(r.width?e.spacing:0),height:p}).x+a.width+(y?e.spacing:0),y:d.y,width:y,height:d.height},r.y=a.y,"rtl"===s.direction()&&(o.x=d.x,a.x=o.x+o.width+(o.width?e.spacing:0),r.x=a.x+a.width+(r.width?e.spacing:0)),f=Math.max(r.height,m,s.spread())}else{var x=d.height-r.height-(r.height?e.spacing:0),b=d.width;s.parallelize(x,h?void 0:b);var w=s.extent()>x?c.extent():0;o={x:d.x,y:d.y+d.height-w,width:d.width,height:w},a={x:d.x,y:r.y+r.height+(r.height?e.spacing:0),width:d.width,height:d.height-r.height-(r.height?e.spacing:0)-o.height-(o.height?e.spacing:0)},f=Math.max(u.extent(),w?c.spread():0,s.spread())}return a=tt({},t,{x:t.x+a.x,y:t.y+a.y,width:a.width,height:a.height}),o.x+=t.x,o.y+=t.y,r.x+=t.x,r.y+=t.y,{title:tt({},t,r),content:tt({},t,a),navigation:tt({},t,o),orientation:n,preferredSize:f}}function Yu(t){t.state.resolved=function(i){var r=i.scale.domain(),t={items:[]},e=i.settings.layout.dock;if("threshold-color"===i.scale.type){var n=i.scale.data().fields[0],a=function(t){return String(t)};i.settings.formatter?a=i.chart.formatter(i.settings.formatter):n&&(a=n.formatter());for(var o=0;o<r.length-1;o++){var s={value:r[o],label:"".concat(a(r[o])," - < ").concat(a(r[o+1]))};n&&(s.source={field:n.id()}),t.items.push(s)}"vertical"==("top"===e||"bottom"===e?"horizontal":"vertical")&&t.items.reverse()}else{var c=i.scale.labels?i.scale.labels():null;t.items=r.map(function(t,e){var n=i.scale.datum?tt({},i.scale.datum(t)):{value:t};return n.value=t,i.scale.label?n.label=i.scale.label(t):c&&(n.label=c[e]),n})}var u=i.resolver.resolve({data:{fields:i.scale.data().fields},defaults:tt(!0,{},Bu.title,i.style.title),settings:i.settings.settings.title}),l=i.resolver.resolve({data:{fields:i.scale.data().fields},defaults:Bu.layout,settings:i.settings.settings.layout}),h=i.resolver.resolve({data:t,defaults:tt(!0,{},Bu.item.label,i.style.item.label),settings:(i.settings.settings.item||{}).label}),f=tt(!0,{},(i.settings.settings.item||{}).shape);void 0===f.fill&&i.settings.scale&&(f.fill={scale:i.settings.scale});var d=i.resolver.resolve({data:t,defaults:tt(!0,{},Bu.item.shape,i.style.item.shape),settings:f}),g=i.resolver.resolve({data:t,defaults:tt(!0,{},{show:Bu.item.show}),settings:{show:(i.settings.settings.item||{}).show}});function p(t,e){var n=t.data.value,i=r[e+1];t.data.value=[n,i]}return"threshold-color"===i.scale.type&&("vertical"==("top"===e||"bottom"===e?"horizontal":"vertical")?(g.items.reverse().forEach(p),g.items.reverse()):g.items.forEach(p)),{title:u,labels:h,symbols:d,items:g,layout:l}}(t),t.titleRenderer.itemize({resolved:t.state.resolved,dock:t.settings.layout.dock||"center"}),t.itemRenderer.itemize({resolved:t.state.resolved,dock:t.settings.layout.dock||"center"}),t.navigationRenderer.itemize({resolved:t.state.resolved,dock:t.settings.layout.dock||"center",navigation:t.settings.settings.navigation}),t.state.display={spacing:8}}function Xu(t){var e=t.rect,n=t.settings,i=t.state,r=t.itemRenderer,a=t.navigationRenderer,o=t.titleRenderer,s=n.layout.dock,c="top"===s||"bottom"===s?"horizontal":"vertical",u=Uu(e,i.display,c,{itemRenderer:r,navigationRenderer:a,titleRenderer:o});t.renderer.size(u.content);var l=r.getItemsToRender({viewRect:tt({},u.content,{x:0,y:0})});return a.render({rect:u.navigation,itemRenderer:r}),o.render({rect:u.title}),t.state.views={layout:u},l}var Zu={require:["chart","settings","renderer","update","resolver","registries"],defaultSettings:{settings:{},style:{item:{label:"$label",shape:"$shape"},title:"$title"}},mounted:function(t){t&&t.parentNode&&(this.navigationRenderer.renderer.appendTo(t.parentNode),this.titleRenderer.renderer.appendTo(t.parentNode),t.parentNode.insertBefore(this.navigationRenderer.renderer.element(),t),t.parentNode.insertBefore(this.titleRenderer.renderer.element(),t)),this.navigationRenderer.render({rect:this.state.views.layout.navigation,itemRenderer:this.itemRenderer}),this.titleRenderer.render({rect:this.state.views.layout.title})},beforeUnmount:function(){this.navigationRenderer.renderer.clear(),this.titleRenderer.renderer.clear()},on:{panstart:function(){this.state.interaction.started||this.itemRenderer.getContentOverflow()&&(this.state.interaction.started=!0,this.state.interaction.delta=0)},panmove:function(t){if(this.state.interaction.started){var e="horizontal"===this.itemRenderer.orientation()?("rtl"===this.itemRenderer.direction()?-1:1)*t.deltaX:t.deltaY;this.itemRenderer.scroll(e-this.state.interaction.delta),this.state.interaction.delta=e}},panend:function(){this.state.interaction.started=!1},scroll:function(t){this.itemRenderer.scroll(-t)},next:function(){this.itemRenderer.next()},prev:function(){this.itemRenderer.prev()}},created:function(){var e=this;this.state={interaction:{}},this.onScroll=function(){var t=Xu(e);e.update(t)},this.itemRenderer=Iu(this,{onScroll:this.onScroll}),this.navigationRenderer=Vu(this),this.titleRenderer=qu(this),this.navigationRenderer.renderer=this.registries.renderer("dom")(),this.titleRenderer.renderer=this.registries.renderer(this.settings.renderer)(),Yu(this)},preferredSize:function(t){return function(t,e){var n=0,i=t.settings.layout.dock||"center",r="top"===i||"bottom"===i?"horizontal":"vertical",a=t.state.display,o=Uu(e.inner,a,r,{itemRenderer:t.itemRenderer,navigationRenderer:t.navigationRenderer,titleRenderer:t.titleRenderer,isPreliminary:!0});return n+=a.spacing,n+=o.preferredSize,n+=a.spacing}(this,t)},beforeUpdate:function(){Yu(this)},render:function(){return Xu(this)},beforeDestroy:function(){this.navigationRenderer.renderer.destroy(),this.titleRenderer.renderer.destroy()},additionalElements:function(){return[this.titleRenderer.renderer.element(),this.navigationRenderer.renderer.element()]},_DO_NOT_USE_getInfo:function(){return{offset:this.itemRenderer.offset()}}};function Ju(t,e){var n=0,i=t.state.isVertical?"justify":"align",r=t.state.isVertical?"y":"x",a=t.state.isVertical?"height":"width",o=t.state.isVertical?"requiredHeight":"requiredWidth";n=t.state.rect[a]-t.state.legend.length()-t.state.title[o](),n*=Math.min(1,Math.max(t.stgns[i],0)),e[r]+=n}function Gu(t,e,n){var i=n[t];return"object"===et(i)?-1!==i.valid.indexOf(e)?e:i.default:n.default}function Ku(t,e){var n={x:0,y:0,width:0,height:0},i=t.stgns.padding;return n.x=i.left,n.y=i.top,n.width=e.width-i.left-i.right,n.height=e.height-i.top-i.bottom,n}function Qu(i){var r="top"!==i.settings.layout.dock&&"bottom"!==i.settings.layout.dock,n=i.stgns.title,t=i.chart.scale(i.stgns.fill),e=i.chart.scale(i.stgns.major),a=function(i,r){var t=r.domain(),a=t,e=i.stgns.tick.label;return!e&&i.formatter?e=i.formatter:!e&&r.data().fields&&(e=r.data().fields[0].formatter()),"function"==typeof e&&(a=t.map(e).map(String)),t.map(function(t,e){var n=a[e];return{value:t,label:n,pos:r.norm(parseFloat(t,10)),textMetrics:i.renderer.measureText({text:n,fontSize:i.stgns.tick.fontSize,fontFamily:i.stgns.tick.fontFamily})}})}(i,e),o=function(t){return Gu(t.layout.dock,t.settings.tick.anchor,{left:{valid:["left","right"],default:"left"},right:{valid:["left","right"],default:"right"},top:{valid:["top","bottom"],default:"top"},bottom:{valid:["top","bottom"],default:"bottom"},default:"right"})}(i.settings);if(void 0===n.text){var s=e.data().fields;n.text=s&&s[0]?s[0].title():""}var c=i.renderer.measureText({text:n.text,fontSize:n.fontSize,fontFamily:n.fontFamily}),u=i.renderer.textBounds({text:n.text,fontSize:n.fontSize,fontFamily:n.fontFamily,maxLines:n.maxLines,maxWidth:n.maxLengthPx,wordBreak:n.wordBreak,hyphens:n.hyphens,lineHeight:n.lineHeight}),l={isVertical:r,nodes:[],title:{anchor:function(t){return Gu(t.layout.dock,t.settings.title.anchor,{left:{valid:["top"],default:"top"},right:{valid:["top"],default:"top"},top:{valid:["left","right"],default:"left"},bottom:{valid:["left","right"],default:"left"},default:"top"})}(i.settings),textMetrics:c,textBounds:u,requiredWidth:function(){if(!n.show)return 0;var t=u.width,e=n.maxLengthPx;return r||(t+=n.padding,e+=n.padding),Math.min(t,e,l.rect.width)},requiredHeight:function(){if(!n.show)return 0;var t=u.height;return r&&(t+=n.padding),Math.min(t,l.rect.height)}},ticks:{values:a,anchor:o,length:Math.min(Math.max.apply(Math,nt(a.map(function(t){return t.textMetrics.width}))),i.stgns.tick.maxLengthPx),requiredHeight:function(){return"top"===o?Math.max.apply(Math,nt(l.ticks.values.map(function(t){return t.textMetrics.height})))+i.stgns.tick.padding:0},height:Math.max.apply(Math,nt(a.map(function(t){return t.textMetrics.height})))},legend:{fillScale:t,majorScale:e,length:function(){var t=r?"height":"width",e=r?"requiredHeight":"requiredWidth",n=Math.min(l.rect[t],l.rect[t]*i.stgns.length)-l.title[e]();return Math.max(0,Math.min(n,i.stgns.maxLengthPx))}}};return l}var tl={require:["chart","settings","renderer"],defaultSettings:{layout:{displayOrder:0,dock:"right"},settings:{size:15,length:.5,maxLengthPx:250,align:.5,justify:0,padding:{left:5,right:5,top:5,bottom:5},tick:{label:null,fill:"#595959",fontSize:"12px",fontFamily:"Arial",maxLengthPx:100,anchor:null,padding:5},title:{show:!0,text:void 0,fill:"#595959",fontSize:"12px",fontFamily:"Arial",maxLengthPx:100,padding:5,maxLines:2,wordBreak:"none",lineHeight:1.2,hyphens:"auto",anchor:null}}},preferredSize:function(t){var e=this.state;e.rect=Ku(this,t.inner);var n=this.stgns.size,i=e.isVertical?this.stgns.padding.left+this.stgns.padding.right:this.stgns.padding.top+this.stgns.padding.bottom;n+=i;var r=Math.max(t.inner.width,t.inner.height);if("left"===e.ticks.anchor||"right"===e.ticks.anchor){if(e.ticks.values.reduce(function(t,e){return t+e.textMetrics.height},0)>this.state.legend.length())return r;n+=e.ticks.length}else{if(e.ticks.length>this.state.legend.length())return r;n+=Math.max.apply(Math,nt(e.ticks.values.map(function(t){return t.textMetrics.height})))}return n+=this.stgns.tick.padding,this.stgns.title.show&&(n="left"===e.title.anchor||"right"===e.title.anchor?Math.max(e.title.textBounds.height+i,n):Math.max(n,e.title.requiredWidth()+i)),this.state.preferredSize=n},created:function(){this.stgns=this.settings.settings,this.state=Qu(this)},beforeUpdate:function(t){this.stgns=t.settings.settings,this.state=Qu(this)},beforeRender:function(t){if(this.state.nodes=[],this.state.rect=Ku(this,t.size),this.stgns.title.show){var e=function(t){var e=t.state,n=t.stgns,i="left"===e.ticks.anchor,r="top"===e.ticks.anchor,a=e.rect.x,o=e.rect.y,s="start";"left"===e.title.anchor?(a+=e.title.requiredWidth()-n.title.padding,o+=e.title.textMetrics.height,o+=r?e.rect.height-e.title.textBounds.height:0,s="end"):"right"===e.title.anchor?(a+=e.legend.length(),a+=n.title.padding,o+=e.title.textMetrics.height,o+=r?e.rect.height-e.title.textBounds.height:0):"top"===e.title.anchor&&(a+=i?e.rect.width:0,o+=e.title.textMetrics.height,s=i?"end":"start");var c={tag:"legend-title",type:"text",x:a,y:Math.min(o,e.rect.y+e.rect.height),text:n.title.text,fill:n.title.fill,fontSize:n.title.fontSize,fontFamily:n.title.fontFamily,maxWidth:n.title.maxLengthPx,maxLines:n.title.maxLines,wordBreak:n.title.wordBreak,hyphens:n.title.hyphens,lineHeight:n.title.lineHeight,anchor:s,title:n.title.text};return Ju(t,c),c}(this);this.state.nodes.push(e)}var n=function(t,e){var n=t.state,i=t.stgns,r=n.rect,a=r.x,o=r.y,s=n.isVertical?i.size:n.legend.length(),c=n.isVertical?n.legend.length():i.size;"left"===n.ticks.anchor?a+=n.rect.width-i.size:"top"===n.ticks.anchor&&(o+=n.rect.height-i.size),"top"===n.title.anchor?o+=n.title.requiredHeight():"left"===n.title.anchor&&(a+=n.title.requiredWidth());var u={type:"rect",x:a,y:o,width:s,height:c,fill:{type:"gradient",stops:e,degree:n.isVertical?90:180}};return Ju(t,u),u}(this,function(t){var e=t.state.legend.fillScale,n=t.state.legend.majorScale;return e.domain().map(function(t){return{type:"stop",color:e(t),offset:Math.min(1,Math.max(0,n.norm(t)))}}).sort(function(t,e){return t.offset-e.offset})}(this)),i={id:"legend-seq-target",type:"container",children:[n,function(r,a){var o=r.state,s=r.stgns,c="start",u={type:"rect",x:a.x,y:a.y,width:o.isVertical?0:a.width,height:o.isVertical?a.height:0,fill:"transparent"},t=o.ticks.values.map(function(t){var e=0,n=0,i=0;return o.isVertical?(n=a.y+a.height*t.pos,i=1===t.pos?-t.textMetrics.height/5:t.textMetrics.height):e=a.x+a.width*t.pos,"right"===o.ticks.anchor?(e=a.x+s.size+s.tick.padding,u.x=a.x+a.width):"left"===o.ticks.anchor?(e=a.x-s.tick.padding,c="end"):"top"===o.ticks.anchor?(n=a.y-s.tick.padding,i-=.25*t.textMetrics.height,c=0===t.pos?"start":"end"):"bottom"===o.ticks.anchor&&(n=a.y+a.height+s.tick.padding,i=.8*t.textMetrics.height,c=0===t.pos?"start":"end",u.y=a.y+a.height),{type:"text",x:e,y:n,dx:0,dy:i,text:t.label,fontSize:s.tick.fontSize,fontFamily:s.tick.fontFamily,fill:s.tick.fill,maxWidth:o.isVertical?s.tick.maxLengthPx:Math.min(s.tick.maxLengthPx,o.legend.length()/2),anchor:c,textBoundsFn:r.renderer.textBounds,title:t.label}});return{type:"container",id:"legend-seq-ticks",children:[].concat(nt(t),[u])}}(this,n)]};this.state.nodes.push(i)},render:function(){return this.state.nodes}};var el={step:function(t){return new ie(t,.5)},stepAfter:function(t){return new ie(t,1)},stepBefore:function(t){return new ie(t,0)},linear:jt,basis:function(t){return new Ht(t)},cardinal:qt.tension(0),catmullRom:Yt,monotonex:function(t){return new Kt(t)},monotoney:function(t){return new Qt(t)},natural:function(t){return new ee(t)}},nl={coordinates:{minor:.5,major:.5,layerId:0},orientation:"horizontal",layers:{curve:"linear",show:!0,sort:void 0,line:{stroke:"#ccc",strokeWidth:1,strokeLinejoin:"miter",strokeDasharray:void 0,opacity:1,show:!0},area:{fill:"#ccc",opacity:.8,show:!0}}};function il(t,e,n){var i=e.generator,r=e.item,a=e.data,o=2<arguments.length&&void 0!==n?n:"",s={type:"path",d:i(t),opacity:r.opacity,stroke:r.stroke,strokeWidth:r.strokeWidth,strokeLinejoin:r.strokeLinejoin,fill:o||r.fill,data:a};return r.strokeDasharray&&(s.strokeDasharray=r.strokeDasharray),s}function rl(u){var t=function(t){for(var e=t.data,n=t.stngs,i=t.rect,r=t.resolver,a=t.style,o=i.width,s=i.height,c=r.resolve({data:e,defaults:nl.coordinates,settings:n.coordinates||{},scaled:{major:"vertical"===n.orientation?s:o,minor:"vertical"===n.orientation?o:s}}),u={},l=0,h=0;h<c.items.length;h++){var f=c.items[h],d=f.layerId;u[d]=u[d]||{order:l++,id:d,items:[],firstPoint:f.data},u[d].items.push(f)}var g=Object.keys(u).map(function(t){return u[t]}),p={items:g.map(function(t){return t.firstPoint})},y=n.layers||{};return{coordinates:c,metaLayers:g,layers:r.resolve({data:p,defaults:{curve:nl.layers.curve,show:nl.layers.show},settings:{curve:y.curve,show:y.show}}),lines:r.resolve({data:p,defaults:tt({},nl.layers.line,a.line),settings:y.line}),areas:r.resolve({data:p,defaults:tt({},nl.layers.area,a.area),settings:y.area})}}(u),e=t.metaLayers,l=t.coordinates,h=t.layers,f=t.lines,d=t.areas,g=[];return e.forEach(function(t,e){var n=h.items[e];if(!1!==n.show){n.datum=n.data,n.data=[],n.id=t.id;for(var i,r,a=[],o=[],s=0;s<t.items.length;s++)r=(i=t.items[s]).data,isNaN(i.major)||(u.missingMinor0&&(i.minor0=l.settings.minor.scale?l.settings.minor.scale(r.minor0?r.minor0.value:0):0),isNaN(i.minor)||a.push(i.minor),o.push(i),n.data.push(i.data));var c=a.sort(function(t,e){return t-e})[Math.floor((a.length-1)/2)];g.push({layerObj:n,lineObj:f.items[e],areaObj:d.items[e],median:c,points:o,firstPoint:t.firstPoint})}}),g}var al={require:["chart","resolver"],defaultSettings:{style:{area:"$shape",line:"$shape-outline"}},created:function(){},render:function(t){var e=t.data,n=this.rect,i=n.width,r=n.height;this.stngs=this.settings.settings||{};var a=!this.stngs.coordinates||void 0===this.stngs.coordinates.minor0,o=rl({data:e,stngs:this.stngs,rect:this.rect,resolver:this.resolver,style:this.style,missingMinor0:a});if(this.stngs.layers&&this.stngs.layers.sort){var s=o.map(function(t){return{id:t.layerObj.id,data:t.layerObj.data}});s.sort(this.stngs.layers.sort).map(function(t){return t.id}),o.sort(function(t,e){return s.indexOf(e.layerObj.id)-s.indexOf(t.layerObj.id)})}else o.sort(function(t,e){return t.median-e.median});return function(t,e){var h=e.width,f=e.height,d=e.missingMinor0,g=e.stngs,p=[],y=g.layers||{};return t.forEach(function(t){var e,n,i=t.lineObj,r=t.layerObj,a=t.areaObj,o=t.points,s=Bt(),c={size:f,p:"y"},u={size:h,p:"x"};if("vertical"===g.orientation){var l=tt(!0,{},u);u=tt(!0,{},c),c=tt(!0,{},l)}s[u.p](function(t){return t.major*u.size})["".concat(c.p,"1")](function(t){return t.minor*c.size})["".concat(c.p,"0")](function(t){return t.minor0*c.size}).defined(function(t){return"number"==typeof t.minor&&!isNaN(t.minor)}).curve(el["monotone"===r.curve?"monotone".concat(u.p):r.curve]),e=s["line".concat(c.p.toUpperCase(),"1")](),n=s["line".concat(c.p.toUpperCase(),"0")](),y.area&&!1!==a.show&&p.push(il(o,{data:t.firstPoint,item:a,generator:s})),i&&!1!==i.show&&(p.push(il(o,{data:t.firstPoint,item:i,generator:e},"none")),!d&&y.area&&!1!==a.show&&p.push(il(o,{data:t.firstPoint,item:i,generator:n},"none")))}),p}(o,{width:i,height:r,missingMinor0:a,stngs:this.stngs})}};function ol(t,e,n){var i,r,a=!(2<arguments.length&&void 0!==n)||n;r="object"===et(e.center)?(i=e.center.x,e.center.y):(i=e.clientX,e.clientY);var o=i-t.state.boundingRect.left,s=r-t.state.boundingRect.top;return{x:a?Math.max(0,Math.min(o,t.rect.width)):o,y:a?Math.max(0,Math.min(s,t.rect.height)):s}}function sl(t,e){return{x:e.x+t.rect.x,y:e.y+t.rect.y}}function cl(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y);return{x:n,y:i,width:Math.max(t.x,e.x)-n,height:Math.max(t.y,e.y)-i}}var ul={require:["chart","renderer"],defaultSettings:{layout:{displayOrder:99},settings:{brush:{components:[]}},style:{area:"$selection-area-target"}},on:{areaStart:function(t){this.start(t)},areaMove:function(t){this.move(t)},areaEnd:function(t){this.end(t)},areaCancel:function(){this.cancel()}},created:function(){this.state={start:{x:0,y:0},end:{x:0,y:0},active:!1}},preferredSize:function(){return 0},render:function(){},start:function(t){this.state.boundingRect=this.renderer.element().getBoundingClientRect();var e=ol(this,t,!1);ts({x:0,y:0,width:this.rect.width,height:this.rect.height},e)&&(this.state.brushConfig=function(t){return t.settings.brush.components.map(function(t){return{key:t.key,contexts:t.contexts,data:t.data,action:t.action||"set"}})}(this.settings),this.state.start=ol(this,t),this.state.active=!0)},move:function(t){this.state.active&&(this.state.end=ol(this,t),function(t){if(t.state.active){var e=sl(t,t.state.start),n=sl(t,t.state.end),i=t.chart.shapesAt(cl(e,n),{components:t.state.brushConfig});t.chart.brushFromShapes(i,{components:t.state.brushConfig})}}(this),function(t){t.renderer.render([tt({type:"rect"},cl(t.state.start,t.state.end),t.style.area)])}(this))},end:function(){this.state.active&&(this.state={start:{x:0,y:0},end:{x:0,y:0},active:!1},this.renderer.render([]))},cancel:function(){this.state.active&&(function(t,e){t.brushConfig.forEach(function(t){Array.isArray(t.contexts)&&t.contexts.forEach(function(t){e.brush(t).end()})})}(this.state,this.chart),this.state={start:{x:0,y:0},end:{x:0,y:0},active:!1},this.renderer.render([]))}};function ll(t,e,n){var i=n.renderer,r=n.style,a=n.props,o=n.h,s=function(t,e){return{tooltip:"function"==typeof t.tooltipClass?t.tooltipClass({dock:e.dock}):t.tooltipClass,content:"function"==typeof t.contentClass?t.contentClass({dock:e.dock}):t.contentClass,arrow:"function"==typeof t.arrowClass?t.arrowClass({dock:e.dock}):t.arrowClass}}(a,e),c=function(t,e,n,i){return i.content({h:t,style:n,data:e})}(o,t,r,a),u=o("div",{dir:a.direction,class:Wu(tt({"pic-tooltip":!0},s.tooltip)),style:tt({position:"relative",display:"inline-block"},e.computedTooltipStyle)},o("div",{style:r.content,class:Wu(tt({"pic-tooltip-content":!0},s.content))},c),o("div",{class:Wu(tt({"pic-tooltip-arrow":!0},s.arrow)),style:tt({},r.arrow,r["arrow-".concat(e.dock)],e.computedArrowStyle)}));return i.render(u),i.element().children[0]}function hl(t){function e(){}function i(){s=o=null,c=!1,u.set("fulfilled")}var r=t.defaultDuration,a=t.defaultDelay,o=null,s=null,c=!1,u=function(){function t(){}var n={pending:[],debounced:[],active:[],cancelled:[],rejected:[],fulfilled:[]};return t.set=function(e){n[e].forEach(function(t){return t(e)})},t.on=function(t,e){Array.isArray(t)?t.forEach(function(t){return n[t].push(e)}):n[t].push(e)},t.destroy=function(){Object.keys(n).forEach(function(t){n[t].length=0})},t}();return e.invoke=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a;o&&(clearTimeout(o),u.set("debounced")),u.set("pending"),o=setTimeout(function(){t(),c=!0,o=null,u.set("active")},n),0<e&&(s&&clearTimeout(s),s=setTimeout(i,e+Math.max(n,0)))},e.clear=function(){c?u.set("cancelled"):o&&(clearTimeout(o),u.set("rejected")),s&&clearTimeout(s),s=o=null,c=!1},e.on=function(t,e){u.on(t,e)},e.destroy=function(){e.clear(),u.destroy()},e}function fl(t){var e=0<arguments.length&&void 0!==t?t:0;return{left:"translate(-100%,-50%) translateX(".concat(-e,"px)"),right:"translate(".concat(e,"px, -50%)"),top:"translate(-50%, -100%) translateY(".concat(-e,"px)"),bottom:"translate(-50%, ".concat(e,"px)")}}function dl(t,e,n){var i=2<arguments.length&&void 0!==n?n:0;return{left:{x:-t-i,y:-e/2},right:{x:i,y:-e/2},top:{x:-t/2,y:-e-i},bottom:{x:-t/2,y:i}}}function gl(t){return{left:{left:"100%",top:"calc(50% - ".concat(t,"px)"),borderWidth:"".concat(t,"px")},right:{left:"".concat(2*-t,"px"),top:"calc(50% - ".concat(t,"px)"),borderWidth:"".concat(t,"px")},top:{left:"calc(50% - ".concat(t,"px)"),top:"100%",borderWidth:"".concat(t,"px")},bottom:{left:"calc(50% - ".concat(t,"px)"),top:"".concat(2*-t,"px"),borderWidth:"".concat(t,"px")}}}function pl(t){var e=t.options,n=t.pointer,i=t.width,r=t.height,a=t.dockOrder,o=t.x,s=t.y,c=n.targetBounds,u=fl(e.offset),l=u[e.dock];if(l)return{computedTooltipStyle:{left:"".concat(o,"px"),top:"".concat(s,"px"),transform:l},computedArrowStyle:gl(e.offset)[e.dock],dock:e.dock};for(var h,f,d,g,p,y,v,m,x,b,w,k,M,_={width:"target"===e.area?c.width:window.innerWidth,height:"target"===e.area?c.height:window.innerHeight},R=dl(i,r,e.offset),S=[],N="target"===e.area?o:c.left+o,z="target"===e.area?s:c.top+s,A=0;A<a.length;A+=1){var C=a[A],E=(h={area:_,vx:N,vy:z,width:i,height:r,offset:R[C]},M=k=w=b=x=m=void 0,f=h.area,d=h.vx,g=h.vy,p=h.width,y=h.height,v=h.offset,m=d+v.x,x=g+v.y,w=y,k=m<0?-m:0,M=x<0?-x:0,{x:k+=m+(b=p)>f.width?-(m+b-f.width):0,y:M+=x+w>f.height?-(x+w-f.height):0}),O={left:"".concat(o,"px"),top:"".concat(s,"px"),transform:u[C]},T=gl(e.offset)[C];0!==E.x&&(O.width="".concat(i-20-Math.abs(E.x),"px"),"top"!==C&&"bottom"!==C||(O.left="".concat(o+E.x,"px"),T.left="calc(50% ".concat(0<E.x?"-":"+"," ").concat(Math.abs(E.x),"px)")));var j={computedTooltipStyle:O,computedArrowStyle:T,dock:C,rect:{width:i,height:r}};if(0===E.x&&0===E.y)return j;j.offset=E,S.push(j)}return S.sort(function(t,e){return Math.abs(t.offset.x)-Math.abs(e.offset.x)}),S[0]}function yl(t,e,n){var i=t.key?n.component(t.key):n.componentsFromPoint({x:e.clientX,y:e.clientY})[0];if(!i)return{x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1}};var r=i.rect;return tt({scaleRatio:r.scaleRatio},r.computedInner)}var vl,ml={bounds:function(t){var e=t.resources,n=t.nodes,i=t.pointer,r=t.width,a=t.height,o=t.options,s=i.targetBounds,c=e.getNodeBoundsRelativeToTarget(n[0]),u=c.x,l=c.y,h=c.width,f=c.height,d={left:{x:u,y:l+f/2},right:{x:u+h,y:l+f/2},top:{x:u+h/2,y:l},bottom:{x:u+h/2,y:l+f}},g=fl(o.offset),p=g[o.dock];if(p)return{computedTooltipStyle:{left:"".concat(d[o.dock].x,"px"),top:"".concat(d[o.dock].y,"px"),transform:p},computedArrowStyle:gl(o.offset)[o.dock],dock:o.dock};for(var y,v,m,x,b,w,k,M,_,R={width:"target"===o.area?s.width:window.innerWidth,height:"target"===o.area?s.height:window.innerHeight},S=dl(r,a,o.offset),N=["top","left","right","bottom"],z=0;z<N.length;z+=1){var A=N[z],C="target"===o.area?d[A].x:s.left+d[A].x,E="target"===o.area?d[A].y:s.top+d[A].y;if(y=R,v=C,m=E,x=r,b=a,w=S[A],_=M=k=void 0,k=v+w.x,M=m+w.y,_=b,!(k<0||M<0||k+x>y.width||M+_>y.height))return{computedTooltipStyle:{left:"".concat(d[A].x,"px"),top:"".concat(d[A].y,"px"),transform:g[A]},computedArrowStyle:gl(o.offset)[A],dock:A}}return{computedTooltipStyle:{left:"".concat(d.top.x,"px"),top:"".concat(d.top.y,"px"),transform:g.top},computedArrowStyle:gl(o.offset).top,dock:"top"}},pointer:function(t){var e=t.options,n=t.pointer,i=t.width,r=t.height;return pl({x:n.x,y:n.y,pointer:n,width:i,height:r,options:e,dockOrder:["top","left","right","bottom"]})},slice:function(t){var e=t.options,n=t.pointer,i=t.width,r=t.height,a=t.nodes,o=t.resources,s=a[0],c=n.dx,u=n.dy,l=o.getComponentBoundsFromNode(s),h=c+l.x+l.width/2,f=u+l.y+l.height/2,d=s.desc.slice,g=d.start,p=d.end,y=d.outerRadius,v=(g+p)/2-Math.PI/2,m=2*Math.PI,x=(v%m+m)%m,b=["top","left","right","bottom"];return"auto"===e.dock&&(b=x<=Math.PI/4||x>=7*Math.PI/4?["right","top","bottom","left"]:x<=3*Math.PI/4?["bottom","left","right","top"]:x<=5*Math.PI/4?["left","top","bottom","right"]:["top","left","right","bottom"]),pl({x:h+y*l.scaleRatio.x*Math.cos(x),y:f+y*l.scaleRatio.y*Math.sin(x),pointer:n,width:i,height:r,options:e,dockOrder:b})}};function xl(t,e){var n=t.width,i=t.height,r=e.chart,a=e.state,o=e.props,s={resources:{formatter:r.formatter,scale:r.scale,component:r.component,getComponentBoundsFromNode:function(t){return yl(t,a.pointer,r)},getNodeBoundsRelativeToTarget:function(t){return function(t,e,n){var i=yl(t,e,n),r=t.bounds;return{x:i.x+e.dx+r.x,y:i.y+e.dy+r.y,width:r.width,height:r.height}}(t,a.pointer,r)}},nodes:a.activeNodes,pointer:a.pointer,width:n,height:i},c=et(o.placement);if("object"===c&&"function"==typeof o.placement.fn)return o.placement.fn(s);var u={type:"pointer",offset:8,dock:"auto",area:"viewport"};"function"===c&&(u=tt(u,o.placement(s))),"object"===c&&ml[o.placement.type]?u=tt(u,o.placement):"string"===c&&ml[o.placement]&&(u=tt(u,{type:o.placement})),s.options=u;var l=ml[u.type](s),h=s.resources.getComponentBoundsFromNode(s.nodes[0]),f=h.x,d=h.y,g=h.width,p=h.height;return g+=f+=s.pointer.dx,p+=d+=s.pointer.dy,l.computedTooltipStyle.left="".concat(Math.min(Math.max(0,f,parseFloat(l.computedTooltipStyle.left)),g),"px"),l.computedTooltipStyle.top="".concat(Math.min(Math.max(0,d,parseFloat(l.computedTooltipStyle.top)),p),"px"),l}function bl(){vl=null}var wl={require:["chart","renderer"],defaultSettings:{settings:{duration:8e3,delay:500,filter:function(t){return t.filter(function(t){return t.data&&void 0!==t.data.value})},extract:function(t){return t.node.data.value},content:function(t){var e=t.h;return t.data.map(function(t){return e("div",{},t)})},isEqual:function(t,n){return t.length&&t.length===n.length&&t.every(function(t,e){return n[e]&&JSON.stringify(t.data)===JSON.stringify(n[e].data)})},placement:{type:"pointer",dock:"auto",offset:8,area:"viewport"},tooltipClass:{},contentClass:{},arrowClass:{},direction:"ltr",appendTo:void 0,beforeShow:void 0,afterShow:void 0,beforeHide:void 0,onHide:void 0,afterHide:void 0},style:{tooltip:{},content:{backgroundColor:"$gray-25",color:"$font-color--inverted",fontFamily:"$font-family",fontSize:"$font-size",lineHeight:"$line-height",borderRadius:"4px",padding:"8px",opacity:.9},arrow:{position:"absolute",width:"0px",height:"0px",borderStyle:"solid",color:"$gray-25",opacity:.9},"arrow-bottom":{borderTopColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent"},"arrow-top":{borderBottomColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent"},"arrow-right":{borderTopColor:"transparent",borderLeftColor:"transparent",borderBottomColor:"transparent"},"arrow-left":{borderTopColor:"transparent",borderBottomColor:"transparent",borderRightColor:"transparent"}}},renderer:"dom",on:{hide:function(){this.hide()},show:function(t,e){var n=1<arguments.length&&void 0!==e?e:{};this.show(t,n)},prevent:function(t){this.prevent(t)}},hide:function(){this.dispatcher.clear(),this.state.activeNodes=[],this.state.pointer={}},show:function(t,e){var n,i=this,r=1<arguments.length&&void 0!==e?e:{},a=r.nodes,o=r.duration,s=r.delay;this.state.prevent||(this.state.pointer=function(t,e){var n=e.chart,i=e.state,r=0,a=0;t.center?(r+=t.center.x,a+=t.center.y):(r+=t.clientX,a+=t.clientY);var o=n.element.getBoundingClientRect(),s=i.targetElement.getBoundingClientRect(),c=r,u=a,l=o.left-s.left,h=o.top-s.top,f=r-o.left,d=a-o.top;return{x:r-=s.left,y:a-=s.top,dx:l,dy:h,cx:f,cy:d,clientX:c,clientY:u,targetBounds:s,chartBounds:o}}(t,this),n=Array.isArray(a)?this.props.filter(a):this.props.filter(this.chart.shapesAt({x:this.state.pointer.cx,y:this.state.pointer.cy})),this.props.isEqual(this.state.activeNodes,n)||(this.dispatcher.clear(),this.state.activeNodes=n,this.state.activeNodes.length&&this.dispatcher.invoke(function(){return i.invokeRenderer(i.state.activeNodes)},o,s)))},prevent:function(t){this.state.prevent=!!t},init:function(t){var e=this;this.state={activeNodes:[],pointer:{},targetElement:null,prevent:!1},this.props=t.settings,this.dispatcher=hl({defaultDuration:this.props.duration,defaultDelay:this.props.delay});var n=this.dispatcher.clear;this.dispatcher.on("pending",function(){!function(t){vl&&vl!==t&&vl()}(n),function(t){vl=t}(n),"function"==typeof e.props.beforeShow&&e.props.beforeShow.call(void 0,{resources:{formatter:e.chart.formatter,scale:e.chart.scale}})}),this.dispatcher.on(["cancelled","fulfilled"],function(){var t={resources:{formatter:e.chart.formatter,scale:e.chart.scale}};"function"==typeof e.props.beforeHide&&e.props.beforeHide.call(void 0,tt({element:e.state.tooltipElm},t)),"function"==typeof e.props.onHide?e.props.onHide.call(void 0,tt({element:e.state.tooltipElm},t)):e.renderer.clear([]),"function"==typeof e.props.afterHide&&e.props.afterHide.call(void 0,t),function(t){vl===t&&(vl=null)}(n),e.state.tooltipElm=void 0}),this.dispatcher.on("active",function(){"function"==typeof e.props.afterShow&&e.props.afterShow.call(void 0,{element:e.state.tooltipElm,resources:{formatter:e.chart.formatter,scale:e.chart.scale}})})},created:function(){this.init(this.settings)},beforeUpdate:function(t){var e=t.settings;this.dispatcher&&(this.dispatcher.destroy(),bl()),this.init(e)},render:function(t){return this.h=t,[]},beforeDestroy:function(){this.dispatcher.destroy(),bl()},appendTo:function(){if(this.props.appendTo){this.state.targetElement="function"==typeof this.props.appendTo?this.props.appendTo({resources:{formatter:this.chart.formatter,scale:this.chart.scale}}):this.props.appendTo;var t=this.state.targetElement.getBoundingClientRect(),e=t.width,n=t.height;this.renderer.destroy(),this.renderer.size({width:e,height:n}),this.renderer.appendTo(this.state.targetElement)}else this.state.targetElement=this.renderer.element()},mounted:function(){this.appendTo()},updated:function(){this.appendTo()},invokeRenderer:function(t){var e=function(t,e){var n=e.chart,i=e.scale,r=e.props,a=e.h,o={resources:{dataset:n.dataset,scale:n.scale,formatter:n.formatter},scale:i,h:a},s=[];return t.forEach(function(t){if("function"==typeof r.extract){var e=tt({node:t},o);s.push(r.extract(e))}}),s}(t,this),n=xl(ll(e,{style:{left:"0px",top:"0px",visibility:"hidden"}},this).getBoundingClientRect(),this);this.state.tooltipElm=ll(e,n,this)}};var kl={require:["renderer","chart"],defaultSettings:{settings:{target:"",selector:"*",fill:"rgba(0, 255, 0, 0.1)",stroke:"lime",opacity:1,useOuterRect:!1}},on:{update:function(){this.draw()}},draw:function(){var e=this,t=this.chart.findShapes(this.props.selector).filter(function(t){return t.key===e.props.target}).filter(function(t){return t.collider}).map(function(t){return t.collider});t.forEach(function(t){t.fill=e.props.fill,t.stroke=e.props.stroke,t.opacity=e.props.opacity,t.collider={type:null}}),this.renderer.render(t)},created:function(){this.props=this.settings.settings},resize:function(t){var e=t.outer,n=t.inner;return this.props.useOuterRect?e:n},render:function(){},mounted:function(){this.draw()},updated:function(){this.props=this.settings.settings,this.draw()}},Ml=2*Math.PI;function _l(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function Rl(t,e,n,i,r){var a=1-t;return Math.pow(a,3)*e+3*Math.pow(a,2)*t*n+3*a*Math.pow(t,2)*i+Math.pow(t,3)*r}function Sl(t,e,n,i,r){var a=4<arguments.length&&void 0!==r?r:[];if(function(t,e,n,i){return Math.abs(t.x+n.x-(e.x+e.x))+Math.abs(t.y+n.y-(e.y+e.y))+Math.abs(e.x+i.x-(n.x+n.x))+Math.abs(e.y+i.y-(n.y+n.y))}(t,e,n,i)<=10)return-1===a.indexOf(t)&&a.push(t),-1===a.indexOf(i)&&a.push(i),a;var o=_l(t,e),s=_l(e,n),c=_l(n,i),u={x:Rl(.5,t.x,e.x,n.x,i.x),y:Rl(.5,t.y,e.y,n.y,i.y)},l=_l(o,s),h=_l(s,c);return Sl(t,o,l,u,a),Sl(u,h,c,i,a),a}function Nl(t,e,n){var i=function(t,e,n){return{cp1:{x:t.x+2/3*(e.x-t.x),y:t.y+2/3*(e.y-t.y)},cp2:{x:n.x+2/3*(e.x-n.x),y:n.y+2/3*(e.y-n.y)}}}(t,e,n);return Sl(t,i.cp1,i.cp2,n)}var zl=1e-12;function Al(t,e,n){var i,r,a,o,s=[],c=!!t[4],u=!!t[5],l=t[3],h=t[6],f=t[7],d=t[1],g=t[2];if("a"===t[0]&&(h+=e,f+=n),e===f&&n===f)return s;if(!d||!g)return s.push({x:h,y:f}),s;var p=function(t,e,n,i,r,a,o,s,c){var u,l,h,f,d,g,p=bo(n%360),y=Math.cos(p),v=Math.sin(p),m=(s-a)/2,x=(c-o)/2,b=y*m+v*x,w=y*x-v*m;t=Math.abs(t),e=Math.abs(e),1<(g=Math.pow(b,2)/Math.pow(t,2)+Math.pow(w,2)/Math.pow(e,2))&&(t*=g=Math.sqrt(g),e*=g);var k=t*e,M=t*w,_=e*b,R=Math.pow(M,2)+Math.pow(_,2),S=Math.pow(k,2)-R,N=Math.sqrt(Math.max(S/R,0));i===r&&(N=-N);var z=N*(M/e),A=N*(-_/t);f=y*z-v*A+(s+a)/2,d=v*z+y*A+(c+o)/2;var C=(b-z)/t,E=(w-A)/e,O=(-b-z)/t,T=(-w-A)/e;return u=Math.atan2(E,C),u+=u<0?Ml:0,l=Math.atan2(T,O),h=(l+=l<0?Ml:0)-u,!r&&u<l?h-=Ml:r&&l<u&&(h+=Ml),{startAngle:u,sweepAngle:h%=Ml,cx:f,cy:d,rx:t,ry:e}}(d,g,l,c,u,h,f,e,n);i=p.cx,r=p.cy,d=p.rx,g=p.ry,a=p.sweepAngle,o=p.startAngle;for(var y=Math.abs(a*Math.sqrt((Math.pow(d,2)+Math.pow(g,2))/2)),v=Math.ceil(y/10),m=a/v,x=1;x<=v;x++){var b=(o+m*x)%Ml,w=Math.cos(b),k=Math.sin(b);s.push({x:i+w*d+-k*w,y:r+k*g+w*k})}return s}function Cl(t){for(var e=v(t),n=[],i=[],r=0,a=0,o=null,s=null,c=null,u=null,l=0;l<e.length;++l){var h=e[l],f=h[0];switch("S"!==f&&"s"!==f&&"C"!==f&&"c"!==f&&(s=o=null),"T"!==f&&"t"!==f&&"Q"!==f&&"q"!==f&&(u=c=null),f){case"m":i.length&&n.push(i.splice(0));case"l":r+=h[1],a+=h[2],i.push({x:r,y:a});break;case"M":i.length&&n.push(i.splice(0));case"L":r=h[1],a=h[2],i.push({x:r,y:a});break;case"H":r=h[1],i.push({x:r,y:a});break;case"h":r+=h[1],i.push({x:r,y:a});break;case"V":a=h[1],i.push({x:r,y:a});break;case"v":a+=h[1],i.push({x:r,y:a});break;case"a":i.push.apply(i,nt(Al(h,r,a))),r+=h[6],a+=h[7];break;case"A":i.push.apply(i,nt(Al(h,r,a))),r=h[6],a=h[7];break;case"c":i.push.apply(i,nt(Sl({x:r,y:a},{x:h[1]+r,y:h[2]+a},{x:h[3]+r,y:h[4]+a},{x:h[5]+r,y:h[6]+a}))),o=h[3]+r,s=h[4]+a,r+=h[5],a+=h[6];break;case"C":i.push.apply(i,nt(Sl({x:r,y:a},{x:h[1],y:h[2]},{x:h[3],y:h[4]},{x:h[5],y:h[6]}))),o=h[3],s=h[4],r=h[5],a=h[6];break;case"s":null!==o&&null!==o||(o=r,s=a),i.push.apply(i,nt(Sl({x:r,y:a},{x:2*r-o,y:2*a-s},{x:h[1]+r,y:h[2]+a},{x:h[3]+r,y:h[4]+a}))),o=h[1]+r,s=h[2]+a,r+=h[3],a+=h[4];break;case"S":null!==o&&null!==o||(o=r,s=a),i.push.apply(i,nt(Sl({x:r,y:a},{x:2*r-o,y:2*a-s},{x:h[1],y:h[2]},{x:h[3],y:h[4]}))),o=h[1],s=h[2],r=h[3],a=h[4];break;case"Q":i.push.apply(i,nt(Nl({x:r,y:a},{x:h[1],y:h[2]},{x:h[3],y:h[4]}))),c=h[1],u=h[2],r=h[3],a=h[4];break;case"q":i.push.apply(i,nt(Nl({x:r,y:a},{x:h[1]+r,y:h[2]+a},{x:h[3]+r,y:h[4]+a}))),c=h[1]+r,u=h[2]+a,r+=h[3],a+=h[4];break;case"T":null!==c&&null!==c||(c=r,u=a),c=2*r-c,u=2*a-u,i.push.apply(i,nt(Nl({x:r,y:a},{x:c,y:u},{x:h[1],y:h[2]}))),r=h[1],a=h[2];break;case"t":null!==c&&null!==c||(c=r,u=a),c=2*r-c,u=2*a-u,i.push.apply(i,nt(Nl({x:r,y:a},{x:c,y:u},{x:h[1]+r,y:h[2]+a}))),r+=h[1],a+=h[2];break;case"z":case"Z":i.length&&i.push({x:i[0].x,y:i[0].y})}}return function(t){for(var e=0;e<t.length-1;e++){var n=t[e],i=t[e+1];Math.abs(n.x-i.x)<zl&&Math.abs(n.y-i.y)<zl&&(t.splice(e,1),e--)}}(i),n.push(i.splice(0)),n}var El={require:["renderer","chart"],defaultSettings:{settings:{target:"",fill:"transparent",stroke:"lime",opacity:1,radius:2,useOuterRect:!1}},on:{update:function(){this.draw()}},draw:function(){var e=this,t=this.chart.findShapes("path").filter(function(t){return t.key===e.props.target}),n=[];t.forEach(function(t){Cl(t.attrs.d).forEach(function(t){t.forEach(function(t){n.push({type:"circle",cx:t.x,cy:t.y,r:e.props.radius,fill:e.props.fill,stroke:e.props.stroke,opacity:e.props.opacity,collider:{type:null}})})})}),this.renderer.render(n)},created:function(){this.props=this.settings.settings},resize:function(t){var e=t.outer,n=t.inner;return this.props.useOuterRect?e:n},render:function(){},mounted:function(){this.draw()},updated:function(){this.props=this.settings.settings,this.draw()}};var Ol=[function(t){t.component("box",Bs),t.component("box-marker",Bs)},function(t){t.component("point",Hs),t.component("point-marker",Hs)},function(t){t.component("pie",qs)},function(t){t.component("grid-line",Ks)},function(t){t.component("ref-line",ic)},function(t){t.component("axis",Sc)},function(t){t.component("text",Ac)},function(t){t.component("scrollbar",Oc)},function(t){t.component("brush-range",Xc),t.component("brush-area-dir",Kc)},function(t){t.component("range",nu)},function(t){t.component("brush-lasso",cu)},function(t){t.component("labels",Fu)},function(t){t.component("legend-cat",Zu)},function(t){t.component("legend-seq",tl)},function(t){t.component("line",al)},function(t){t.component("brush-area",ul)},function(t){t.component("tooltip",wl)},function(t){t.component("debug-collider",kl)},function(t){t.component("debug-path-to-points",El)}];function Tl(t,e){function n(t){return t.id}function i(t,e){var n;return n="object"===et(t)?"id"in t?t.id:e:t,{content:t,id:"".concat(n,"__").concat(t.type||"")}}var r,a,o,s=[],c=[],u=[],l=[];t.isTree||(t=t.map(i)),e=e.map(i),a=t.map(n),o=e.map(n);for(var h=0,f=e.length;h<f;h++){-1===a.indexOf(e[h].id)?s.push(e[h]):u.push(e[h])}for(var d=0,g=t.length;d<g;d++){-1===o.indexOf(t[d].id)?c.push(t[d]):l.push(t[d])}for(var p=0,y=s.length;p<y;p++)s[p].content.children&&(s[p].diff=Tl([],s[p].content.children),s[p].children=s[p].diff.updatedNew.concat(s[p].diff.added),s[p].children.isTree=!0);for(var v=0,m=u.length;v<m;v++)u[v].diff=Tl(l[v].children||[],u[v].content.children||[]),u[v].object=l[v].object,u[v].children=u[v].diff.items;return r=u.concat(s),s.isTree=!0,c.isTree=!0,u.isTree=!0,l.isTree=!0,r.isTree=!0,{added:s,updatedNew:u,updatedOld:l,removed:c,items:r}}function jl(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i].object=n(t[i].content.type,e)}function Pl(t,e){for(var n=0,i=t.length;n<i;n++)null!==t[n].object&&void 0!==t[n].object&&(e(t[n].object),t[n].object=null)}function Fl(t,e,n,i,r,a){var o=Tl(t,e);return jl(o.added,n,i),Pl(o.removed,a),function t(e,n,i,r){for(var a,o=0,s=e.length;o<s;o++)null!==(a=e[o]).object&&void 0!==a.object&&(i(a.object,a.content),a.diff&&(jl(a.diff.added,a.object,n),Pl(a.diff.removed,r),t(a.diff.items,n,i,r)))}(o.items,i,r,a),o.items}var Bl=/\n+|\r+|\r\n/,Dl=/\s/,Ll=/[a-zA-Z\u00C0-\u00F6\u00F8-\u00FF\u00AD]/,Il=0,Wl=1,Hl=2;function $l(t){return"string"==typeof t?-1!==t.search(Bl):-1!==String(t).search(Bl)}function Vl(t){return-1!==t.search(Dl)}function ql(t){return-1!==t.search(Ll)}function Ul(t,e,n){return Math.max(e,Math.min(n,t))}function Yl(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.string,i=e.separator,r=void 0===i?"":i,a=e.reverse,o=void 0!==a&&a,s=e.measureText,c=void 0===s?function(t){return{width:t.length,height:1}}:s,u=e.mandatoryBreakIdentifiers,l=void 0===u?[$l]:u,h=e.noBreakAllowedIdentifiers,f=void 0===h?[]:h,d=e.suppressIdentifier,g=void 0===d?[Vl,$l,function(t){return""===t}]:d,p=e.hyphenationIdentifiers,y=void 0===p?[ql]:p,v=String(n).split(r);!function(t){""===t[0]&&t.shift(),""===t[t.length-1]&&t.pop()}(v);var m=v.length,x=o?function(t){return 0<=t}:function(t){return t<m},b=o?m:-1;function w(t){var e=Ul(t,0,m-1),n=v[e],i=c(n),r=function(e,n,i,t,r){return t.some(function(t){return t(e,n,i)})?Wl:r.some(function(t){return t(e,n,i)})?Il:Hl}(n,e,v,l,f);return{index:e,value:n,breakOpportunity:r,suppress:g.some(function(t){return t(n,e,v)}),hyphenation:y.some(function(t){return t(n,e,v)}),width:i.width,height:i.height,done:!1}}return{next:function(t){return isNaN(t)?o?b--:b++:b=Ul(t,0,m-1),x(b)?w(b):{done:!0}},peek:w,length:m}}var Xl=1.2,Zl="â",Jl="â¦";function Gl(t,e){return{lines:[],line:"",width:0,maxLines:function(t,e){var n=t.maxHeight,i=Math.max(t.maxLines,1)||1/0;if(isNaN(n))return i;var r=e*(t.lineHeight||Xl);return Math.max(1,Math.min(Math.floor(n/r),i))}(t,e(t.text).height),maxWidth:t.maxWidth,hyphens:{enabled:"auto"===t.hyphens,char:Zl,metrics:e(Zl)}}}function Kl(t){t.lines.push(t.line),t.line="",t.width=0}function Ql(t,e){t.line+=e.value,t.width+=e.width}function th(t,e,n){if(e.width>t.maxWidth)return e;for(var i=e.index,r=1;r<5;r++){var a=n.peek(e.index-1);if(!e.hyphenation||!a.hyphenation||0===e.index)return e;if(t.width+t.hyphens.metrics.width<=t.maxWidth)return t.line+=t.hyphens.char,e;if(1===t.line.length)return e;e=n.next(i-r),t.line=t.line.slice(0,-1),t.width-=e.width}return e}function eh(t,e,n){for(var i=Yl({string:e.value,measureText:n});t.lines.length<t.maxLines;){var r=i.next();if(r.done)break;t.width+r.width>t.maxWidth&&r.breakOpportunity===Hl&&0<t.line.length&&(r=t.hyphens.enabled?th(t,r,i):r,Kl(t)),Ql(t,r)}}function nh(t,e){for(var n=Yl({string:t.text,separator:"",measureText:e,noBreakAllowedIdentifiers:[function(t,e){return 0===e}]}),i=Gl(t,e),r=!0;i.lines.length<i.maxLines;){var a=n.next();if(a.done){Kl(i),r=!1;break}a.breakOpportunity===Wl?Kl(i):i.width+a.width>i.maxWidth&&a.breakOpportunity===Hl?a.suppress?i.width+=a.width:(a=i.hyphens.enabled?th(i,a,n):a,Kl(i),Ql(i,a)):Ql(i,a)}return{lines:i.lines,reduced:r}}function ih(t,e){for(var n=Yl({string:t.text,separator:/(\s|-|\u2010)/,measureText:e}),i=Gl(t,e),r=!0;i.lines.length<i.maxLines;){var a=n.next();if(a.done){Kl(i),r=!1;break}a.breakOpportunity===Wl?Kl(i):i.width+a.width>i.maxWidth&&a.breakOpportunity===Hl?a.suppress?Kl(i):a.width>i.maxWidth?eh(i,a,e):(Kl(i),Ql(i,a)):Ql(i,a)}return{lines:i.lines,reduced:r}}function rh(t){return{"break-all":nh,"break-word":ih}[t.wordBreak]}function ah(o){return function(t){var e=t.node;if(function(t){return"text"===t.type&&!t._lineBreak}(e)){var n=rh(e);if(!n)return;var i=o(e);if(i.width<=e.maxWidth&&!$l(e.text))return;var r=(i.height*Math.max(isNaN(e.lineHeight)?Xl:e.lineHeight,0)-i.height)/2,a=n(e,function(e,n){return function(t){return n({text:t,fontSize:e.fontSize,fontFamily:e.fontFamily})}}(e,o));t.node=function(i,r,a,o){var s={type:"container",children:[]};void 0!==r.id&&(s.id=r.id);var c=0;return i.lines.forEach(function(t,e){var n=tt({},r);n.text=t,n._lineBreak=!0,c+=a,i.reduced&&e===i.lines.length-1?n.text+=Jl:delete n.maxWidth,n.dy=isNaN(n.dy)?c:n.dy+c,c+=o,c+=a,s.children.push(n)}),s}(a,e,r,i.height)}}}function oh(t,e){var n=t.text,i=t["font-size"],r=t["font-family"],a=t.maxWidth;if(n="string"==typeof n?n:"".concat(n),void 0===a)return n;var o=e({text:n,fontSize:i,fontFamily:r}).width;if(o<=a)return n;for(var s=0,c=n.length-1;s<=c;){var u=Math.floor((s+c)/2);(o=e({text:n.substr(0,u)+Jl,fontSize:i,fontFamily:r}).width)<=a?s=u+1:c=u-1}return n.substr(0,c)+Jl}var sh={"'Source Sans Pro', Arial, sans-serif":{"8px":{lengths:{0:4.2239990234375,1:4.2239990234375,2:4.2239990234375,3:4.2239990234375,4:4.2239990234375,5:4.2239990234375,6:4.2239990234375,7:4.2239990234375,8:4.2239990234375,9:4.2239990234375," ":1.5999908447265625,"!":2.7199859619140625,'"':4.295989990234375,"#":4.2239990234375,$:4.2239990234375,"%":6.855987548828125,"&":5.33599853515625,"'":2.399993896484375,"(":2.7519989013671875,")":2.7519989013671875,"*":3.6559906005859375,"+":4.2239990234375,",":2.399993896484375,"-":2.6559906005859375,".":2.399993896484375,"/":2.7119903564453125,":":2.399993896484375,";":2.399993896484375,"<":4.2239990234375,"=":4.2239990234375,">":4.2239990234375,"?":3.7039947509765625,"@":7.2239990234375,A:4.5839996337890625,B:4.839996337890625,C:4.6559906005859375,"Ã":4.6559906005859375,D:5.079986572265625,E:4.3839874267578125,F:4.191986083984375,G:5.1039886474609375,"Ä":5.1039886474609375,H:5.391998291015625,I:2.407989501953125,"Ä°":2.407989501953125,J:4.071990966796875,K:4.9119873046875,L:4.1439971923828125,M:6.0959930419921875,N:5.3199920654296875,O:5.4720001220703125,"Ã":5.4720001220703125,P:4.7679901123046875,Q:5.4720001220703125,R:4.90399169921875,S:4.447998046875,"Å":4.447998046875,T:4.447998046875,U:5.3199920654296875,"Ã":5.3199920654296875,V:4.447998046875,W:6.503997802734375,X:4.5359954833984375,Y:4.1999969482421875,Z:4.3279876708984375,"[":2.7519989013671875,"\\":2.7119903564453125,"]":2.7519989013671875,"^":4.2239990234375,_:4,"`":4.4399871826171875,a:4.2159881591796875,b:4.5839996337890625,c:3.735992431640625,d:4.5839996337890625,e:4.1439971923828125,f:2.727996826171875,g:4.2719879150390625,"Ä":4.2719879150390625,h:4.5679931640625,"Ä±":2.2079925537109375,i:2.2079925537109375,j:2.2239990234375,k:4.3839874267578125,l:2.287994384765625,m:6.855987548828125,n:4.57598876953125,o:4.4399871826171875,"Ã¶":4.4399871826171875,p:4.5839996337890625,q:4.5839996337890625,r:3.183990478515625,s:3.5439910888671875,"Å":3.5439910888671875,t:3.063995361328125,u:4.5439910888671875,"Ã¼":4.5439910888671875,v:4.183990478515625,w:6.2079925537109375,x:4.11199951171875,y:4.167999267578125,z:3.67999267578125,"{":2.7519989013671875,"|":2.1439971923828125,"}":2.7519989013671875,"~":4.2239990234375,"â¦":7.8239898681640625}},"9px":{lengths:{0:4.7519989013671875,1:4.7519989013671875,2:4.7519989013671875,3:4.7519989013671875,4:4.7519989013671875,5:4.7519989013671875,6:4.7519989013671875,7:4.7519989013671875,8:4.7519989013671875,9:4.7519989013671875," ":1.79998779296875,"!":3.05999755859375,'"':4.8329925537109375,"#":4.7519989013671875,$:4.7519989013671875,"%":7.7129974365234375,"&":6.00299072265625,"'":2.6999969482421875,"(":3.0959930419921875,")":3.0959930419921875,"*":4.1129913330078125,"+":4.7519989013671875,",":2.6999969482421875,"-":2.9879913330078125,".":2.6999969482421875,"/":3.050994873046875,":":2.6999969482421875,";":2.6999969482421875,"<":4.7519989013671875,"=":4.7519989013671875,">":4.7519989013671875,"?":4.1669921875,"@":8.126998901367188,A:5.1569976806640625,B:5.4449920654296875,C:5.2379913330078125,"Ã":5.2379913330078125,D:5.714996337890625,E:4.9319915771484375,F:4.7159881591796875,G:5.7419891357421875,"Ä":5.7419891357421875,H:6.0659942626953125,I:2.7089996337890625,"Ä°":2.7089996337890625,J:4.58099365234375,K:5.5259857177734375,L:4.6619873046875,M:6.8579864501953125,N:5.9849853515625,O:6.1559906005859375,"Ã":6.1559906005859375,P:5.3639984130859375,Q:6.1559906005859375,R:5.516998291015625,S:5.003997802734375,"Å":5.003997802734375,T:5.003997802734375,U:5.9849853515625,"Ã":5.9849853515625,V:5.003997802734375,W:7.316986083984375,X:5.102996826171875,Y:4.7249908447265625,Z:4.868988037109375,"[":3.0959930419921875,"\\":3.050994873046875,"]":3.0959930419921875,"^":4.7519989013671875,_:4.5,"`":4.9949951171875,a:4.7429962158203125,b:5.1569976806640625,c:4.2029876708984375,d:5.1569976806640625,e:4.6619873046875,f:3.0689849853515625,g:4.805999755859375,"Ä":4.805999755859375,h:5.1389923095703125,"Ä±":2.4839935302734375,i:2.4839935302734375,j:2.5019989013671875,k:4.9319915771484375,l:2.5739898681640625,m:7.7129974365234375,n:5.1479949951171875,o:4.9949951171875,"Ã¶":4.9949951171875,p:5.1569976806640625,q:5.1569976806640625,r:3.5819854736328125,s:3.98699951171875,"Å":3.98699951171875,t:3.446990966796875,u:5.11199951171875,"Ã¼":5.11199951171875,v:4.7069854736328125,w:6.9839935302734375,x:4.6259918212890625,y:4.688995361328125,z:4.1399993896484375,"{":3.0959930419921875,"|":2.4119873046875,"}":3.0959930419921875,"~":4.7519989013671875,"â¦":8.801986694335938}},"10px":{lengths:{0:5.279998779296875,1:5.279998779296875,2:5.279998779296875,3:5.279998779296875,4:5.279998779296875,5:5.279998779296875,6:5.279998779296875,7:5.279998779296875,8:5.279998779296875,9:5.279998779296875," ":2,"!":3.399993896484375,'"':5.3699951171875,"#":5.279998779296875,$:5.279998779296875,"%":8.569992065429688,"&":6.6699981689453125,"'":3,"(":3.4399871826171875,")":3.4399871826171875,"*":4.5699920654296875,"+":5.279998779296875,",":3,"-":3.3199920654296875,".":3,"/":3.3899993896484375,":":3,";":3,"<":5.279998779296875,"=":5.279998779296875,">":5.279998779296875,"?":4.6299896240234375,"@":9.029998779296875,A:5.7299957275390625,B:6.04998779296875,C:5.8199920654296875,"Ã":5.8199920654296875,D:6.3499908447265625,E:5.4799957275390625,F:5.239990234375,G:6.3799896240234375,"Ä":6.3799896240234375,H:6.739990234375,I:3.0099945068359375,"Ä°":3.0099945068359375,J:5.089996337890625,K:6.1399993896484375,L:5.17999267578125,M:7.6199951171875,N:6.649993896484375,O:6.839996337890625,"Ã":6.839996337890625,P:5.959991455078125,Q:6.839996337890625,R:6.1299896240234375,S:5.55999755859375,"Å":5.55999755859375,T:5.55999755859375,U:6.649993896484375,"Ã":6.649993896484375,V:5.55999755859375,W:8.129989624023438,X:5.6699981689453125,Y:5.25,Z:5.4099884033203125,"[":3.4399871826171875,"\\":3.3899993896484375,"]":3.4399871826171875,"^":5.279998779296875,_:5,"`":5.54998779296875,a:5.269989013671875,b:5.7299957275390625,c:4.6699981689453125,d:5.7299957275390625,e:5.17999267578125,f:3.4099884033203125,g:5.339996337890625,"Ä":5.339996337890625,h:5.709991455078125,"Ä±":2.7599945068359375,i:2.7599945068359375,j:2.779998779296875,k:5.4799957275390625,l:2.8599853515625,m:8.569992065429688,n:5.7199859619140625,o:5.54998779296875,"Ã¶":5.54998779296875,p:5.7299957275390625,q:5.7299957275390625,r:3.9799957275390625,s:4.42999267578125,"Å":4.42999267578125,t:3.829986572265625,u:5.67999267578125,"Ã¼":5.67999267578125,v:5.2299957275390625,w:7.7599945068359375,x:5.1399993896484375,y:5.209991455078125,z:4.5999908447265625,"{":3.4399871826171875,"|":2.67999267578125,"}":3.4399871826171875,"~":5.279998779296875,"â¦":9.779998779296875}},"11px":{lengths:{0:5.8079986572265625,1:5.8079986572265625,2:5.8079986572265625,3:5.8079986572265625,4:5.8079986572265625,5:5.8079986572265625,6:5.8079986572265625,7:5.8079986572265625,8:5.8079986572265625,9:5.8079986572265625," ":2.1999969482421875,"!":3.739990234375,'"':5.9069976806640625,"#":5.8079986572265625,$:5.8079986572265625,"%":9.426986694335938,"&":7.3369903564453125,"'":3.29998779296875,"(":3.78399658203125,")":3.78399658203125,"*":5.0269927978515625,"+":5.8079986572265625,",":3.29998779296875,"-":3.6519927978515625,".":3.29998779296875,"/":3.7289886474609375,":":3.29998779296875,";":3.29998779296875,"<":5.8079986572265625,"=":5.8079986572265625,">":5.8079986572265625,"?":5.092987060546875,"@":9.932998657226562,A:6.3029937744140625,B:6.654998779296875,C:6.4019927978515625,"Ã":6.4019927978515625,D:6.9849853515625,E:6.0279998779296875,F:5.7639923095703125,G:7.0179901123046875,"Ä":7.0179901123046875,H:7.4139862060546875,I:3.3109893798828125,"Ä°":3.3109893798828125,J:5.5989990234375,K:6.753997802734375,L:5.697998046875,M:8.381988525390625,N:7.3149871826171875,O:7.52398681640625,"Ã":7.52398681640625,P:6.555999755859375,Q:7.52398681640625,R:6.7429962158203125,S:6.115997314453125,"Å":6.115997314453125,T:6.115997314453125,U:7.3149871826171875,"Ã":7.3149871826171875,V:6.115997314453125,W:8.9429931640625,X:6.23699951171875,Y:5.774993896484375,Z:5.95098876953125,"[":3.78399658203125,"\\":3.7289886474609375,"]":3.78399658203125,"^":5.8079986572265625,_:5.5,"`":6.1049957275390625,a:5.7969970703125,b:6.3029937744140625,c:5.136993408203125,d:6.3029937744140625,e:5.697998046875,f:3.7509918212890625,g:5.873992919921875,"Ä":5.873992919921875,h:6.2809906005859375,"Ä±":3.0359954833984375,i:3.0359954833984375,j:3.0579986572265625,k:6.0279998779296875,l:3.14599609375,m:9.426986694335938,n:6.2919921875,o:6.1049957275390625,"Ã¶":6.1049957275390625,p:6.3029937744140625,q:6.3029937744140625,r:4.37799072265625,s:4.87298583984375,"Å":4.87298583984375,t:4.2129974365234375,u:6.24798583984375,"Ã¼":6.24798583984375,v:5.75299072265625,w:8.535995483398438,x:5.65399169921875,y:5.730987548828125,z:5.05999755859375,"{":3.78399658203125,"|":2.947998046875,"}":3.78399658203125,"~":5.8079986572265625,"â¦":10.75799560546875}},"12px":{lengths:{0:6.33599853515625,1:6.33599853515625,2:6.33599853515625,3:6.33599853515625,4:6.33599853515625,5:6.33599853515625,6:6.33599853515625,7:6.33599853515625,8:6.33599853515625,9:6.33599853515625," ":2.399993896484375,"!":4.079986572265625,'"':6.4439849853515625,"#":6.33599853515625,$:6.33599853515625,"%":10.28399658203125,"&":8.003997802734375,"'":3.5999908447265625,"(":4.12799072265625,")":4.12799072265625,"*":5.4839935302734375,"+":6.33599853515625,",":3.5999908447265625,"-":3.9839935302734375,".":3.5999908447265625,"/":4.0679931640625,":":3.5999908447265625,";":3.5999908447265625,"<":6.33599853515625,"=":6.33599853515625,">":6.33599853515625,"?":5.555999755859375,"@":10.83599853515625,A:6.8759918212890625,B:7.2599945068359375,C:6.9839935302734375,"Ã":6.9839935302734375,D:7.6199951171875,E:6.57598876953125,F:6.287994384765625,G:7.6559906005859375,"Ä":7.6559906005859375,H:8.087997436523438,I:3.61199951171875,"Ä°":3.61199951171875,J:6.1079864501953125,K:7.3679962158203125,L:6.2159881591796875,M:9.143997192382812,N:7.9799957275390625,O:8.207992553710938,"Ã":8.207992553710938,P:7.1519927978515625,Q:8.207992553710938,R:7.355987548828125,S:6.6719970703125,"Å":6.6719970703125,T:6.6719970703125,U:7.9799957275390625,"Ã":7.9799957275390625,V:6.6719970703125,W:9.755996704101562,X:6.803985595703125,Y:6.29998779296875,Z:6.4919891357421875,"[":4.12799072265625,"\\":4.0679931640625,"]":4.12799072265625,"^":6.33599853515625,_:6,"`":6.6599884033203125,a:6.3239898681640625,b:6.8759918212890625,c:5.6039886474609375,d:6.8759918212890625,e:6.2159881591796875,f:4.0919952392578125,g:6.407989501953125,"Ä":6.407989501953125,h:6.85198974609375,"Ä±":3.3119964599609375,i:3.3119964599609375,j:3.33599853515625,k:6.57598876953125,l:3.4319915771484375,m:10.28399658203125,n:6.8639984130859375,o:6.6599884033203125,"Ã¶":6.6599884033203125,p:6.8759918212890625,q:6.8759918212890625,r:4.7759857177734375,s:5.3159942626953125,"Å":5.3159942626953125,t:4.5959930419921875,u:6.8159942626953125,"Ã¼":6.8159942626953125,v:6.2759857177734375,w:9.311996459960938,x:6.167999267578125,y:6.2519989013671875,z:5.519989013671875,"{":4.12799072265625,"|":3.2159881591796875,"}":4.12799072265625,"~":6.33599853515625,"â¦":11.735992431640625}},"13px":{lengths:{0:6.8639984130859375,1:6.8639984130859375,2:6.8639984130859375,3:6.8639984130859375,4:6.8639984130859375,5:6.8639984130859375,6:6.8639984130859375,7:6.8639984130859375,8:6.8639984130859375,9:6.8639984130859375," ":2.5999908447265625,"!":4.4199981689453125,'"':6.980987548828125,"#":6.8639984130859375,$:6.8639984130859375,"%":11.1409912109375,"&":8.670989990234375,"'":3.899993896484375,"(":4.4720001220703125,")":4.4720001220703125,"*":5.9409942626953125,"+":6.8639984130859375,",":3.899993896484375,"-":4.3159942626953125,".":3.899993896484375,"/":4.4069976806640625,":":3.899993896484375,";":3.899993896484375,"<":6.8639984130859375,"=":6.8639984130859375,">":6.8639984130859375,"?":6.0189971923828125,"@":11.738998413085938,A:7.4489898681640625,B:7.864990234375,C:7.5659942626953125,"Ã":7.5659942626953125,D:8.254989624023438,E:7.123992919921875,F:6.8119964599609375,G:8.293991088867188,"Ä":8.293991088867188,H:8.761993408203125,I:3.912994384765625,"Ä°":3.912994384765625,J:6.6169891357421875,K:7.98199462890625,L:6.7339935302734375,M:9.905990600585938,N:8.644989013671875,O:8.891998291015625,"Ã":8.891998291015625,P:7.74798583984375,Q:8.891998291015625,R:7.968994140625,S:7.227996826171875,"Å":7.227996826171875,T:7.227996826171875,U:8.644989013671875,"Ã":8.644989013671875,V:7.227996826171875,W:10.569000244140625,X:7.3709869384765625,Y:6.8249969482421875,Z:7.032989501953125,"[":4.4720001220703125,"\\":4.4069976806640625,"]":4.4720001220703125,"^":6.8639984130859375,_:6.5,"`":7.214996337890625,a:6.8509979248046875,b:7.4489898681640625,c:6.0709991455078125,d:7.4489898681640625,e:6.7339935302734375,f:4.4329986572265625,g:6.941986083984375,"Ä":6.941986083984375,h:7.4229888916015625,"Ä±":3.5879974365234375,i:3.5879974365234375,j:3.6139984130859375,k:7.123992919921875,l:3.717987060546875,m:11.1409912109375,n:7.4359893798828125,o:7.214996337890625,"Ã¶":7.214996337890625,p:7.4489898681640625,q:7.4489898681640625,r:5.1739959716796875,s:5.7589874267578125,"Å":5.7589874267578125,t:4.9789886474609375,u:7.3839874267578125,"Ã¼":7.3839874267578125,v:6.7989959716796875,w:10.087997436523438,x:6.6819915771484375,y:6.7729949951171875,z:5.9799957275390625,"{":4.4720001220703125,"|":3.4839935302734375,"}":4.4720001220703125,"~":6.8639984130859375,"â¦":12.7139892578125}},"14px":{lengths:{0:7.391998291015625,1:7.391998291015625,2:7.391998291015625,3:7.391998291015625,4:7.391998291015625,5:7.391998291015625,6:7.391998291015625,7:7.391998291015625,8:7.391998291015625,9:7.391998291015625," ":2.79998779296875,"!":4.7599945068359375,'"':7.5179901123046875,"#":7.391998291015625,$:7.391998291015625,"%":11.99798583984375,"&":9.337997436523438,"'":4.1999969482421875,"(":4.8159942626953125,")":4.8159942626953125,"*":6.3979949951171875,"+":7.391998291015625,",":4.1999969482421875,"-":4.6479949951171875,".":4.1999969482421875,"/":4.7459869384765625,":":4.1999969482421875,";":4.1999969482421875,"<":7.391998291015625,"=":7.391998291015625,">":7.391998291015625,"?":6.48199462890625,"@":12.641998291015625,A:8.021987915039062,B:8.469985961914062,C:8.147994995117188,"Ã":8.147994995117188,D:8.889999389648438,E:7.6719970703125,F:7.33599853515625,G:8.931991577148438,"Ä":8.931991577148438,H:9.435989379882812,I:4.2139892578125,"Ä°":4.2139892578125,J:7.1259918212890625,K:8.595993041992188,L:7.2519989013671875,M:10.667999267578125,N:9.30999755859375,O:9.57598876953125,"Ã":9.57598876953125,P:8.343994140625,Q:9.57598876953125,R:8.581985473632812,S:7.78399658203125,"Å":7.78399658203125,T:7.78399658203125,U:9.30999755859375,"Ã":9.30999755859375,V:7.78399658203125,W:11.381988525390625,X:7.93798828125,Y:7.3499908447265625,Z:7.5739898681640625,"[":4.8159942626953125,"\\":4.7459869384765625,"]":4.8159942626953125,"^":7.391998291015625,_:7,"`":7.769989013671875,a:7.37799072265625,b:8.021987915039062,c:6.537994384765625,d:8.021987915039062,e:7.2519989013671875,f:4.77398681640625,g:7.4759979248046875,"Ä":7.4759979248046875,h:7.993988037109375,"Ä±":3.8639984130859375,i:3.8639984130859375,j:3.891998291015625,k:7.6719970703125,l:4.003997802734375,m:11.99798583984375,n:8.00799560546875,o:7.769989013671875,"Ã¶":7.769989013671875,p:8.021987915039062,q:8.021987915039062,r:5.571990966796875,s:6.201995849609375,"Å":6.201995849609375,t:5.36199951171875,u:7.951995849609375,"Ã¼":7.951995849609375,v:7.321990966796875,w:10.863998413085938,x:7.1959991455078125,y:7.2939910888671875,z:6.4399871826171875,"{":4.8159942626953125,"|":3.7519989013671875,"}":4.8159942626953125,"~":7.391998291015625,"â¦":13.691986083984375}},"15px":{lengths:{0:7.9199981689453125,1:7.9199981689453125,2:7.9199981689453125,3:7.9199981689453125,4:7.9199981689453125,5:7.9199981689453125,6:7.9199981689453125,7:7.9199981689453125,8:7.9199981689453125,9:7.9199981689453125," ":3,"!":5.0999908447265625,'"':8.05499267578125,"#":7.9199981689453125,$:7.9199981689453125,"%":12.854995727539062,"&":10.004989624023438,"'":4.5,"(":5.1599884033203125,")":5.1599884033203125,"*":6.8549957275390625,"+":7.9199981689453125,",":4.5,"-":4.9799957275390625,".":4.5,"/":5.084991455078125,":":4.5,";":4.5,"<":7.9199981689453125,"=":7.9199981689453125,">":7.9199981689453125,"?":6.9449920654296875,"@":13.544998168945312,A:8.594985961914062,B:9.074996948242188,C:8.729995727539062,"Ã":8.729995727539062,D:9.524993896484375,E:8.219985961914062,F:7.8599853515625,G:9.569992065429688,"Ä":9.569992065429688,H:10.1099853515625,I:4.5149993896484375,"Ä°":4.5149993896484375,J:7.6349945068359375,K:9.209991455078125,L:7.769989013671875,M:11.42999267578125,N:9.974990844726562,O:10.259994506835938,"Ã":10.259994506835938,P:8.939987182617188,Q:10.259994506835938,R:9.194992065429688,S:8.339996337890625,"Å":8.339996337890625,T:8.339996337890625,U:9.974990844726562,"Ã":9.974990844726562,V:8.339996337890625,W:12.194992065429688,X:8.504989624023438,Y:7.875,Z:8.114990234375,"[":5.1599884033203125,"\\":5.084991455078125,"]":5.1599884033203125,"^":7.9199981689453125,_:7.5,"`":8.324996948242188,a:7.904998779296875,b:8.594985961914062,c:7.0049896240234375,d:8.594985961914062,e:7.769989013671875,f:5.114990234375,g:8.009994506835938,"Ä":8.009994506835938,h:8.564987182617188,"Ä±":4.1399993896484375,i:4.1399993896484375,j:4.1699981689453125,k:8.219985961914062,l:4.2899932861328125,m:12.854995727539062,n:8.579986572265625,o:8.324996948242188,"Ã¶":8.324996948242188,p:8.594985961914062,q:8.594985961914062,r:5.9699859619140625,s:6.644989013671875,"Å":6.644989013671875,t:5.7449951171875,u:8.519989013671875,"Ã¼":8.519989013671875,v:7.8449859619140625,w:11.639999389648438,x:7.709991455078125,y:7.8149871826171875,z:6.899993896484375,"{":5.1599884033203125,"|":4.019989013671875,"}":5.1599884033203125,"~":7.9199981689453125,"â¦":14.669998168945312}},"16px":{lengths:{0:8.447998046875,1:8.447998046875,2:8.447998046875,3:8.447998046875,4:8.447998046875,5:8.447998046875,6:8.447998046875,7:8.447998046875,8:8.447998046875,9:8.447998046875," ":3.1999969482421875,"!":5.4399871826171875,'"':8.591995239257812,"#":8.447998046875,$:8.447998046875,"%":13.711990356445312,"&":10.6719970703125,"'":4.79998779296875,"(":5.503997802734375,")":5.503997802734375,"*":7.3119964599609375,"+":8.447998046875,",":4.79998779296875,"-":5.3119964599609375,".":4.79998779296875,"/":5.4239959716796875,":":4.79998779296875,";":4.79998779296875,"<":8.447998046875,"=":8.447998046875,">":8.447998046875,"?":7.407989501953125,"@":14.447998046875,A:9.167999267578125,B:9.67999267578125,C:9.311996459960938,"Ã":9.311996459960938,D:10.159988403320312,E:8.767990112304688,F:8.383987426757812,G:10.207992553710938,"Ä":10.207992553710938,H:10.78399658203125,I:4.8159942626953125,"Ä°":4.8159942626953125,J:8.143997192382812,K:9.823989868164062,L:8.287994384765625,M:12.191986083984375,N:10.639999389648438,O:10.944000244140625,"Ã":10.944000244140625,P:9.535995483398438,Q:10.944000244140625,R:9.807998657226562,S:8.89599609375,"Å":8.89599609375,T:8.89599609375,U:10.639999389648438,"Ã":10.639999389648438,V:8.89599609375,W:13.00799560546875,X:9.071990966796875,Y:8.399993896484375,Z:8.655990600585938,"[":5.503997802734375,"\\":5.4239959716796875,"]":5.503997802734375,"^":8.447998046875,_:8,"`":8.879989624023438,a:8.431991577148438,b:9.167999267578125,c:7.4720001220703125,d:9.167999267578125,e:8.287994384765625,f:5.45599365234375,g:8.543991088867188,"Ä":8.543991088867188,h:9.135986328125,"Ä±":4.415985107421875,i:4.415985107421875,j:4.447998046875,k:8.767990112304688,l:4.57598876953125,m:13.711990356445312,n:9.151992797851562,o:8.879989624023438,"Ã¶":8.879989624023438,p:9.167999267578125,q:9.167999267578125,r:6.3679962158203125,s:7.0879974365234375,"Å":7.0879974365234375,t:6.12799072265625,u:9.087997436523438,"Ã¼":9.087997436523438,v:8.367996215820312,w:12.416000366210938,x:8.2239990234375,y:8.33599853515625,z:7.3599853515625,"{":5.503997802734375,"|":4.287994384765625,"}":5.503997802734375,"~":8.447998046875,"â¦":15.647994995117188}},"17px":{lengths:{0:8.975997924804688,1:8.975997924804688,2:8.975997924804688,3:8.975997924804688,4:8.975997924804688,5:8.975997924804688,6:8.975997924804688,7:8.975997924804688,8:8.975997924804688,9:8.975997924804688," ":3.399993896484375,"!":5.779998779296875,'"':9.128997802734375,"#":8.975997924804688,$:8.975997924804688,"%":14.569000244140625,"&":11.3389892578125,"'":5.0999908447265625,"(":5.847991943359375,")":5.847991943359375,"*":7.7689971923828125,"+":8.975997924804688,",":5.0999908447265625,"-":5.6439971923828125,".":5.0999908447265625,"/":5.7629852294921875,":":5.0999908447265625,";":5.0999908447265625,"<":8.975997924804688,"=":8.975997924804688,">":8.975997924804688,"?":7.8709869384765625,"@":15.350997924804688,A:9.740997314453125,B:10.284988403320312,C:9.893997192382812,"Ã":9.893997192382812,D:10.794998168945312,E:9.315994262695312,F:8.907989501953125,G:10.845993041992188,"Ä":10.845993041992188,H:11.457992553710938,I:5.1169891357421875,"Ä°":5.1169891357421875,J:8.652999877929688,K:10.43798828125,L:8.805999755859375,M:12.953994750976562,N:11.30499267578125,O:11.62799072265625,"Ã":11.62799072265625,P:10.131988525390625,Q:11.62799072265625,R:10.420989990234375,S:9.451995849609375,"Å":9.451995849609375,T:9.451995849609375,U:11.30499267578125,"Ã":11.30499267578125,V:9.451995849609375,W:13.820999145507812,X:9.638992309570312,Y:8.92498779296875,Z:9.196990966796875,"[":5.847991943359375,"\\":5.7629852294921875,"]":5.847991943359375,"^":8.975997924804688,_:8.5,"`":9.43499755859375,a:8.958999633789062,b:9.740997314453125,c:7.938995361328125,d:9.740997314453125,e:8.805999755859375,f:5.7969970703125,g:9.077987670898438,"Ä":9.077987670898438,h:9.706985473632812,"Ä±":4.691986083984375,i:4.691986083984375,j:4.7259979248046875,k:9.315994262695312,l:4.86199951171875,m:14.569000244140625,n:9.7239990234375,o:9.43499755859375,"Ã¶":9.43499755859375,p:9.740997314453125,q:9.740997314453125,r:6.7659912109375,s:7.5309906005859375,"Å":7.5309906005859375,t:6.510986328125,u:9.655990600585938,"Ã¼":9.655990600585938,v:8.8909912109375,w:13.191986083984375,x:8.737991333007812,y:8.85699462890625,z:7.8199920654296875,"{":5.847991943359375,"|":4.555999755859375,"}":5.847991943359375,"~":8.975997924804688,"â¦":16.625991821289062}},"18px":{lengths:{0:9.503997802734375,1:9.503997802734375,2:9.503997802734375,3:9.503997802734375,4:9.503997802734375,5:9.503997802734375,6:9.503997802734375,7:9.503997802734375,8:9.503997802734375,9:9.503997802734375," ":3.5999908447265625,"!":6.1199951171875,'"':9.666000366210938,"#":9.503997802734375,$:9.503997802734375,"%":15.425994873046875,"&":12.005996704101562,"'":5.399993896484375,"(":6.191986083984375,")":6.191986083984375,"*":8.225997924804688,"+":9.503997802734375,",":5.399993896484375,"-":5.9759979248046875,".":5.399993896484375,"/":6.10198974609375,":":5.399993896484375,";":5.399993896484375,"<":9.503997802734375,"=":9.503997802734375,">":9.503997802734375,"?":8.333999633789062,"@":16.253997802734375,A:10.313995361328125,B:10.889999389648438,C:10.475997924804688,"Ã":10.475997924804688,D:11.42999267578125,E:9.863998413085938,F:9.431991577148438,G:11.483993530273438,"Ä":11.483993530273438,H:12.131988525390625,I:5.417999267578125,"Ä°":5.417999267578125,J:9.1619873046875,K:11.051986694335938,L:9.323989868164062,M:13.715988159179688,N:11.969985961914062,O:12.311996459960938,"Ã":12.311996459960938,P:10.727996826171875,Q:12.311996459960938,R:11.03399658203125,S:10.00799560546875,"Å":10.00799560546875,T:10.00799560546875,U:11.969985961914062,"Ã":11.969985961914062,V:10.00799560546875,W:14.633987426757812,X:10.20599365234375,Y:9.449996948242188,Z:9.737991333007812,"[":6.191986083984375,"\\":6.10198974609375,"]":6.191986083984375,"^":9.503997802734375,_:9,"`":9.989990234375,a:9.485992431640625,b:10.313995361328125,c:8.405990600585938,d:10.313995361328125,e:9.323989868164062,f:6.1379852294921875,g:9.61199951171875,"Ä":9.61199951171875,h:10.277999877929688,"Ä±":4.967987060546875,i:4.967987060546875,j:5.003997802734375,k:9.863998413085938,l:5.1479949951171875,m:15.425994873046875,n:10.295989990234375,o:9.989990234375,"Ã¶":9.989990234375,p:10.313995361328125,q:10.313995361328125,r:7.1639862060546875,s:7.9739990234375,"Å":7.9739990234375,t:6.8939971923828125,u:10.2239990234375,"Ã¼":10.2239990234375,v:9.413986206054688,w:13.967987060546875,x:9.251998901367188,y:9.37799072265625,z:8.279998779296875,"{":6.191986083984375,"|":4.8239898681640625,"}":6.191986083984375,"~":9.503997802734375,"â¦":17.603988647460938}},"19px":{lengths:{0:10.031997680664062,1:10.031997680664062,2:10.031997680664062,3:10.031997680664062,4:10.031997680664062,5:10.031997680664062,6:10.031997680664062,7:10.031997680664062,8:10.031997680664062,9:10.031997680664062," ":3.79998779296875,"!":6.459991455078125,'"':10.202987670898438,"#":10.031997680664062,$:10.031997680664062,"%":16.282989501953125,"&":12.672988891601562,"'":5.6999969482421875,"(":6.5359954833984375,")":6.5359954833984375,"*":8.682998657226562,"+":10.031997680664062,",":5.6999969482421875,"-":6.3079986572265625,".":5.6999969482421875,"/":6.4409942626953125,":":5.6999969482421875,";":5.6999969482421875,"<":10.031997680664062,"=":10.031997680664062,">":10.031997680664062,"?":8.7969970703125,"@":17.156997680664062,A:10.886993408203125,B:11.4949951171875,C:11.057998657226562,"Ã":11.057998657226562,D:12.064987182617188,E:10.4119873046875,F:9.95599365234375,G:12.121994018554688,"Ä":12.121994018554688,H:12.805999755859375,I:5.718994140625,"Ä°":5.718994140625,J:9.670989990234375,K:11.666000366210938,L:9.841995239257812,M:14.477996826171875,N:12.634994506835938,O:12.995986938476562,"Ã":12.995986938476562,P:11.323989868164062,Q:12.995986938476562,R:11.646987915039062,S:10.563995361328125,"Å":10.563995361328125,T:10.563995361328125,U:12.634994506835938,"Ã":12.634994506835938,V:10.563995361328125,W:15.446990966796875,X:10.772994995117188,Y:9.974990844726562,Z:10.27899169921875,"[":6.5359954833984375,"\\":6.4409942626953125,"]":6.5359954833984375,"^":10.031997680664062,_:9.5,"`":10.544998168945312,a:10.012985229492188,b:10.886993408203125,c:8.87298583984375,d:10.886993408203125,e:9.841995239257812,f:6.4789886474609375,g:10.14599609375,"Ä":10.14599609375,h:10.8489990234375,"Ä±":5.243988037109375,i:5.243988037109375,j:5.2819976806640625,k:10.4119873046875,l:5.433990478515625,m:16.282989501953125,n:10.867996215820312,o:10.544998168945312,"Ã¶":10.544998168945312,p:10.886993408203125,q:10.886993408203125,r:7.5619964599609375,s:8.4169921875,"Å":8.4169921875,t:7.2769927978515625,u:10.7919921875,"Ã¼":10.7919921875,v:9.936996459960938,w:14.743988037109375,x:9.7659912109375,y:9.89898681640625,z:8.739990234375,"{":6.5359954833984375,"|":5.0919952392578125,"}":6.5359954833984375,"~":10.031997680664062,"â¦":18.582000732421875}},"20px":{lengths:{0:10.55999755859375,1:10.55999755859375,2:10.55999755859375,3:10.55999755859375,4:10.55999755859375,5:10.55999755859375,6:10.55999755859375,7:10.55999755859375,8:10.55999755859375,9:10.55999755859375," ":4,"!":6.79998779296875,'"':10.739990234375,"#":10.55999755859375,$:10.55999755859375,"%":17.139999389648438,"&":13.339996337890625,"'":6,"(":6.8799896240234375,")":6.8799896240234375,"*":9.139999389648438,"+":10.55999755859375,",":6,"-":6.6399993896484375,".":6,"/":6.779998779296875,":":6,";":6,"<":10.55999755859375,"=":10.55999755859375,">":10.55999755859375,"?":9.259994506835938,"@":18.05999755859375,A:11.459991455078125,B:12.099990844726562,C:11.639999389648438,"Ã":11.639999389648438,D:12.699996948242188,E:10.959991455078125,F:10.479995727539062,G:12.759994506835938,"Ä":12.759994506835938,H:13.479995727539062,I:6.019989013671875,"Ä°":6.019989013671875,J:10.17999267578125,K:12.279998779296875,L:10.3599853515625,M:15.239990234375,N:13.29998779296875,O:13.67999267578125,"Ã":13.67999267578125,P:11.919998168945312,Q:13.67999267578125,R:12.259994506835938,S:11.1199951171875,"Å":11.1199951171875,T:11.1199951171875,U:13.29998779296875,"Ã":13.29998779296875,V:11.1199951171875,W:16.259994506835938,X:11.339996337890625,Y:10.5,Z:10.819992065429688,"[":6.8799896240234375,"\\":6.779998779296875,"]":6.8799896240234375,"^":10.55999755859375,_:10,"`":11.099990844726562,a:10.539993286132812,b:11.459991455078125,c:9.339996337890625,d:11.459991455078125,e:10.3599853515625,f:6.8199920654296875,g:10.67999267578125,"Ä":10.67999267578125,h:11.419998168945312,"Ä±":5.519989013671875,i:5.519989013671875,j:5.55999755859375,k:10.959991455078125,l:5.7199859619140625,m:17.139999389648438,n:11.439987182617188,o:11.099990844726562,"Ã¶":11.099990844726562,p:11.459991455078125,q:11.459991455078125,r:7.959991455078125,s:8.8599853515625,"Å":8.8599853515625,t:7.6599884033203125,u:11.3599853515625,"Ã¼":11.3599853515625,v:10.459991455078125,w:15.519989013671875,x:10.279998779296875,y:10.419998168945312,z:9.199996948242188,"{":6.8799896240234375,"|":5.3599853515625,"}":6.8799896240234375,"~":10.55999755859375,"â¦":19.55999755859375}},"21px":{lengths:{0:11.087997436523438,1:11.087997436523438,2:11.087997436523438,3:11.087997436523438,4:11.087997436523438,5:11.087997436523438,6:11.087997436523438,7:11.087997436523438,8:11.087997436523438,9:11.087997436523438," ":4.1999969482421875,"!":7.1399993896484375,'"':11.276992797851562,"#":11.087997436523438,$:11.087997436523438,"%":17.996994018554688,"&":14.006988525390625,"'":6.29998779296875,"(":7.2239990234375,")":7.2239990234375,"*":9.597000122070312,"+":11.087997436523438,",":6.29998779296875,"-":6.9720001220703125,".":6.29998779296875,"/":7.118988037109375,":":6.29998779296875,";":6.29998779296875,"<":11.087997436523438,"=":11.087997436523438,">":11.087997436523438,"?":9.722991943359375,"@":18.962997436523438,A:12.032989501953125,B:12.704986572265625,C:12.222000122070312,"Ã":12.222000122070312,D:13.334991455078125,E:11.50799560546875,F:11.003997802734375,G:13.397994995117188,"Ä":13.397994995117188,H:14.15399169921875,I:6.3209991455078125,"Ä°":6.3209991455078125,J:10.688995361328125,K:12.893997192382812,L:10.87799072265625,M:16.001998901367188,N:13.964996337890625,O:14.363998413085938,"Ã":14.363998413085938,P:12.5159912109375,Q:14.363998413085938,R:12.87298583984375,S:11.675994873046875,"Å":11.675994873046875,T:11.675994873046875,U:13.964996337890625,"Ã":13.964996337890625,V:11.675994873046875,W:17.072998046875,X:11.906997680664062,Y:11.024993896484375,Z:11.360992431640625,"[":7.2239990234375,"\\":7.118988037109375,"]":7.2239990234375,"^":11.087997436523438,_:10.5,"`":11.654998779296875,a:11.066986083984375,b:12.032989501953125,c:9.806991577148438,d:12.032989501953125,e:10.87799072265625,f:7.1609954833984375,g:11.2139892578125,"Ä":11.2139892578125,h:11.990997314453125,"Ä±":5.795989990234375,i:5.795989990234375,j:5.8379974365234375,k:11.50799560546875,l:6.0059967041015625,m:17.996994018554688,n:12.011993408203125,o:11.654998779296875,"Ã¶":11.654998779296875,p:12.032989501953125,q:12.032989501953125,r:8.357986450195312,s:9.302993774414062,"Å":9.302993774414062,t:8.042999267578125,u:11.927993774414062,"Ã¼":11.927993774414062,v:10.982986450195312,w:16.295989990234375,x:10.793991088867188,y:10.940994262695312,z:9.659988403320312,"{":7.2239990234375,"|":5.62799072265625,"}":7.2239990234375,"~":11.087997436523438,"â¦":20.537994384765625}},"22px":{lengths:{0:11.615997314453125,1:11.615997314453125,2:11.615997314453125,3:11.615997314453125,4:11.615997314453125,5:11.615997314453125,6:11.615997314453125,7:11.615997314453125,8:11.615997314453125,9:11.615997314453125," ":4.399993896484375,"!":7.4799957275390625,'"':11.813995361328125,"#":11.615997314453125,$:11.615997314453125,"%":18.853988647460938,"&":14.673995971679688,"'":6.5999908447265625,"(":7.5679931640625,")":7.5679931640625,"*":10.053985595703125,"+":11.615997314453125,",":6.5999908447265625,"-":7.303985595703125,".":6.5999908447265625,"/":7.4579925537109375,":":6.5999908447265625,";":6.5999908447265625,"<":11.615997314453125,"=":11.615997314453125,">":11.615997314453125,"?":10.185989379882812,"@":19.865997314453125,A:12.605987548828125,B:13.30999755859375,C:12.803985595703125,"Ã":12.803985595703125,D:13.969985961914062,E:12.055999755859375,F:11.527999877929688,G:14.035995483398438,"Ä":14.035995483398438,H:14.827987670898438,I:6.6219940185546875,"Ä°":6.6219940185546875,J:11.197998046875,K:13.50799560546875,L:11.39599609375,M:16.763992309570312,N:14.629989624023438,O:15.047988891601562,"Ã":15.047988891601562,P:13.11199951171875,Q:15.047988891601562,R:13.485992431640625,S:12.23199462890625,"Å":12.23199462890625,T:12.23199462890625,U:14.629989624023438,"Ã":14.629989624023438,V:12.23199462890625,W:17.885986328125,X:12.4739990234375,Y:11.54998779296875,Z:11.901992797851562,"[":7.5679931640625,"\\":7.4579925537109375,"]":7.5679931640625,"^":11.615997314453125,_:11,"`":12.209991455078125,a:11.593994140625,b:12.605987548828125,c:10.27398681640625,d:12.605987548828125,e:11.39599609375,f:7.5019989013671875,g:11.74798583984375,"Ä":11.74798583984375,h:12.561996459960938,"Ä±":6.071990966796875,i:6.071990966796875,j:6.115997314453125,k:12.055999755859375,l:6.2919921875,m:18.853988647460938,n:12.583999633789062,o:12.209991455078125,"Ã¶":12.209991455078125,p:12.605987548828125,q:12.605987548828125,r:8.755996704101562,s:9.745986938476562,"Å":9.745986938476562,t:8.425994873046875,u:12.495986938476562,"Ã¼":12.495986938476562,v:11.505996704101562,w:17.071990966796875,x:11.307998657226562,y:11.461990356445312,z:10.1199951171875,"{":7.5679931640625,"|":5.89599609375,"}":7.5679931640625,"~":11.615997314453125,"â¦":21.5159912109375}},"23px":{lengths:{0:12.143997192382812,1:12.143997192382812,2:12.143997192382812,3:12.143997192382812,4:12.143997192382812,5:12.143997192382812,6:12.143997192382812,7:12.143997192382812,8:12.143997192382812,9:12.143997192382812," ":4.5999908447265625,"!":7.8199920654296875,'"':12.350997924804688,"#":12.143997192382812,$:12.143997192382812,"%":19.71099853515625,"&":15.340988159179688,"'":6.899993896484375,"(":7.9119873046875,")":7.9119873046875,"*":10.510986328125,"+":12.143997192382812,",":6.899993896484375,"-":7.635986328125,".":6.899993896484375,"/":7.7969970703125,":":6.899993896484375,";":6.899993896484375,"<":12.143997192382812,"=":12.143997192382812,">":12.143997192382812,"?":10.64898681640625,"@":20.768997192382812,A:13.178985595703125,B:13.914993286132812,C:13.385986328125,"Ã":13.385986328125,D:14.604995727539062,E:12.603988647460938,F:12.051986694335938,G:14.673995971679688,"Ä":14.673995971679688,H:15.501998901367188,I:6.9229888916015625,"Ä°":6.9229888916015625,J:11.706985473632812,K:14.121994018554688,L:11.913986206054688,M:17.525985717773438,N:15.294998168945312,O:15.73199462890625,"Ã":15.73199462890625,P:13.707992553710938,Q:15.73199462890625,R:14.0989990234375,S:12.787994384765625,"Å":12.787994384765625,T:12.787994384765625,U:15.294998168945312,"Ã":15.294998168945312,V:12.787994384765625,W:18.698989868164062,X:13.041000366210938,Y:12.074996948242188,Z:12.4429931640625,"[":7.9119873046875,"\\":7.7969970703125,"]":7.9119873046875,"^":12.143997192382812,_:11.5,"`":12.764999389648438,a:12.120986938476562,b:13.178985595703125,c:10.740997314453125,d:13.178985595703125,e:11.913986206054688,f:7.842987060546875,g:12.281997680664062,"Ä":12.281997680664062,h:13.13299560546875,"Ä±":6.347991943359375,i:6.347991943359375,j:6.3939971923828125,k:12.603988647460938,l:6.5779876708984375,m:19.71099853515625,n:13.155990600585938,o:12.764999389648438,"Ã¶":12.764999389648438,p:13.178985595703125,q:13.178985595703125,r:9.15399169921875,s:10.188995361328125,"Å":10.188995361328125,t:8.808990478515625,u:13.063995361328125,"Ã¼":13.063995361328125,v:12.02899169921875,w:17.847991943359375,x:11.821990966796875,y:11.982986450195312,z:10.579986572265625,"{":7.9119873046875,"|":6.1639862060546875,"}":7.9119873046875,"~":12.143997192382812,"â¦":22.493988037109375}},"24px":{lengths:{0:12.6719970703125,1:12.6719970703125,2:12.6719970703125,3:12.6719970703125,4:12.6719970703125,5:12.6719970703125,6:12.6719970703125,7:12.6719970703125,8:12.6719970703125,9:12.6719970703125," ":4.79998779296875,"!":8.159988403320312,'"':12.887985229492188,"#":12.6719970703125,$:12.6719970703125,"%":20.5679931640625,"&":16.00799560546875,"'":7.1999969482421875,"(":8.255996704101562,")":8.255996704101562,"*":10.967987060546875,"+":12.6719970703125,",":7.1999969482421875,"-":7.967987060546875,".":7.1999969482421875,"/":8.135986328125,":":7.1999969482421875,";":7.1999969482421875,"<":12.6719970703125,"=":12.6719970703125,">":12.6719970703125,"?":11.11199951171875,"@":21.6719970703125,A:13.751998901367188,B:14.519989013671875,C:13.967987060546875,"Ã":13.967987060546875,D:15.239990234375,E:13.151992797851562,F:12.57598876953125,G:15.311996459960938,"Ä":15.311996459960938,H:16.175994873046875,I:7.2239990234375,"Ä°":7.2239990234375,J:12.215988159179688,K:14.735992431640625,L:12.431991577148438,M:18.287994384765625,N:15.959991455078125,O:16.416000366210938,"Ã":16.416000366210938,P:14.303985595703125,Q:16.416000366210938,R:14.711990356445312,S:13.343994140625,"Å":13.343994140625,T:13.343994140625,U:15.959991455078125,"Ã":15.959991455078125,V:13.343994140625,W:19.511993408203125,X:13.607986450195312,Y:12.599990844726562,Z:12.983993530273438,"[":8.255996704101562,"\\":8.135986328125,"]":8.255996704101562,"^":12.6719970703125,_:12,"`":13.319992065429688,a:12.647994995117188,b:13.751998901367188,c:11.207992553710938,d:13.751998901367188,e:12.431991577148438,f:8.183990478515625,g:12.815994262695312,"Ä":12.815994262695312,h:13.703994750976562,"Ä±":6.623992919921875,i:6.623992919921875,j:6.6719970703125,k:13.151992797851562,l:6.8639984130859375,m:20.5679931640625,n:13.727996826171875,o:13.319992065429688,"Ã¶":13.319992065429688,p:13.751998901367188,q:13.751998901367188,r:9.551986694335938,s:10.631988525390625,"Å":10.631988525390625,t:9.191986083984375,u:13.631988525390625,"Ã¼":13.631988525390625,v:12.551986694335938,w:18.623992919921875,x:12.33599853515625,y:12.503997802734375,z:11.039993286132812,"{":8.255996704101562,"|":6.4319915771484375,"}":8.255996704101562,"~":12.6719970703125,"â¦":23.472000122070312}},"25px":{lengths:{0:13.199996948242188,1:13.199996948242188,2:13.199996948242188,3:13.199996948242188,4:13.199996948242188,5:13.199996948242188,6:13.199996948242188,7:13.199996948242188,8:13.199996948242188,9:13.199996948242188," ":5,"!":8.5,'"':13.42498779296875,"#":13.199996948242188,$:13.199996948242188,"%":21.42498779296875,"&":16.67498779296875,"'":7.5,"(":8.599990844726562,")":8.599990844726562,"*":11.42498779296875,"+":13.199996948242188,",":7.5,"-":8.29998779296875,".":7.5,"/":8.474990844726562,":":7.5,";":7.5,"<":13.199996948242188,"=":13.199996948242188,">":13.199996948242188,"?":11.574996948242188,"@":22.574996948242188,A:14.324996948242188,B:15.125,C:14.54998779296875,"Ã":14.54998779296875,D:15.875,E:13.699996948242188,F:13.099990844726562,G:15.949996948242188,"Ä":15.949996948242188,H:16.849990844726562,I:7.524993896484375,"Ä°":7.524993896484375,J:12.724990844726562,K:15.349990844726562,L:12.949996948242188,M:19.04998779296875,N:16.625,O:17.099990844726562,"Ã":17.099990844726562,P:14.899993896484375,Q:17.099990844726562,R:15.324996948242188,S:13.899993896484375,"Å":13.899993896484375,T:13.899993896484375,U:16.625,"Ã":16.625,V:13.899993896484375,W:20.324996948242188,X:14.17498779296875,Y:13.125,Z:13.524993896484375,"[":8.599990844726562,"\\":8.474990844726562,"]":8.599990844726562,"^":13.199996948242188,_:12.5,"`":13.875,a:13.17498779296875,b:14.324996948242188,c:11.67498779296875,d:14.324996948242188,e:12.949996948242188,f:8.524993896484375,g:13.349990844726562,"Ä":13.349990844726562,h:14.274993896484375,"Ä±":6.899993896484375,i:6.899993896484375,j:6.9499969482421875,k:13.699996948242188,l:7.149993896484375,m:21.42498779296875,n:14.29998779296875,o:13.875,"Ã¶":13.875,p:14.324996948242188,q:14.324996948242188,r:9.949996948242188,s:11.074996948242188,"Å":11.074996948242188,t:9.574996948242188,u:14.199996948242188,"Ã¼":14.199996948242188,v:13.074996948242188,w:19.399993896484375,x:12.849990844726562,y:13.024993896484375,z:11.5,"{":8.599990844726562,"|":6.6999969482421875,"}":8.599990844726562,"~":13.199996948242188,"â¦":24.449996948242188}},"26px":{lengths:{0:13.727996826171875,1:13.727996826171875,2:13.727996826171875,3:13.727996826171875,4:13.727996826171875,5:13.727996826171875,6:13.727996826171875,7:13.727996826171875,8:13.727996826171875,9:13.727996826171875," ":5.1999969482421875,"!":8.839996337890625,'"':13.961990356445312,"#":13.727996826171875,$:13.727996826171875,"%":22.281997680664062,"&":17.341995239257812,"'":7.79998779296875,"(":8.944000244140625,")":8.944000244140625,"*":11.881988525390625,"+":13.727996826171875,",":7.79998779296875,"-":8.631988525390625,".":7.79998779296875,"/":8.813995361328125,":":7.79998779296875,";":7.79998779296875,"<":13.727996826171875,"=":13.727996826171875,">":13.727996826171875,"?":12.037994384765625,"@":23.477996826171875,A:14.897994995117188,B:15.729995727539062,C:15.131988525390625,"Ã":15.131988525390625,D:16.509994506835938,E:14.24798583984375,F:13.623992919921875,G:16.587997436523438,"Ä":16.587997436523438,H:17.52398681640625,I:7.82598876953125,"Ä°":7.82598876953125,J:13.233993530273438,K:15.9639892578125,L:13.467987060546875,M:19.811996459960938,N:17.289993286132812,O:17.78399658203125,"Ã":17.78399658203125,P:15.495986938476562,Q:17.78399658203125,R:15.93798828125,S:14.45599365234375,"Å":14.45599365234375,T:14.45599365234375,U:17.289993286132812,"Ã":17.289993286132812,V:14.45599365234375,W:21.13800048828125,X:14.741989135742188,Y:13.649993896484375,Z:14.065994262695312,"[":8.944000244140625,"\\":8.813995361328125,"]":8.944000244140625,"^":13.727996826171875,_:13,"`":14.42999267578125,a:13.701995849609375,b:14.897994995117188,c:12.141998291015625,d:14.897994995117188,e:13.467987060546875,f:8.865997314453125,g:13.883987426757812,"Ä":13.883987426757812,h:14.845993041992188,"Ä±":7.175994873046875,i:7.175994873046875,j:7.227996826171875,k:14.24798583984375,l:7.4359893798828125,m:22.281997680664062,n:14.871994018554688,o:14.42999267578125,"Ã¶":14.42999267578125,p:14.897994995117188,q:14.897994995117188,r:10.347991943359375,s:11.517990112304688,"Å":11.517990112304688,t:9.957992553710938,u:14.767990112304688,"Ã¼":14.767990112304688,v:13.597991943359375,w:20.175994873046875,x:13.363998413085938,y:13.545989990234375,z:11.959991455078125,"{":8.944000244140625,"|":6.967987060546875,"}":8.944000244140625,"~":13.727996826171875,"â¦":25.427993774414062}},"27px":{lengths:{0:14.255996704101562,1:14.255996704101562,2:14.255996704101562,3:14.255996704101562,4:14.255996704101562,5:14.255996704101562,6:14.255996704101562,7:14.255996704101562,8:14.255996704101562,9:14.255996704101562," ":5.399993896484375,"!":9.17999267578125,'"':14.498992919921875,"#":14.255996704101562,$:14.255996704101562,"%":23.138992309570312,"&":18.008987426757812,"'":8.099990844726562,"(":9.287994384765625,")":9.287994384765625,"*":12.3389892578125,"+":14.255996704101562,",":8.099990844726562,"-":8.9639892578125,".":8.099990844726562,"/":9.152999877929688,":":8.099990844726562,";":8.099990844726562,"<":14.255996704101562,"=":14.255996704101562,">":14.255996704101562,"?":12.500991821289062,"@":24.380996704101562,A:15.470993041992188,B:16.334991455078125,C:15.7139892578125,"Ã":15.7139892578125,D:17.144989013671875,E:14.795989990234375,F:14.147994995117188,G:17.225997924804688,"Ä":17.225997924804688,H:18.197998046875,I:8.126998901367188,"Ä°":8.126998901367188,J:13.742996215820312,K:16.577987670898438,L:13.985992431640625,M:20.573989868164062,N:17.954986572265625,O:18.467987060546875,"Ã":18.467987060546875,P:16.091995239257812,Q:18.467987060546875,R:16.550994873046875,S:15.011993408203125,"Å":15.011993408203125,T:15.011993408203125,U:17.954986572265625,"Ã":17.954986572265625,V:15.011993408203125,W:21.95098876953125,X:15.308990478515625,Y:14.17498779296875,Z:14.60699462890625,"[":9.287994384765625,"\\":9.152999877929688,"]":9.287994384765625,"^":14.255996704101562,_:13.5,"`":14.9849853515625,a:14.228988647460938,b:15.470993041992188,c:12.608993530273438,d:15.470993041992188,e:13.985992431640625,f:9.206985473632812,g:14.417999267578125,"Ä":14.417999267578125,h:15.4169921875,"Ä±":7.451995849609375,i:7.451995849609375,j:7.5059967041015625,k:14.795989990234375,l:7.7220001220703125,m:23.138992309570312,n:15.444000244140625,o:14.9849853515625,"Ã¶":14.9849853515625,p:15.470993041992188,q:15.470993041992188,r:10.745986938476562,s:11.96099853515625,"Å":11.96099853515625,t:10.340988159179688,u:15.33599853515625,"Ã¼":15.33599853515625,v:14.120986938476562,w:20.951995849609375,x:13.87799072265625,y:14.066986083984375,z:12.419998168945312,"{":9.287994384765625,"|":7.235992431640625,"}":9.287994384765625,"~":14.255996704101562,"â¦":26.405990600585938}},"28px":{lengths:{0:14.78399658203125,1:14.78399658203125,2:14.78399658203125,3:14.78399658203125,4:14.78399658203125,5:14.78399658203125,6:14.78399658203125,7:14.78399658203125,8:14.78399658203125,9:14.78399658203125," ":5.5999908447265625,"!":9.519989013671875,'"':15.035995483398438,"#":14.78399658203125,$:14.78399658203125,"%":23.995986938476562,"&":18.675994873046875,"'":8.399993896484375,"(":9.631988525390625,")":9.631988525390625,"*":12.795989990234375,"+":14.78399658203125,",":8.399993896484375,"-":9.295989990234375,".":8.399993896484375,"/":9.491989135742188,":":8.399993896484375,";":8.399993896484375,"<":14.78399658203125,"=":14.78399658203125,">":14.78399658203125,"?":12.9639892578125,"@":25.28399658203125,A:16.043991088867188,B:16.939987182617188,C:16.295989990234375,"Ã":16.295989990234375,D:17.779998779296875,E:15.343994140625,F:14.6719970703125,G:17.863998413085938,"Ä":17.863998413085938,H:18.871994018554688,I:8.427993774414062,"Ä°":8.427993774414062,J:14.251998901367188,K:17.191986083984375,L:14.503997802734375,M:21.33599853515625,N:18.6199951171875,O:19.151992797851562,"Ã":19.151992797851562,P:16.68798828125,Q:19.151992797851562,R:17.163986206054688,S:15.5679931640625,"Å":15.5679931640625,T:15.5679931640625,U:18.6199951171875,"Ã":18.6199951171875,V:15.5679931640625,W:22.763992309570312,X:15.875991821289062,Y:14.699996948242188,Z:15.147994995117188,"[":9.631988525390625,"\\":9.491989135742188,"]":9.631988525390625,"^":14.78399658203125,_:14,"`":15.539993286132812,a:14.755996704101562,b:16.043991088867188,c:13.07598876953125,d:16.043991088867188,e:14.503997802734375,f:9.547988891601562,g:14.951995849609375,"Ä":14.951995849609375,h:15.987991333007812,"Ä±":7.727996826171875,i:7.727996826171875,j:7.78399658203125,k:15.343994140625,l:8.00799560546875,m:23.995986938476562,n:16.0159912109375,o:15.539993286132812,"Ã¶":15.539993286132812,p:16.043991088867188,q:16.043991088867188,r:11.143997192382812,s:12.40399169921875,"Å":12.40399169921875,t:10.7239990234375,u:15.90399169921875,"Ã¼":15.90399169921875,v:14.643997192382812,w:21.727996826171875,x:14.391998291015625,y:14.587997436523438,z:12.879989624023438,"{":9.631988525390625,"|":7.503997802734375,"}":9.631988525390625,"~":14.78399658203125,"â¦":27.383987426757812}},"29px":{lengths:{0:15.311996459960938,1:15.311996459960938,2:15.311996459960938,3:15.311996459960938,4:15.311996459960938,5:15.311996459960938,6:15.311996459960938,7:15.311996459960938,8:15.311996459960938,9:15.311996459960938," ":5.79998779296875,"!":9.8599853515625,'"':15.572998046875,"#":15.311996459960938,$:15.311996459960938,"%":24.852996826171875,"&":19.342987060546875,"'":8.699996948242188,"(":9.975997924804688,")":9.975997924804688,"*":13.25299072265625,"+":15.311996459960938,",":8.699996948242188,"-":9.62799072265625,".":8.699996948242188,"/":9.83099365234375,":":8.699996948242188,";":8.699996948242188,"<":15.311996459960938,"=":15.311996459960938,">":15.311996459960938,"?":13.426986694335938,"@":26.186996459960938,A:16.616989135742188,B:17.544998168945312,C:16.87799072265625,"Ã":16.87799072265625,D:18.414993286132812,E:15.891998291015625,F:15.195999145507812,G:18.501998901367188,"Ä":18.501998901367188,H:19.545989990234375,I:8.728988647460938,"Ä°":8.728988647460938,J:14.760986328125,K:17.805999755859375,L:15.021987915039062,M:22.097991943359375,N:19.284988403320312,O:19.83599853515625,"Ã":19.83599853515625,P:17.28399658203125,Q:19.83599853515625,R:17.776992797851562,S:16.123992919921875,"Å":16.123992919921875,T:16.123992919921875,U:19.284988403320312,"Ã":19.284988403320312,V:16.123992919921875,W:23.576995849609375,X:16.4429931640625,Y:15.224990844726562,Z:15.688995361328125,"[":9.975997924804688,"\\":9.83099365234375,"]":9.975997924804688,"^":15.311996459960938,_:14.5,"`":16.094985961914062,a:15.282989501953125,b:16.616989135742188,c:13.542999267578125,d:16.616989135742188,e:15.021987915039062,f:9.888992309570312,g:15.485992431640625,"Ä":15.485992431640625,h:16.558990478515625,"Ä±":8.003997802734375,i:8.003997802734375,j:8.061996459960938,k:15.891998291015625,l:8.293991088867188,m:24.852996826171875,n:16.587997436523438,o:16.094985961914062,"Ã¶":16.094985961914062,p:16.616989135742188,q:16.616989135742188,r:11.5419921875,s:12.847000122070312,"Å":12.847000122070312,t:11.10699462890625,u:16.472000122070312,"Ã¼":16.472000122070312,v:15.1669921875,w:22.503997802734375,x:14.905990600585938,y:15.108993530273438,z:13.339996337890625,"{":9.975997924804688,"|":7.7719879150390625,"}":9.975997924804688,"~":15.311996459960938,"â¦":28.36199951171875}},"30px":{lengths:{0:15.839996337890625,1:15.839996337890625,2:15.839996337890625,3:15.839996337890625,4:15.839996337890625,5:15.839996337890625,6:15.839996337890625,7:15.839996337890625,8:15.839996337890625,9:15.839996337890625," ":6,"!":10.199996948242188,'"':16.110000610351562,"#":15.839996337890625,$:15.839996337890625,"%":25.709991455078125,"&":20.009994506835938,"'":9,"(":10.319992065429688,")":10.319992065429688,"*":13.709991455078125,"+":15.839996337890625,",":9,"-":9.959991455078125,".":9,"/":10.169998168945312,":":9,";":9,"<":15.839996337890625,"=":15.839996337890625,">":15.839996337890625,"?":13.889999389648438,"@":27.089996337890625,A:17.189987182617188,B:18.149993896484375,C:17.459991455078125,"Ã":17.459991455078125,D:19.04998779296875,E:16.439987182617188,F:15.719985961914062,G:19.139999389648438,"Ä":19.139999389648438,H:20.219985961914062,I:9.029998779296875,"Ä°":9.029998779296875,J:15.269989013671875,K:18.419998168945312,L:15.539993286132812,M:22.860000610351562,N:19.949996948242188,O:20.519989013671875,"Ã":20.519989013671875,P:17.879989624023438,Q:20.519989013671875,R:18.389999389648438,S:16.67999267578125,"Å":16.67999267578125,T:16.67999267578125,U:19.949996948242188,"Ã":19.949996948242188,V:16.67999267578125,W:24.389999389648438,X:17.009994506835938,Y:15.75,Z:16.229995727539062,"[":10.319992065429688,"\\":10.169998168945312,"]":10.319992065429688,"^":15.839996337890625,_:15,"`":16.649993896484375,a:15.80999755859375,b:17.189987182617188,c:14.009994506835938,d:17.189987182617188,e:15.539993286132812,f:10.229995727539062,g:16.019989013671875,"Ä":16.019989013671875,h:17.129989624023438,"Ä±":8.279998779296875,i:8.279998779296875,j:8.339996337890625,k:16.439987182617188,l:8.579986572265625,m:25.709991455078125,n:17.159988403320312,o:16.649993896484375,"Ã¶":16.649993896484375,p:17.189987182617188,q:17.189987182617188,r:11.939987182617188,s:13.289993286132812,"Å":13.289993286132812,t:11.489990234375,u:17.039993286132812,"Ã¼":17.039993286132812,v:15.689987182617188,w:23.279998779296875,x:15.419998168945312,y:15.629989624023438,z:13.79998779296875,"{":10.319992065429688,"|":8.039993286132812,"}":10.319992065429688,"~":15.839996337890625,"â¦":29.339996337890625}},"31px":{lengths:{0:16.367996215820312,1:16.367996215820312,2:16.367996215820312,3:16.367996215820312,4:16.367996215820312,5:16.367996215820312,6:16.367996215820312,7:16.367996215820312,8:16.367996215820312,9:16.367996215820312," ":6.1999969482421875,"!":10.539993286132812,'"':16.646987915039062,"#":16.367996215820312,$:16.367996215820312,"%":26.566986083984375,"&":20.676986694335938,"'":9.29998779296875,"(":10.663986206054688,")":10.663986206054688,"*":14.1669921875,"+":16.367996215820312,",":9.29998779296875,"-":10.2919921875,".":9.29998779296875,"/":10.508987426757812,":":9.29998779296875,";":9.29998779296875,"<":16.367996215820312,"=":16.367996215820312,">":16.367996215820312,"?":14.352996826171875,"@":27.992996215820312,A:17.76300048828125,B:18.754989624023438,C:18.0419921875,"Ã":18.0419921875,D:19.68499755859375,E:16.987991333007812,F:16.243988037109375,G:19.777999877929688,"Ä":19.777999877929688,H:20.893997192382812,I:9.33099365234375,"Ä°":9.33099365234375,J:15.77899169921875,K:19.03399658203125,L:16.057998657226562,M:23.621994018554688,N:20.614990234375,O:21.203994750976562,"Ã":21.203994750976562,P:18.475997924804688,Q:21.203994750976562,R:19.00299072265625,S:17.235992431640625,"Å":17.235992431640625,T:17.235992431640625,U:20.614990234375,"Ã":20.614990234375,V:17.235992431640625,W:25.202987670898438,X:17.576995849609375,Y:16.274993896484375,Z:16.77099609375,"[":10.663986206054688,"\\":10.508987426757812,"]":10.663986206054688,"^":16.367996215820312,_:15.5,"`":17.204986572265625,a:16.336990356445312,b:17.76300048828125,c:14.47698974609375,d:17.76300048828125,e:16.057998657226562,f:10.570999145507812,g:16.554000854492188,"Ä":16.554000854492188,h:17.70098876953125,"Ä±":8.555999755859375,i:8.555999755859375,j:8.617996215820312,k:16.987991333007812,l:8.865997314453125,m:26.566986083984375,n:17.73199462890625,o:17.204986572265625,"Ã¶":17.204986572265625,p:17.76300048828125,q:17.76300048828125,r:12.337997436523438,s:13.732986450195312,"Å":13.732986450195312,t:11.87298583984375,u:17.607986450195312,"Ã¼":17.607986450195312,v:16.212997436523438,w:24.055999755859375,x:15.933990478515625,y:16.150985717773438,z:14.259994506835938,"{":10.663986206054688,"|":8.307998657226562,"}":10.663986206054688,"~":16.367996215820312,"â¦":30.3179931640625}},"32px":{lengths:{0:16.89599609375,1:16.89599609375,2:16.89599609375,3:16.89599609375,4:16.89599609375,5:16.89599609375,6:16.89599609375,7:16.89599609375,8:16.89599609375,9:16.89599609375," ":6.399993896484375,"!":10.879989624023438,'"':17.183990478515625,"#":16.89599609375,$:16.89599609375,"%":27.423995971679688,"&":21.343994140625,"'":9.599990844726562,"(":11.00799560546875,")":11.00799560546875,"*":14.623992919921875,"+":16.89599609375,",":9.599990844726562,"-":10.623992919921875,".":9.599990844726562,"/":10.847991943359375,":":9.599990844726562,";":9.599990844726562,"<":16.89599609375,"=":16.89599609375,">":16.89599609375,"?":14.815994262695312,"@":28.89599609375,A:18.33599853515625,B:19.360000610351562,C:18.623992919921875,"Ã":18.623992919921875,D:20.319992065429688,E:17.535995483398438,F:16.767990112304688,G:20.416000366210938,"Ä":20.416000366210938,H:21.5679931640625,I:9.631988525390625,"Ä°":9.631988525390625,J:16.287994384765625,K:19.647994995117188,L:16.57598876953125,M:24.383987426757812,N:21.279998779296875,O:21.88800048828125,"Ã":21.88800048828125,P:19.071990966796875,Q:21.88800048828125,R:19.615997314453125,S:17.7919921875,"Å":17.7919921875,T:17.7919921875,U:21.279998779296875,"Ã":21.279998779296875,V:17.7919921875,W:26.0159912109375,X:18.143997192382812,Y:16.79998779296875,Z:17.311996459960938,"[":11.00799560546875,"\\":10.847991943359375,"]":11.00799560546875,"^":16.89599609375,_:16,"`":17.759994506835938,a:16.863998413085938,b:18.33599853515625,c:14.944000244140625,d:18.33599853515625,e:16.57598876953125,f:10.9119873046875,g:17.087997436523438,"Ä":17.087997436523438,h:18.271987915039062,"Ä±":8.831985473632812,i:8.831985473632812,j:8.89599609375,k:17.535995483398438,l:9.151992797851562,m:27.423995971679688,n:18.304000854492188,o:17.759994506835938,"Ã¶":17.759994506835938,p:18.33599853515625,q:18.33599853515625,r:12.735992431640625,s:14.175994873046875,"Å":14.175994873046875,t:12.255996704101562,u:18.175994873046875,"Ã¼":18.175994873046875,v:16.735992431640625,w:24.832000732421875,x:16.447998046875,y:16.6719970703125,z:14.719985961914062,"{":11.00799560546875,"|":8.57598876953125,"}":11.00799560546875,"~":16.89599609375,"â¦":31.295989990234375}},"33px":{lengths:{0:17.423995971679688,1:17.423995971679688,2:17.423995971679688,3:17.423995971679688,4:17.423995971679688,5:17.423995971679688,6:17.423995971679688,7:17.423995971679688,8:17.423995971679688,9:17.423995971679688," ":6.5999908447265625,"!":11.219985961914062,'"':17.720993041992188,"#":17.423995971679688,$:17.423995971679688,"%":28.280990600585938,"&":22.010986328125,"'":9.899993896484375,"(":11.35198974609375,")":11.35198974609375,"*":15.08099365234375,"+":17.423995971679688,",":9.899993896484375,"-":10.95599365234375,".":9.899993896484375,"/":11.186996459960938,":":9.899993896484375,";":9.899993896484375,"<":17.423995971679688,"=":17.423995971679688,">":17.423995971679688,"?":15.27899169921875,"@":29.798995971679688,A:18.90899658203125,B:19.964996337890625,C:19.20599365234375,"Ã":19.20599365234375,D:20.954986572265625,E:18.083999633789062,F:17.2919921875,G:21.054000854492188,"Ä":21.054000854492188,H:22.241989135742188,I:9.932998657226562,"Ä°":9.932998657226562,J:16.7969970703125,K:20.261993408203125,L:17.093994140625,M:25.14599609375,N:21.944992065429688,O:22.571990966796875,"Ã":22.571990966796875,P:19.667999267578125,Q:22.571990966796875,R:20.228988647460938,S:18.347991943359375,"Å":18.347991943359375,T:18.347991943359375,U:21.944992065429688,"Ã":21.944992065429688,V:18.347991943359375,W:26.828994750976562,X:18.71099853515625,Y:17.324996948242188,Z:17.852996826171875,"[":11.35198974609375,"\\":11.186996459960938,"]":11.35198974609375,"^":17.423995971679688,_:16.5,"`":18.314987182617188,a:17.3909912109375,b:18.90899658203125,c:15.410995483398438,d:18.90899658203125,e:17.093994140625,f:11.25299072265625,g:17.621994018554688,"Ä":17.621994018554688,h:18.842987060546875,"Ä±":9.107986450195312,i:9.107986450195312,j:9.173995971679688,k:18.083999633789062,l:9.43798828125,m:28.280990600585938,n:18.875991821289062,o:18.314987182617188,"Ã¶":18.314987182617188,p:18.90899658203125,q:18.90899658203125,r:13.133987426757812,s:14.618988037109375,"Å":14.618988037109375,t:12.638992309570312,u:18.743988037109375,"Ã¼":18.743988037109375,v:17.258987426757812,w:25.607986450195312,x:16.961990356445312,y:17.1929931640625,z:15.17999267578125,"{":11.35198974609375,"|":8.843994140625,"}":11.35198974609375,"~":17.423995971679688,"â¦":32.27398681640625}},"34px":{lengths:{0:17.951995849609375,1:17.951995849609375,2:17.951995849609375,3:17.951995849609375,4:17.951995849609375,5:17.951995849609375,6:17.951995849609375,7:17.951995849609375,8:17.951995849609375,9:17.951995849609375," ":6.79998779296875,"!":11.55999755859375,'"':18.25799560546875,"#":17.951995849609375,$:17.951995849609375,"%":29.13800048828125,"&":22.677993774414062,"'":10.199996948242188,"(":11.695999145507812,")":11.695999145507812,"*":15.537994384765625,"+":17.951995849609375,",":10.199996948242188,"-":11.287994384765625,".":10.199996948242188,"/":11.525985717773438,":":10.199996948242188,";":10.199996948242188,"<":17.951995849609375,"=":17.951995849609375,">":17.951995849609375,"?":15.741989135742188,"@":30.701995849609375,A:19.48199462890625,B:20.569992065429688,C:19.787994384765625,"Ã":19.787994384765625,D:21.589996337890625,E:18.631988525390625,F:17.815994262695312,G:21.691986083984375,"Ä":21.691986083984375,H:22.916000366210938,I:10.233993530273438,"Ä°":10.233993530273438,J:17.305999755859375,K:20.875991821289062,L:17.61199951171875,M:25.907989501953125,N:22.610000610351562,O:23.255996704101562,"Ã":23.255996704101562,P:20.263992309570312,Q:23.255996704101562,R:20.841995239257812,S:18.90399169921875,"Å":18.90399169921875,T:18.90399169921875,U:22.610000610351562,"Ã":22.610000610351562,V:18.90399169921875,W:27.641998291015625,X:19.277999877929688,Y:17.849990844726562,Z:18.393997192382812,"[":11.695999145507812,"\\":11.525985717773438,"]":11.695999145507812,"^":17.951995849609375,_:17,"`":18.8699951171875,a:17.917999267578125,b:19.48199462890625,c:15.87799072265625,d:19.48199462890625,e:17.61199951171875,f:11.593994140625,g:18.155990600585938,"Ä":18.155990600585938,h:19.413986206054688,"Ä±":9.383987426757812,i:9.383987426757812,j:9.451995849609375,k:18.631988525390625,l:9.7239990234375,m:29.13800048828125,n:19.447998046875,o:18.8699951171875,"Ã¶":18.8699951171875,p:19.48199462890625,q:19.48199462890625,r:13.531997680664062,s:15.061996459960938,"Å":15.061996459960938,t:13.021987915039062,u:19.311996459960938,"Ã¼":19.311996459960938,v:17.781997680664062,w:26.383987426757812,x:17.475997924804688,y:17.7139892578125,z:15.639999389648438,"{":11.695999145507812,"|":9.11199951171875,"}":11.695999145507812,"~":17.951995849609375,"â¦":33.25199890136719}},"35px":{lengths:{0:18.479995727539062,1:18.479995727539062,2:18.479995727539062,3:18.479995727539062,4:18.479995727539062,5:18.479995727539062,6:18.479995727539062,7:18.479995727539062,8:18.479995727539062,9:18.479995727539062," ":7,"!":11.899993896484375,'"':18.794998168945312,"#":18.479995727539062,$:18.479995727539062,"%":29.9949951171875,"&":23.344985961914062,"'":10.5,"(":12.039993286132812,")":12.039993286132812,"*":15.9949951171875,"+":18.479995727539062,",":10.5,"-":11.6199951171875,".":10.5,"/":11.864990234375,":":10.5,";":10.5,"<":18.479995727539062,"=":18.479995727539062,">":18.479995727539062,"?":16.204986572265625,"@":31.604995727539062,A:20.05499267578125,B:21.17498779296875,C:20.3699951171875,"Ã":20.3699951171875,D:22.224990844726562,E:19.17999267578125,F:18.339996337890625,G:22.329986572265625,"Ä":22.329986572265625,H:23.589996337890625,I:10.534988403320312,"Ä°":10.534988403320312,J:17.814987182617188,K:21.489990234375,L:18.129989624023438,M:26.669998168945312,N:23.274993896484375,O:23.939987182617188,"Ã":23.939987182617188,P:20.860000610351562,Q:23.939987182617188,R:21.454986572265625,S:19.459991455078125,"Å":19.459991455078125,T:19.459991455078125,U:23.274993896484375,"Ã":23.274993896484375,V:19.459991455078125,W:28.454986572265625,X:19.844985961914062,Y:18.375,Z:18.93499755859375,"[":12.039993286132812,"\\":11.864990234375,"]":12.039993286132812,"^":18.479995727539062,_:17.5,"`":19.42498779296875,a:18.444992065429688,b:20.05499267578125,c:16.344985961914062,d:20.05499267578125,e:18.129989624023438,f:11.93499755859375,g:18.689987182617188,"Ä":18.689987182617188,h:19.985000610351562,"Ä±":9.659988403320312,i:9.659988403320312,j:9.729995727539062,k:19.17999267578125,l:10.009994506835938,m:29.9949951171875,n:20.019989013671875,o:19.42498779296875,"Ã¶":19.42498779296875,p:20.05499267578125,q:20.05499267578125,r:13.92999267578125,s:15.504989624023438,"Å":15.504989624023438,t:13.404998779296875,u:19.879989624023438,"Ã¼":19.879989624023438,v:18.30499267578125,w:27.159988403320312,x:17.989990234375,y:18.235000610351562,z:16.099990844726562,"{":12.039993286132812,"|":9.379989624023438,"}":12.039993286132812,"~":18.479995727539062,"â¦":34.22999572753906}},"36px":{lengths:{0:19.00799560546875,1:19.00799560546875,2:19.00799560546875,3:19.00799560546875,4:19.00799560546875,5:19.00799560546875,6:19.00799560546875,7:19.00799560546875,8:19.00799560546875,9:19.00799560546875," ":7.1999969482421875,"!":12.239990234375,'"':19.332000732421875,"#":19.00799560546875,$:19.00799560546875,"%":30.85198974609375,"&":24.011993408203125,"'":10.79998779296875,"(":12.383987426757812,")":12.383987426757812,"*":16.451995849609375,"+":19.00799560546875,",":10.79998779296875,"-":11.951995849609375,".":10.79998779296875,"/":12.203994750976562,":":10.79998779296875,";":10.79998779296875,"<":19.00799560546875,"=":19.00799560546875,">":19.00799560546875,"?":16.667999267578125,"@":32.50799560546875,A:20.62799072265625,B:21.779998779296875,C:20.951995849609375,"Ã":20.951995849609375,D:22.860000610351562,E:19.727996826171875,F:18.863998413085938,G:22.967987060546875,"Ä":22.967987060546875,H:24.263992309570312,I:10.83599853515625,"Ä°":10.83599853515625,J:18.323989868164062,K:22.103988647460938,L:18.647994995117188,M:27.431991577148438,N:23.939987182617188,O:24.623992919921875,"Ã":24.623992919921875,P:21.45599365234375,Q:24.623992919921875,R:22.0679931640625,S:20.0159912109375,"Å":20.0159912109375,T:20.0159912109375,U:23.939987182617188,"Ã":23.939987182617188,V:20.0159912109375,W:29.267990112304688,X:20.4119873046875,Y:18.899993896484375,Z:19.475997924804688,"[":12.383987426757812,"\\":12.203994750976562,"]":12.383987426757812,"^":19.00799560546875,_:18,"`":19.979995727539062,a:18.972000122070312,b:20.62799072265625,c:16.811996459960938,d:20.62799072265625,e:18.647994995117188,f:12.275985717773438,g:19.2239990234375,"Ä":19.2239990234375,h:20.555999755859375,"Ä±":9.935989379882812,i:9.935989379882812,j:10.00799560546875,k:19.727996826171875,l:10.295989990234375,m:30.85198974609375,n:20.591995239257812,o:19.979995727539062,"Ã¶":19.979995727539062,p:20.62799072265625,q:20.62799072265625,r:14.327987670898438,s:15.947998046875,"Å":15.947998046875,t:13.787994384765625,u:20.447998046875,"Ã¼":20.447998046875,v:18.827987670898438,w:27.935989379882812,x:18.503997802734375,y:18.755996704101562,z:16.55999755859375,"{":12.383987426757812,"|":9.647994995117188,"}":12.383987426757812,"~":19.00799560546875,"â¦":35.20799255371094}}}},ch={measureText:function(t,e,n){if(void 0===n&&(n="undefined"),null===n&&(n="null"),NaN===n&&(n="NaN"),"string"!=typeof n&&(n=n.toString()),0===n.length)return 0;sh.hasOwnProperty(t)||(t="'Source Sans Pro', Arial, sans-serif"),sh[t].hasOwnProperty(e)||(e="12px");for(var i=0,r=0;r<n.length;r++){var a=n.charAt(r);i+=sh[t][e].lengths[a]}return console.log(i),i}};function uh(t){var e=t.baseline||t["dominant-baseline"],n=0,i=parseInt(t.fontSize||t["font-size"],10)||0;switch(e){case"hanging":n=.75*i;break;case"text-before-edge":n=.85*i;break;case"middle":n=.25*i;break;case"central":n=.35*i;break;case"mathemetical":n=i/2;break;case"text-after-edge":case"ideographic":n=.2*-i;break;default:n=0}return n}var lh={},hh={};function fh(t){var e=t.text,n=t.fontSize,i=t.fontFamily,r=hh[e+n+i];if(void 0!==r)return r;var a=ch.measureText(i,n,e);return hh[e+n+i]=a}function dh(t){var e=t.text,n=t.fontSize,i=t.fontFamily;return{width:fh({text:e,fontSize:n,fontFamily:i}),height:function(t){var e=t.fontSize,n=t.fontFamily,i=lh[e+n];if(void 0!==i)return i;var r=1.2*fh({text:"M",fontSize:e,fontFamily:n});return lh[e+n]=r}({fontSize:n,fontFamily:i})}}function gh(t,e){var n=1<arguments.length&&void 0!==e?e:dh,i=t["font-size"]||t.fontSize,r=t["font-family"]||t.fontFamily,a=n({text:t.text,fontFamily:r,fontSize:i}),o=Math.min(t.maxWidth||a.width,a.width),s=t.x||0,c=t.y||0,u=t.dx||0,l={x:0,y:c+((t.dy||0)+uh(t))-.75*a.height,width:o,height:a.height},h=t["text-anchor"]||t.anchor;return l.x="middle"===h?s+u-o/2:"end"===h?s+u-o:s+u,l}function ph(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:dh,n=rh(t);if(n){for(var i=t["font-size"]||t.fontSize,r=t["font-family"]||t.fontFamily,a=n(t,function(t){return e({text:t,fontFamily:r,fontSize:i})}),o=tt({},t),s=0,c="",u=0,l=a.lines.length;u<l;u++){var h=a.lines[u];h+=u===l-1&&a.reduced?Jl:"";var f=e({text:h,fontSize:i,fontFamily:r}).width;s<=f&&(s=f,c=h)}o.text=c;var d=gh(o,e),g=d.height*Math.max(isNaN(t.lineHeight)?Xl:t.lineHeight,0)-d.height;return d.height=(d.height+g)*a.lines.length,d}return gh(t,e)}var yh=new RegExp("[A-Za-zÂªÂµÂºÃ-ÃÃ-Ã¶Ã¸-Ê¸Ê»-ËË-ËË -Ë¤Ë®Í°-Í³Í¶-Í½ÎÎ-ÏµÏ·-ÒÒ-Öà¤-à¤¹à¤»à¤½-à¥à¥-à¥à¥-à¥à¥-à¥¡à¥¤-à¥¿à¦-à¦¹à¦½-à§à§-à§à§-à§¡à§¦-à§±à§´-à§ºà¨-à¨¹à¨¾-à©à©-à©¯à©²-à©´àª-àª¹àª½-à«à«-à«à«-à«¡à«¦-à«¯à¬-à¬¹à¬½-à¬¾à­à­-à­à­-à­¡à­¦-à­·à®-à®¿à¯-à¯à¯-à¯²à°-à°½à±-à±à±-à±¡à±¦-à±¯à±¿-à²¹à²½-à³à³-à³¡à³¦-àµàµ-àµàµ-àµ¡àµ¦-à·à·-à·à·-à¸°à¸²-à¸³à¹-à¹à¹-àº°àº²-àº³àº½-à»à»-à¼à¼-à¼´à¼¶à¼¸à¼¾-à½¬à½¿à¾à¾-à¾à¾¾-à¿à¿-á¬á±á¸á»-á¼á¿-áá-áá¡-á°áµ-áá-áá-áá-áá-áá -áá -á´á-á¿á-áá -áá -á±áµ-áá -á°á-á¶á¾-áá-áá-ááá -á©á -á¢¨á¢ª-á¤á¤£-á¤¦á¤©-á¤±á¤³-á¤¸á¥-á§á¨-á¨á¨-á©á©á©¡á©£-á©¤á©­-á©²áª-áª­á¬-á¬³á¬µá¬»á¬½-á­á­-á­ªá­´-á­¼á®-á®¡á®¦-á®§á®ª-á¯¥á¯§á¯ª-á¯¬á¯®á¯²-á°«á°´-á°µá°»-á±¿á³á³¡á³©-á³¬á³®-á¶¿á¸-á¾¼á¾¾á¿-á¿á¿-á¿á¿ -á¿¬á¿²-á¿¼ââ±â¿â-ââââ-âââ-ââ¤â¦â¨âª-â­â¯-â¹â¼-â¿â-ââ-ââ -ââ¶-âºââ-â©â¬â -â£¿â°-â³¤â³«-â³®â´-âµ°â¶-â·ã-ãã¡-ã©ã±-ãµã¸-ã¼ã-ãã-ãã¡-ãºã¼-ãºã°-ãã -ãã -ã»ã¿-ã°ã-ãã-ã¶ã»-ãã -ã¾ã-ä¶µä¸-êê-êê-ê®ê-ê¯ê²-ê·ê¢-êê-ê ê -ê ê -ê ê -ê ¤ê §ê °-ê ·ê¡-ê¡³ê¢-ê£ê£-ê£ê£²-ê¤¥ê¤®-ê¥ê¥-ê¥¼ê¦-ê¦²ê¦´-ê¦µê¦º-ê¦»ê¦½-ê¨¨ê¨¯-ê¨°ê¨³-ê¨´ê©-ê©ê©-ê©ê©-êª¯êª±êªµ-êª¶êª¹-êª½ê«ê«-ê¯¤ê¯¦-ê¯§ê¯©-ê¯¬ê¯°-ï¬ï¼¡-ï¼ºï½-ï½ï½¦-ï¿]"),vh=new RegExp("[Ö¾××××-×´ß-ßªß´-ßµßº-à à à ¤à ¨à °-à¡à¡âï¬ï¬-ï¬¨ï¬ª-ï­]"),mh=new RegExp("[ØØØØ-ÙÙ­-Ù¯Ù±-ÛÛ¥-Û¦Û®-Û¯Ûº-ÜÜÜ-Ü¯Ý-Þ¥Þ±ï­-ï´½ïµ-ï·¼ï¹°-ï»¼]");function xh(t){var e,n,i,r,a=t?t.length:0;for(e=0;e<a;e++){if(n=t[e],r=n,yh.test(r))return"ltr";if(i=n,vh.test(i)||mh.test(i))return"rtl"}return"ltr"}var bh={start:"end",end:"start",center:"center",middle:"middle"};var wh="http://www.w3.org/2000/svg",kh=function(t,e){if(!t||"string"!=typeof t)throw new Error("Invalid type: ".concat(t));var n=e.ownerDocument.createElementNS(wh,"container"===t?"g":t);return e.appendChild(n),n},Mh=function(t){t.parentNode&&t.parentNode.removeChild(t)},_h=function(t,e){for(var n in e.attrs)if("stroke"===n&&e.strokeReference)t.setAttribute("stroke",e.strokeReference);else if("fill"===n&&e.fillReference)t.setAttribute("fill",e.fillReference);else if("text"===n){t.setAttribute("style","white-space: pre"),t.textContent=oh(e.attrs,dh);var i=xh(e.attrs.text);"rtl"===i&&(t.setAttribute("direction","rtl"),t.setAttribute("dir","rtl"),t.setAttribute("text-anchor",(s=t.getAttribute("text-anchor"),"rtl"===i?bh[s]:s)))}else if("text"!==e.type||"dy"!==n&&"dominant-baseline"!==n)if("text"===e.type&&"title"===n&&e.attrs.title){var r=t.ownerDocument.createElementNS(wh,"title");r.textContent=e.attrs.title,t.appendChild(r)}else t.setAttribute(n,e.attrs[n]);else{var a=+t.getAttribute(n)||0,o=0;o="dominant-baseline"===n?uh(e.attrs):e.attrs[n],t.setAttribute("dy",o+a)}var s;if("string"==typeof e.data||"number"==typeof e.data||"boolean"==typeof e.data)t.setAttribute("data",e.data);else if("object"===et(e.data)&&null!==e.data)for(var c in e.data)"string"!=typeof e.data[c]&&"number"!=typeof e.data[c]&&"boolean"!=typeof e.data[c]||t.setAttribute("data-".concat(c),e.data[c])},Rh=function(){function r(t,e,n,i){b(this,r),this.create=t,this.nodeCreator=e,this.nodeMaintainer=n,this.nodeDestroyer=i}return k(r,[{key:"render",value:function(t,e){return this.create([],t,e,this.nodeCreator,this.nodeMaintainer,this.nodeDestroyer)}}]),r}();function Sh(){return new Rh(Fl,kh,_h,Mh)}var Nh=function(){function e(t){b(this,e),this._parent=null,this._children=[],this._ancestors=null,this.type=t,this.data=null}return k(e,[{key:"detach",value:function(){return this._parent&&this._parent.removeChild(this),this}},{key:"equals",value:function(t){var e=this.children,n=t.children;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!e[i].equals(n[i]))return!1;return!0}},{key:"toJSON",value:function(){return{type:this.type,children:this.children.map(function(t){return t.toJSON()})}}},{key:"parent",get:function(){return this._parent}},{key:"isBranch",get:function(){return this._children&&this._children.length}},{key:"children",get:function(){return this._children}},{key:"ancestors",get:function(){var t;this._ancestors||(this._ancestors=[],this.parent&&(t=this._ancestors).push.apply(t,[this.parent].concat(nt(this.parent.ancestors))));return this._ancestors}},{key:"descendants",get:function(){var t,e,n=[],i=this.children.length;for(t=0;t<i;t++)e=this.children[t],n.push(e),e.children.length&&n.push.apply(n,nt(e.descendants));return n}}]),e}(),zh=function(){function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.x,n=void 0===e?0:e,i=t.y,r=void 0===i?0:i,a=t.width,o=void 0===a?0:a,s=t.height,c=void 0===s?0:s,u=t.minWidth,l=void 0===u?0:u,h=t.minHeight,f=void 0===h?0:h;b(this,d),this.set({x:n,y:r,width:o,height:c,minWidth:l,minHeight:f})}return k(d,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x,i=void 0===n?0:n,r=e.y,a=void 0===r?0:r,o=e.width,s=void 0===o?0:o,c=e.height,u=void 0===c?0:c,l=e.minWidth,h=void 0===l?0:l,f=e.minHeight,d=void 0===f?0:f;this.type="rect",0<=s?(this.x=i,this.width=Math.max(s,h)):(this.x=i+Math.min(s,-h),this.width=-Math.min(s,-h)),0<=u?(this.y=a,this.height=Math.max(u,d)):(this.y=a+Math.min(u,-d),this.height=-Math.min(u,-d))}},{key:"containsPoint",value:function(t){return ts(this,t)}},{key:"intersectsLine",value:function(t){return es(this,W(t))}},{key:"intersectsRect",value:function(t){return Qo(this,I(t))}},{key:"intersectsCircle",value:function(t){return Yo(t,this)}},{key:"intersectsPolygon",value:function(t){return Ko(t,this)}},{key:"points",value:function(){return[{x:this.x,y:this.y},{x:this.x+this.width,y:this.y},{x:this.x+this.width,y:this.y+this.height},{x:this.x,y:this.y+this.height}]}}]),d}();var Ah=function(){function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.cx,n=void 0===e?0:e,i=t.cy,r=void 0===i?0:i,a=t.r,o=void 0===a?0:a,s=t.minRadius,c=void 0===s?0:s;b(this,u),this.set({cx:n,cy:r,r:o,minRadius:c})}return k(u,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.cx,i=void 0===n?0:n,r=e.cy,a=void 0===r?0:r,o=e.r,s=void 0===o?0:o,c=e.minRadius,u=void 0===c?0:c;this.type="circle",this.cx=i,this.cy=a,this.r=Math.max(s,u),this.vector={x:this.cx,y:this.cy}}},{key:"containsPoint",value:function(t){return Uo(this,t)}},{key:"intersectsLine",value:function(t){return Xo(this,W(t))}},{key:"intersectsRect",value:function(t){return Yo(this,I(t))}},{key:"intersectsCircle",value:function(t){return function(t,e){if(Vo(t)||Vo(e))return!1;var n=t.cx-e.cx,i=t.cy-e.cy;return Math.pow(n,2)+Math.pow(i,2)<=Math.pow(t.r+e.r,2)}(this,t)}},{key:"intersectsPolygon",value:function(t){return Zo(this,t)}},{key:"points",value:function(){return[{x:this.cx,y:this.cy}]}}]),u}();var Ch=function(){function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.x1,n=void 0===e?0:e,i=t.y1,r=void 0===i?0:i,a=t.x2,o=void 0===a?0:a,s=t.y2,c=void 0===s?0:s,u=t.tolerance,l=void 0===u?0:u;b(this,h),this.set({x1:n,y1:r,x2:o,y2:c,tolerance:l})}return k(h,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x1,i=void 0===n?0:n,r=e.y1,a=void 0===r?0:r,o=e.x2,s=void 0===o?0:o,c=e.y2,u=void 0===c?0:c,l=e.tolerance,h=void 0===l?0:l;this.type="line",this.x1=i,this.y1=a,this.x2=s,this.y2=u,this.tolerance=Math.max(0,Math.round(h)),this.vectors=this.points(),this.zeroSize=i===s&&a===u}},{key:"containsPoint",value:function(t){return 0<this.tolerance?Xo({cx:t.x,cy:t.y,r:this.tolerance},this):is(this,t)}},{key:"intersectsLine",value:function(t){return ns(this,W(t))}},{key:"intersectsRect",value:function(t){return es(I(t),this)}},{key:"intersectsCircle",value:function(t){return Xo(t,this)}},{key:"intersectsPolygon",value:function(t){return Go(t,this)}},{key:"points",value:function(){return[{x:this.x1,y:this.y1},{x:this.x2,y:this.y2}]}}]),h}();var Eh=function(){function n(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).vertices,e=void 0===t?[]:t;b(this,n),this.set({vertices:e})}return k(n,[{key:"set",value:function(t){var e=(0<arguments.length&&void 0!==t?t:{}).vertices,n=void 0===e?[]:e;if(this.type="polygon",this.vertices=n.slice(),this.edges=[],function(t){for(var e=0;e<t.length-1;e++){var n=t[e],i=t[e+1];n.x===i.x&&n.y===i.y&&(t.splice(e,1),e--)}}(this.vertices),!(this.vertices.length<=2)){!function(t){var e=t[0],n=t[t.length-1];e.x===n.x&&e.y===n.y||t.push(e)}(this.vertices),this.xMin=NaN,this.yMin=NaN,this.xMax=NaN,this.yMax=NaN;for(var i=0;i<this.vertices.length;i++)i<this.vertices.length-1&&this.edges.push([this.vertices[i],this.vertices[i+1]]),this.xMin=isNaN(this.xMin)?this.vertices[i].x:Math.min(this.xMin,this.vertices[i].x),this.xMax=isNaN(this.xMax)?this.vertices[i].x:Math.max(this.xMax,this.vertices[i].x),this.yMin=isNaN(this.yMin)?this.vertices[i].y:Math.min(this.yMin,this.vertices[i].y),this.yMax=isNaN(this.yMax)?this.vertices[i].y:Math.max(this.yMax,this.vertices[i].y);this._bounds=null,this._boundingRect=null}}},{key:"containsPoint",value:function(t){return Jo(this,t)}},{key:"intersectsCircle",value:function(t){return Zo(t,this)}},{key:"intersectsLine",value:function(t){return Go(this,W(t))}},{key:"intersectsRect",value:function(t){return Ko(this,I(t))}},{key:"intersectsPolygon",value:function(t){if(!Qo(this.boundingRect(),t.boundingRect()))return!1;for(var e=!1,n=0,i=this.edges.length;n<i&&!0!==(e=Go(t,W(this.edges[n])));n++);return e}},{key:"points",value:function(){return this.vertices}},{key:"bounds",value:function(){return this._bounds||(this._bounds=[{x:this.xMin,y:this.yMin},{x:this.xMax,y:this.yMin},{x:this.xMax,y:this.yMax},{x:this.xMin,y:this.yMax}]),this._bounds}},{key:"boundingRect",value:function(){return this._boundingRect||(this._boundingRect={x:this.xMin,y:this.yMin,width:this.xMax-this.xMin,height:this.yMax-this.yMin}),this._boundingRect}}]),n}();function Oh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Eh,e)}var Th=function(){function n(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).points,e=void 0===t?[]:t;b(this,n),this.set({points:e})}return k(n,[{key:"set",value:function(t){var e,n,i=(0<arguments.length&&void 0!==t?t:{}).points,r=void 0===i?[]:i;if(this.type="polyline",this.segments=[],this._points=r.slice(),1<this._points.length)for(var a=0,o=this._points.length-1;a<o;a++)e=this._points[a],n=this._points[a+1],e.x===n.x&&e.y===n.y||this.segments.push({x1:this._points[a].x,y1:this._points[a].y,x2:this._points[a+1].x,y2:this._points[a+1].y})}},{key:"containsPoint",value:function(e){return this.segments.some(function(t){return is(t,e)})}},{key:"intersectsCircle",value:function(e){return this.segments.some(function(t){return Xo(e,t)})}},{key:"intersectsLine",value:function(t){var e=W(t);return this.segments.some(function(t){return ns(t,e)})}},{key:"intersectsRect",value:function(t){var e=I(t);return this.segments.some(function(t){return es(e,t)})}},{key:"intersectsPolygon",value:function(e){return this.segments.some(function(t){return Go(e,t)})}},{key:"points",value:function(){return this._points}}]),n}();var jh=ue();function Ph(t,e){return jh.get(t)(e)}jh.add("rect",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(zh,e)}),jh.add("circle",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Ah,e)}),jh.add("line",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Ch,e)}),jh.add("polygon",Oh),jh.add("polyline",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Th,e)});var Fh=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];b(this,e),this.set(t)}return k(e,[{key:"set",value:function(t){var n=this,e=0<arguments.length&&void 0!==t?t:[];this.geometries=[],e.forEach(function(t){var e=Ph(t.type,t);e&&n.geometries.push(e)})}},{key:"containsPoint",value:function(e){return this.geometries.some(function(t){return t.containsPoint(e)})}},{key:"intersectsLine",value:function(e){return this.geometries.some(function(t){return t.intersectsLine(e)})}},{key:"intersectsRect",value:function(e){return this.geometries.some(function(t){return t.intersectsRect(e)})}},{key:"intersectsCircle",value:function(e){return this.geometries.some(function(t){return t.intersectsCircle(e)})}},{key:"intersectsPolygon",value:function(e){return this.geometries.some(function(t){return t.intersectsPolygon(e)})}}]),e}();var Bh=function(){function a(){b(this,a),this._elements=[[1,0,0],[0,1,0],[0,0,1]],this._stack=[]}return k(a,[{key:"clone",value:function(){return(new a).multiply(this)}},{key:"set",value:function(t){return this._elements=t,this}},{key:"save",value:function(){return this._stack.push(this.elements),this}},{key:"restore",value:function(){return this._stack.length&&(this._elements=this._stack.pop()),this}},{key:"add",value:function(t){var e,n;for(e=0;e<this._elements.length;e++)for(n=0;n<this._elements[e].length;n++)this._elements[e][n]+=t;return this}},{key:"translate",value:function(t,e){return this.multiply([[1,0,t],[0,1,e],[0,0,1]]),this}},{key:"rotate",value:function(t){var e=Math.cos(-t),n=Math.sin(-t);return this.multiply([[e,n,0],[-n,e,0],[0,0,1]]),this}},{key:"multiply",value:function(t){var e,n,i,r;if(t instanceof a&&(t=t._elements),Array.isArray(t)){for(i=[[0,0,0],[0,0,0],[0,0,0]],e=0;e<this._elements.length;e++)for(n=0;n<this._elements[e].length;n++)for(r=0;r<3;r++)i[e][n]+=this._elements[e][r]*t[r][n];this._elements=i}else for(e=0;e<this._elements.length;e++)for(n=0;n<this._elements[e].length;n++)this._elements[e][n]*=t;return this}},{key:"scale",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:t;return this.multiply([[t,0,0],[0,n,0],[0,0,1]]),this}},{key:"transform",value:function(t,e,n,i,r,a){return this.multiply([[t,n,r],[e,i,a],[0,0,1]]),this}},{key:"determinant",value:function(){var t=this._elements[0][0],e=this._elements[0][1],n=this._elements[0][2],i=this._elements[1][0],r=this._elements[1][1],a=this._elements[1][2],o=this._elements[2][0],s=this._elements[2][1],c=this._elements[2][2];return t*r*c+e*a*o+n*i*s-n*r*o-e*i*c-t*a*s}},{key:"invert",value:function(){var t=this.determinant(),e=this._elements[0][0],n=this._elements[0][1],i=this._elements[0][2],r=this._elements[1][0],a=this._elements[1][1],o=this._elements[1][2],s=this._elements[2][0],c=this._elements[2][1],u=this._elements[2][2];return this._elements=[[a*u-o*c,i*c-n*u,n*o-i*a],[o*s-r*u,e*u-i*s,i*r-e*o],[r*c-a*s,s*n-e*c,e*a-n*r]],this.multiply(1/t),this}},{key:"transpose",value:function(){var t=Object.create(this._elements);return this._elements=[[t[0][0],t[1][0],t[2][0]],[t[0][1],t[1][1],t[2][1]],[t[0][2],t[1][2],t[2][2]]],this}},{key:"identity",value:function(){return this._elements=[[1,0,0],[0,1,0],[0,0,1]],this}},{key:"toString",value:function(){return"".concat(this._elements.map(function(t){return t.join("\t")}).join("\n"))}},{key:"isIdentity",value:function(){var t=this._elements;return 1===t[0][0]&&0===t[0][1]&&0===t[0][2]&&0===t[1][0]&&1===t[1][1]&&0===t[1][2]&&0===t[2][0]&&0===t[2][1]&&1===t[2][2]}},{key:"transformPoint",value:function(t){var e,n,i=[t.x,t.y,1],r=this._elements,a=[0,0,0];for(e=0;e<this._elements.length;e++)for(n=0;n<this._elements[e].length;n++)a[e]+=i[n]*r[e][n];return{x:a[0],y:a[1]}}},{key:"transformPoints",value:function(t){var e,n,i,r,a,o=this._elements,s=[];for(r=0;r<t.length;r++){for(e=[t[r].x,t[r].y,1],a=[0,0,0],n=0;n<this._elements.length;n++)for(i=0;i<this._elements[n].length;i++)a[n]+=e[i]*o[n][i];s.push({x:a[0],y:a[1]})}return s}},{key:"elements",get:function(){var t=this._elements;return[[t[0][0],t[0][1],t[0][2]],[t[1][0],t[1][1],t[1][2]],[t[2][0],t[2][1],t[2][2]]]}}]),a}(),Dh=/(translate|scale|rotate|matrix)\(([0-9,.eE+-\s]+)(?:,|\s?)+\)/g;function Lh(t,e){var n=e.args[0]*(Math.PI/180);if(2<e.args.length){var i=e.args[1],r=e.args[2];t.translate(i,r),t.rotate(n),t.translate(-i,-r)}else 1===e.args.length&&t.rotate(n)}function Ih(t,e){for(var n,i,r,a,o,s,c,u,l,h,f,d=function(t){for(var e,n=[];null!==(e=Dh.exec(t));){var i=e[2].trim(),r=-1===i.indexOf(",")?i.split(" "):i.split(",");n.push({cmd:e[1],args:r.filter(function(t){return 0<t.trim().length}).map(function(t){return Number(t)})})}return n}(t),g=0,p=d.length;g<p;g++)"rotate"===(n=d[g]).cmd?Lh(e,n):"scale"===n.cmd?(u=e,void 0,h=(l=n).args[0],f=isNaN(l.args[1])?l.args[0]:l.args[1],u.scale(h,f)):"matrix"===n.cmd?(s=e,6<=(c=n).args.length&&s.transform.apply(s,nt(c.args))):"translate"===n.cmd&&(i=e,void 0,a=(r=n).args[0],o=isNaN(r.args[1])?0:r.args[1],i.translate(a,o))}var Wh={type:/^\w[\w-]+/,attr:/^\[\w(?:[\w\._-]+)?(?:[!]?=['\"][\w\s*#_-]*['\"])?\]/,universal:/^(\*)/,tag:/^\.(\w+)/},Hh={type:function(n,t){return t.filter(function(t){var e=t.type;return!!e&&e.toLowerCase()===n.toLowerCase()})},attr:function(n,i,r,t){return t.filter(function(t){var e=t.attrs[n];if(!i)return void 0!==e;if(void 0===e)return!1;switch(i){case"=":return r===String(e);case"!=":return r!==String(e);default:return!1}})},universal:function(t){return t},tag:function(n,t){return t.filter(function(t){var e=t.tag;return!!e&&-1!==e.trim().split(/\s+/).indexOf(n.replace(".",""))})}};var $h={find:function(t,e){var o,s,n=[],c=[];if(e.isBranch){var u;o=function(t){var n,i,r,a,o=[];return t.split(/\s*,\s*/).forEach(function(e){e=e.trim(),n=[];for(var t=function(t){(r=e.match(Wh[t]))&&(a=!0,e=e.slice(r[0].length),i={type:t,value:r[0]},"attr"===t&&(r=r[0].match(/\[(\w[\w\._-]+)?(?:([!]?=)['\"]([\w\s#_-]*)['\"])?\]/),i.attribute=r[1],i.operator=r[2],i.attributeValue=r[3]),n.push(i))};e&&(a=!1,(r=e.match(/^\s*([>+~]|\s)\s*/))&&(a=!0,n.push({type:" ",value:r[0]}),e=e.slice(r[0].length)),Object.keys(Wh).forEach(t),n&&n.length&&o.indexOf(n)<0&&o.push(n),a););}),o}(t),s=e.descendants;for(var i=function(t,e){u=o[t];var r=[],n=s.slice(),i=!1;u.reverse().forEach(function(t){if(" "===t.type)return r.push(n),n=s.slice(),void(i=!1);n=function(t,e){if(!e||!e.length||!t||"function"!=typeof Hh[t.type])return[];switch(t.type){case"type":return Hh[t.type](t.value,e);case"attr":return Hh[t.type](t.attribute,t.operator,t.attributeValue,e);case"universal":return Hh[t.type](e);case"tag":return Hh[t.type](t.value,e);default:return[]}}(t,n),i=!0}),i&&r.push(n);var a=r[0].filter(function(t){for(var e,n=t.parent,i=1;i<r.length;i++){for(e=r[i].indexOf(n);n&&e<0;)n=n.parent,e=r[i].indexOf(n);if(e<0)return!1}return!0});c.push(a)},r=0,a=o.length;r<a;r++)i(r);for(var l=0,h=c.length;l<h;l++)for(var f=0,d=c[l].length;f<d;f++)n.indexOf(c[l][f])<0&&n.push(c[l][f])}return n||[]}};function Vh(t,e,n){var i=t.type,r=n?n.transformPoints(t.points()):t.points();!function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].x/=e,t[n].y/=e}(r,e);var a=null;if("rect"===i||"bounds"===i)(a=I(r)).type=i;else if("circle"===i)(a=function(t,e){return{cx:t[0].x,cy:t[0].y,r:e}}(r,t.r)).type=i;else if("line"===i)(a=W(r)).type=i;else if("polygon"===i||"polyline"===i){a={type:"path",d:mo(r,"polygon"===i)}}return a}var qh=function(){function e(n){var t=this;b(this,e),this._bounds=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=n.boundingRect?n.boundingRect(t):{x:0,y:0,width:0,height:0};return{x:e.x,y:e.y,width:e.width,height:e.height}},this._attrs=n.attrs,this._type=n.type,this._data=n.data,this._dpi=n.stage?n.stage.dpi:1,this._collider=function(){return function(t,e){if(t.collider){var n=t.modelViewMatrix;return"collection"===t.colliderType?{type:"container",children:t.collider.geometries.map(function(t){return Vh(t,e,n)})}:Vh(t.collider,e,n)}return null}(n,t._dpi)},this._desc=n.desc,this._tag=n.tag,this._children=function(){return n.children.map(function(t){return new e(t)})},this._parent=function(){return n.parent?new e(n.parent):null},this._cache={elementBoundingRect:null},this._getElementBoundingRect=function(){return!t._cache.elementBoundingRect&&t.element&&(t._cache.elementBoundingRect=t.element.getBoundingClientRect()),t._cache.elementBoundingRect||{left:0,top:0}}}return k(e,[{key:"boundsRelativeTo",value:function(t,e){var n=!(1<arguments.length&&void 0!==e)||e,i=et(t),r=n?this.bounds:this.localBounds,a=this._getElementBoundingRect(),o=a.left,s=a.top;if("object"===i&&null!==t&&"function"==typeof t.getBoundingClientRect){var c=t.getBoundingClientRect(),u=c.left,l=void 0===u?0:u,h=c.top;o-=l,s-=void 0===h?0:h}return r.x+=o,r.y+=s,r}},{key:"children",get:function(){return this._children()}},{key:"parent",get:function(){return this._parent()}},{key:"type",get:function(){return this._type}},{key:"data",get:function(){return this._data}},{key:"attrs",get:function(){return this._attrs}},{key:"element",set:function(t){this._cache.elementBoundingRect=null,this._element=t},get:function(){return this._element}},{key:"key",set:function(t){this._key=t},get:function(){return this._key}},{key:"bounds",get:function(){var t=this._bounds();return t.x/=this._dpi,t.y/=this._dpi,t.width/=this._dpi,t.height/=this._dpi,t}},{key:"localBounds",get:function(){return this._bounds(!1)}},{key:"collider",get:function(){return this._collider()}},{key:"desc",get:function(){return this._desc}},{key:"tag",get:function(){return this._tag}}]),e}();function Uh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(qh,e)}var Yh=function(){function e(t){b(this,e),this._node=Uh(t),this._parent=null,this._input=null}return k(e,[{key:"node",get:function(){return this._node}},{key:"parent",set:function(t){this._parent=t},get:function(){return this._parent}},{key:"input",set:function(t){this._input=t},get:function(){return this._input}}]),e}();function Xh(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Yh,e)}function Zh(t,e){var n=t.parent;if(n&&"stage"!==n.type){e.parent=Xh(n);var i=n.parent;i&&"stage"!==i.type&&Zh(i,e.parent)}}function Jh(t,e,n){if(null===t.colliderType)return null;var i=function(t,e){var n={};if(t.modelViewMatrix)if(Array.isArray(e))n=t.inverseModelViewMatrix.transformPoints(e);else if(isNaN(e.r))Array.isArray(e.vertices)?n.vertices=t.inverseModelViewMatrix.transformPoints(e.vertices):n=t.inverseModelViewMatrix.transformPoint(e);else{var i={x:e.cx,y:e.cy},r=t.inverseModelViewMatrix.transformPoint(i);n.cx=r.x,n.cy=r.y,n.r=e.r}else n=e;return Array.isArray(n.vertices)&&(n=Oh(n)),n}(t,n);return"frontChild"===t.colliderType?function(t,e,n){for(var i=t.descendants.length-1;0<=i;i--){var r=t.descendants[i];if(null!==r.collider&&r.collider[e](n)){var a=Xh(r);return Zh(r,a),a}}return null}(t,e,i):function(t,e,n){if(t.collider[e](n)){var i=Xh(t);return Zh(t,i),i}return null}(t,e,i)}function Gh(t,e){var n=1<arguments.length&&void 0!==e?e:1,i={};switch(H(t)){case"circle":return i.cx=t.cx*n,i.cy=t.cy*n,i.r=t.r,["intersectsCircle",i];case"rect":return["intersectsRect",i=L(t).map(function(t){return _o(t,n)})];case"line":return["intersectsLine",i=D(t).map(function(t){return _o(t,n)})];case"point":return["containsPoint",i=_o(t,n)];case"polygon":return i.vertices=t.vertices.map(function(t){return _o(t,n)}),["intersectsPolygon",i];default:return[]}}function Kh(t,e){var n=O(Gh(e,t.dpi),2),i=n[0],r=n[1],a=[];return i&&(function t(e,n,i,r){for(var a=e.length,o=0;o<a;o++){var s=e[o],c=Jh(s,n,r);c&&i.push(c),!s.children||c||s.collider||t(s.children,n,i,r)}}([t],i,a,r),function(t,e){for(var n=0,i=e.length;n<i;n++)e[n].input=t}(e,a)),a}function Qh(t,e){var n=O(Gh(e,t.dpi),2);return function t(e,n,i){for(var r=e.length,a=0;a<r;a++){var o=e[a];if(null!==Jh(o,n,i))return!0;if(o.children&&!o.collider)return t(o.children,n,i)}return!1}([t],n[0],n[1])}var tf=function(){function s(t){var e;return b(this,s),(e=A(this,R(s).call(this,t)))._stage=null,e._collider={type:null,definition:null,fn:null},e._attrs={},e._node=null,e}return e(s,Nh),k(s,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=(this.node=e).data,i=e.desc,r=e.tag,a=e.strokeReference,o=e.fillReference;!function(i,r){Object.keys(vo).forEach(function(t){var e=r[t];if(void 0!==e){var n=vo[t];i[n]=e}})}(this.attrs,e),void 0!==n&&(this.data=n),"object"===et(i)&&(this.desc=tt(!0,{},i)),"string"==typeof r&&(this.tag=r),"string"==typeof a&&(this.strokeReference=a),"string"==typeof o&&(this.fillReference=o)}},{key:"findShapes",value:function(t){return $h.find(t,this).map(function(t){return Uh(t)})}},{key:"getItemsFrom",value:function(t){return Kh(this,t)}},{key:"containsPoint",value:function(t){return Qh(this,t)}},{key:"intersectsLine",value:function(t){return Qh(this,t)}},{key:"intersectsRect",value:function(t){return Qh(this,t)}},{key:"intersectsCircle",value:function(t){return Qh(this,t)}},{key:"intersectsPolygon",value:function(t){return Qh(this,t)}},{key:"resolveLocalTransform",value:function(t){var e=0<arguments.length&&void 0!==t?t:new Bh;void 0!==this.attrs.transform&&Ih(this.attrs.transform,e),this.modelViewMatrix=e.clone()}},{key:"resolveGlobalTransform",value:function(t){var e=0<arguments.length&&void 0!==t?t:new Bh,n=this.ancestors;if(0<n.length)for(var i=n.length-1;0<=i;i--)n[i].resolveLocalTransform(e),e=n[i].modelViewMatrix;this.resolveLocalTransform(e)}},{key:"attr",value:function(t){return this.attrs[t]}},{key:"equals",value:function(t){var e=this.attrs,n=Object.keys(e),i=t.attrs,r=Object.keys(i);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++){var o=n[a];if(!Object.hasOwnProperty.call(i,o))return!1;if(e[o]!==i[o])return!1}return C(R(s.prototype),"equals",this).call(this,t)}},{key:"toJSON",value:function(){var t=C(R(s.prototype),"toJSON",this).call(this);return t.attrs=this.attrs,t}},{key:"attrs",get:function(){return this._attrs}},{key:"stage",get:function(){return this._parent&&!this._stage?this._stage=this._parent.stage:this._parent||this._stage===this||(this._stage=null),this._stage}},{key:"modelViewMatrix",set:function(t){this._mvm=t,this._imvm=null},get:function(){return this._mvm}},{key:"inverseModelViewMatrix",get:function(){return this._imvm=this._imvm?this._imvm:this._mvm.clone().invert(),this._imvm}},{key:"node",set:function(t){this._node=t},get:function(){return this._node}},{key:"collider",set:function(t){var e=Array.isArray(t)?"collection":t&&t.type;return"string"!=typeof e?(this._collider.type=null,this._collider.definition=null,void(this._collider.fn=null)):(null!==this._collider&&this._collider.type===e&&null!==this._collider.fn?this._collider.fn.set(t):this._collider.type=e,void(this._collider.definition=t))},get:function(){if(null!==this._collider.fn)return this._collider.fn;switch(this._collider.type){case"collection":this._collider.fn=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(Fh,e)}(this._collider.definition);break;case"frontChild":return!0;case"bounds":this._collider.fn=Ph("rect",this.boundingRect());break;case"line":case"rect":case"circle":case"polygon":case"polyline":this._collider.fn=Ph(this._collider.type,this._collider.definition);break;default:return null}return this._collider.fn}},{key:"colliderType",get:function(){return this._collider.type}}]),s}(),ef=function(){function t(){return b(this,t),A(this,R(t).apply(this,arguments))}return e(t,Nh),k(t,[{key:"addChild",value:function(t){if(!(t&&t instanceof Nh))throw new TypeError("Expecting a Node as argument, but got ".concat(t));if(t===this)throw new Error("Can not add itself as child!");if(t._children&&t._children.length&&0<=this.ancestors.indexOf(t))throw new Error("Can not add an ancestor as child!");return t._parent&&t._parent!==this&&t._parent.removeChild(t),this._children.push(t),t._parent=this,t._ancestors=null,this}},{key:"addChildren",value:function(t){var e,n=t?t.length:0;for(e=0;e<n;e++)this.addChild(t[e]);return this}},{key:"removeChild",value:function(t){var e=this._children.indexOf(t);return 0<=e&&(this._children.splice(e,1),t._parent=null,t._ancestors=null),this}},{key:"removeChildren",value:function(t){var e,n;if(!this._children)return this;if(t)for(n=t.length,e=0;e<n;e++)this.removeChild(t[e]);else for(;this._children.length;)this.removeChild(this._children[0]);return this}}]),t}(),nf=ef.prototype,rf=function(){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,r);var n=e.type,i=void 0===n?"container":n;return(t=A(this,R(r).call(this,i))).set(e),t}return e(r,tf),k(r,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};C(R(r.prototype),"set",this).call(this,e);var n=e.collider,i=tt({type:null},n);this.collider=i,this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"appendChildRect",value:function(t,e){if(void 0!==t.bounds){var n=this.__boundingRect[e]||{},i=O(t.bounds(e),3),r=i[0],a=i[2],o=r.x,s=r.y,c=a.x,u=a.y,l=isNaN(n.width)?c:Math.max(c,n.width+n.x),h=isNaN(n.height)?u:Math.max(u,n.height+n.y);n.x=isNaN(n.x)?o:Math.min(o,n.x),n.y=isNaN(n.y)?s:Math.min(s,n.y),n.width=l-n.x,n.height=h-n.y,this.__boundingRect[e]=n}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];for(var n=this.children.length,i=0;i<n;i++)this.appendChildRect(this.children[i],e);return this.__boundingRect[e]=tt({x:0,y:0,width:0,height:0},this.__boundingRect[e]),this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.boundingRect(e);return this.__bounds[e]=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],this.__bounds[e]}},{key:"addChild",value:function(t){var e=nf.addChild.call(this,t);if(this._collider&&"bounds"===this._collider.type){this.appendChildRect(t,!0);var n=tt({type:"bounds",x:0,y:0,width:0,height:0},this.__boundingRect.true);this.collider=n}return e}},{key:"addChildren",value:function(t){var e=nf.addChildren.call(this,t),n=t.length;if(this._collider&&"bounds"===this._collider.type&&0<n){for(var i=0;i<n;i++)this.appendChildRect(t[i],!0);var r=tt({type:"bounds",x:0,y:0,width:0,height:0},this.__boundingRect.true);this.collider=r}return e}},{key:"removeChild",value:function(t){t._stage=null;var e,n=t.descendants,i=n?n.length:0;for(e=0;e<i;e++)n[e]._stage=null;if(nf.removeChild.call(this,t),this._collider&&"bounds"===this._collider.type){this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null};var r=tt(this.boundingRect(!0),{type:"bounds"});this.collider=r}return this}},{key:"removeChildren",value:function(t){if(nf.removeChildren.call(this,t),this._collider&&"bounds"===this._collider.type){this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null};var e=tt(this.boundingRect(!0),{type:"bounds"});this.collider=e}return this}}]),r}();function af(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(rf,e)}var of=function(){function n(t){var e;return b(this,n),(e=A(this,R(n).call(this,"stage")))._stage=z(e),e._dpiRatio=t||1,e}return e(n,rf),k(n,[{key:"dpi",get:function(){return this._dpiRatio}}]),n}();var sf=ef.prototype,cf=["x1","x2","y1","y2","id","offset","style"],uf=function(){function o(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,o);var n=e.type,i=void 0===n?"container":n;return(t=A(this,R(o).call(this,i))).set(e),t._boundingRect={},t}return e(o,tf),k(o,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};C(R(o.prototype),"set",this).call(this,e);for(var n=this.attrs,i="",r=0,a=cf.length;r!==a;r++)void 0!==e[i=cf[r]]&&(n[i]=e[i])}},{key:"addChild",value:function(t){return sf.addChild.call(this,t)}},{key:"addChildren",value:function(t){return sf.addChildren.call(this,t)}},{key:"removeChild",value:function(t){t._stage=null;var e,n=t.descendants,i=n?n.length:0;for(e=0;e<i;e++)n[e]._stage=null;return sf.removeChild.call(this,t),this}},{key:"removeChildren",value:function(t){return sf.removeChildren.call(this,t),this}}]),o}();function lf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(uf,e)}var hf=ef.prototype,ff=["patternUnits","x","y","width","height","id"],df=function(){function o(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};b(this,o);var n=e.type,i=void 0===n?"container":n;return(t=A(this,R(o).call(this,i))).set(e),t._boundingRect={},t}return e(o,tf),k(o,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};C(R(o.prototype),"set",this).call(this,e);for(var n=this.attrs,i="",r=0,a=ff.length;r!==a;r++)void 0!==e[i=ff[r]]&&(n[i]=e[i])}},{key:"addChild",value:function(t){return hf.addChild.call(this,t)}},{key:"addChildren",value:function(t){return hf.addChildren.call(this,t)}},{key:"removeChild",value:function(t){t._stage=null;var e,n=t.descendants,i=n?n.length:0;for(e=0;e<i;e++)n[e]._stage=null;return hf.removeChild.call(this,t),this}},{key:"removeChildren",value:function(t){return hf.removeChildren.call(this,t),this}}]),o}();var gf=function(){function y(){var t,e;return b(this,y),(t=e=A(this,R(y).call(this,"rect"))).set.apply(t,arguments),e}return e(y,tf),k(y,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x,i=void 0===n?0:n,r=e.y,a=void 0===r?0:r,o=e.width,s=void 0===o?0:o,c=e.height,u=void 0===c?0:c,l=e.rx,h=void 0===l?0:l,f=e.ry,d=void 0===f?0:f,g=e.collider,p=tt({type:"rect",x:i,y:a,width:s,height:u},g);C(R(y.prototype),"set",this).call(this,e),0<=s?(this.attrs.x=i,this.attrs.width=s):(this.attrs.x=i+s,this.attrs.width=-s),0<=u?(this.attrs.y=a,this.attrs.height=u):(this.attrs.y=a+u,this.attrs.height=-u),0<h&&(this.attrs.rx=h),0<d&&(this.attrs.ry=d),this.collider=p,this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];var n=L(this.attrs),i=O(B(e&&this.modelViewMatrix?this.modelViewMatrix.transformPoints(n):n),4),r=i[0],a=i[1],o=i[2],s=i[3];return this.__boundingRect[e]={x:r,y:a,width:o-r,height:s-a},this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.boundingRect(e);return this.__bounds[e]=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],this.__bounds[e]}}]),y}();var pf=function(){function l(){var t,e;return b(this,l),(t=e=A(this,R(l).call(this,"circle"))).set.apply(t,arguments),e}return e(l,tf),k(l,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.cx,i=void 0===n?0:n,r=e.cy,a=void 0===r?0:r,o=e.r,s=void 0===o?0:o,c=e.collider,u=tt({type:"circle",cx:i,cy:a,r:s},c);C(R(l.prototype),"set",this).call(this,e),this.attrs.cx=i,this.attrs.cy=a,this.attrs.r=s,this.collider=u,this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];var n=this.bounds(e);return this.__boundingRect[e]={x:n[0].x,y:n[0].y,width:n[2].x-n[0].x,height:n[2].y-n[0].y},this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.attrs,i=n.cx,r=n.cy,a=n.r,o=n.r,s=i-a,c=r-o,u=2*a,l=2*o,h=[{x:s,y:c},{x:s+u,y:c},{x:s+u,y:c+l},{x:s,y:c+l}];if(e&&this.modelViewMatrix){var f=O(B(h=this.modelViewMatrix.transformPoints(h)),4),d=f[0],g=f[1];u=f[2]-d,l=f[3]-g,this.__bounds[e]=[{x:d,y:g},{x:d+u,y:g},{x:d+u,y:g+l},{x:d,y:g+l}]}else this.__bounds[e]=h;return this.__bounds[e]}}]),l}();var yf=function(){function f(){var t,e;return b(this,f),(t=e=A(this,R(f).call(this,"line"))).set.apply(t,arguments),e}return e(f,tf),k(f,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x1,i=void 0===n?0:n,r=e.y1,a=void 0===r?0:r,o=e.x2,s=void 0===o?0:o,c=e.y2,u=void 0===c?0:c,l=e.collider;C(R(f.prototype),"set",this).call(this,e);var h={type:"line",x1:this.attrs.x1=i,y1:this.attrs.y1=a,x2:this.attrs.x2=s,y2:this.attrs.y2=u};this.collider=tt(h,l),this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];var n=D(this.attrs);e&&this.modelViewMatrix&&(n=this.modelViewMatrix.transformPoints(n));var i=O(B(n),4),r=i[0],a=i[1],o=i[2],s=i[3],c=r!==o||a!==s;return this.__boundingRect[e]={x:r,y:a,width:c?Math.max(1,o-r):0,height:c?Math.max(1,s-a):0},this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.boundingRect(e);return this.__bounds[e]=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],this.__bounds[e]}}]),f}();var vf=Math.PI/2;function mf(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x);return n<0?n+2*Math.PI:n}function xf(t,e,n){return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}}var bf=function(){function r(){var t,e;return b(this,r),(t=e=A(this,R(r).call(this,"path"))).set.apply(t,arguments),e}return e(r,tf),k(r,[{key:"set",value:function(t){var n=this,i=0<arguments.length&&void 0!==t?t:{};C(R(r.prototype),"set",this).call(this,i),this.segments=[],this.points=[],this.attrs.d=i.d,Array.isArray(i.collider)||"object"===et(i.collider)&&void 0!==i.collider.type?this.collider=i.collider:i.d&&(this.segments=Cl(i.d),this.segments.forEach(function(t){if(t.length<=1);else if(function(t){if(t.length<2)return!1;var e=t[0],n=t[t.length-1];return Math.abs(e.x-n.x)<1e-12&&Math.abs(e.y-n.y)<1e-12}(t))n.collider=tt({type:"polygon",vertices:t},i.collider);else if("object"===et(i.collider)&&i.collider.visual){var e=n.attrs["stroke-width"]/2;n.collider=function(t,e,n){var i=2<arguments.length&&void 0!==n?n:{},r=[],a=[];if("h"===i.forceOrientation){var o=t[0].x<t[1].x?-1:1,s=t[t.length-1].x>t[t.length-2].x?1:-1;t.unshift({x:t[0].x+o,y:t[0].y}),t.push({x:t[t.length-1].x+s,y:t[t.length-1].y})}else if("v"===i.forceOrientation){var c=t[0].y<t[1].y?-1:1,u=t[t.length-1].y>t[t.length-2].y?1:-1;t.unshift({x:t[0].x,y:t[0].y+c}),t.push({x:t[t.length-1].x,y:t[t.length-1].y+u})}for(var l=t.length-1,h=1;h<l;h++){var f=t[h-1],d=t[h],g=t[h+1],p=mf(d,f),y=mf(d,g),v=(p+y)/2,m=v+Math.PI,x=Math.max(v,m),b=Math.min(v,m),w=y<p;if(1===h){var k=mf(f,d);r.push(xf(f,k-vf,e)),a.unshift(xf(f,k+vf,e))}var M=w?x:b,_=w?b:x;if(r.push(xf(d,M,e)),a.unshift(xf(d,_,e)),h===l-1){var R=mf(g,d);r.push(xf(g,R+vf,e)),a.unshift(xf(g,R-vf,e))}}return{type:"polygon",vertices:[].concat(r,a)}}(t,e,i.collider)}else n.collider=tt({type:"polyline",points:t},i.collider)})),this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];this.points.length||(this.segments=this.segments.length?this.segments:Cl(this.attrs.d),this.points=function(t){for(var e,n=[],i=t.length,r=0;r<i;r++){e=t[r];for(var a=0;a<e.length;a++)n.push(e[a])}return n}(this.segments));var n=O(B(e&&this.modelViewMatrix?this.modelViewMatrix.transformPoints(this.points):this.points),4),i=n[0],r=n[1],a=n[2],o=n[3];return this.__boundingRect[e]={x:i||0,y:r||0,width:a-i||0,height:o-r||0},this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.boundingRect(e);return this.__bounds[e]=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],this.__bounds[e]}}]),r}();var wf=function(){function p(){var t,e;return b(this,p),(t=e=A(this,R(p).call(this,"text"))).set.apply(t,arguments),e}return e(p,tf),k(p,[{key:"set",value:function(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x,i=void 0===n?0:n,r=e.y,a=void 0===r?0:r,o=e.dx,s=void 0===o?0:o,c=e.dy,u=void 0===c?0:c,l=e.textBoundsFn,h=e.text,f=e.title,d=e.collider,g=e.boundingRect;C(R(p.prototype),"set",this).call(this,e),this.attrs.x=i,this.attrs.y=a,this.attrs.dx=s,this.attrs.dy=u,this.attrs.text=h,void 0!==f&&(this.attrs.title=String(f)),"object"===et(g)?this._textBoundsFn=function(){return g}:"function"==typeof l&&(this._textBoundsFn=l),this.collider=tt({type:function(t){var e=t.data,n=t._boundingRect,i=t._textBoundsFn;return null!=e&&(n||i)}(this)?"bounds":null},d),this.__boundingRect={true:null,false:null},this.__bounds={true:null,false:null}}},{key:"boundingRect",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__boundingRect[e])return this.__boundingRect[e];if("function"!=typeof this._textBoundsFn)return{x:0,y:0,width:0,height:0};var n=L(this._textBoundsFn(this.attrs)),i=O(B(e&&this.modelViewMatrix?this.modelViewMatrix.transformPoints(n):n),4),r=i[0],a=i[1],o=i[2],s=i[3];return this.__boundingRect[e]={x:r,y:a,width:o-r,height:s-a},this.__boundingRect[e]}},{key:"bounds",value:function(t){var e=0<arguments.length&&void 0!==t&&t;if(null!==this.__bounds[e])return this.__bounds[e];var n=this.boundingRect(e);return this.__bounds[e]=[{x:n.x,y:n.y},{x:n.x+n.width,y:n.y},{x:n.x+n.width,y:n.y+n.height},{x:n.x,y:n.y+n.height}],this.__bounds[e]}}]),p}();var kf=ue();function Mf(t,e){return kf.get(t)(e)}kf.add("rect",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(gf,e)}),kf.add("circle",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(pf,e)}),kf.add("text",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(wf,e)}),kf.add("line",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(yf,e)}),kf.add("path",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(bf,e)}),kf.add("stage",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(of,e)}),kf.add("container",af),kf.add("defs",af),kf.add("linearGradient",lf),kf.add("radialGradient",lf),kf.add("stop",lf),kf.add("pattern",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return N(df,e)});var _f=function(t){var o=0<arguments.length&&void 0!==t?t:[],s=[{}];function c(){return s[s.length-1]}return c.save=function(t){for(var e=0<arguments.length&&void 0!==t?t:{},n=c(),i={},r="",a=0;a<o.length;a++)void 0!==n[r=o[a]]&&(i[r]=n[r]);return tt(i,e),s.push(i),c()},c.restore=function(){s.splice(s.length-1,1)},c}(["stroke","fill","strokeWidth","opacity","fontFamily","fontSize","baseline"]);function Rf(t,e){if(Array.isArray(e))for(var n=0,i=e.length;n<i;n++)e[n](t)}function Sf(t){var e=t.items,n=t.stage,i=t.dpi,r=t.on,a=void 0===r?{}:r;return function t(e,n,i,r){for(var a,o,s,c={siblings:e,node:null,index:0},u=0,l=e.length;u<l;u++)if(o=u,s=e,(a=c).node=s[o],a.index=o,Rf(c,r.create),!("function"==typeof c.node.disabled?c.node.disabled():c.node.disabled)){c.node=_f.save(c.node);var h=Mf(c.node.type,c.node);h&&(c.node.transform&&(i.save(),Ih(c.node.transform,i)),i.isIdentity()||(h.modelViewMatrix=i.clone()),n.addChild(h),c.node.children&&t(c.node.children,h,i,r),c.node.transform&&i.restore()),_f.restore()}}(e,n=n||Mf("stage",i),new Bh,a),n}function Nf(t){var e,n,i=0;if(0===(t=JSON.stringify(t)).length)return i;for(e=0,n=t.length;e<n;e++)i=(i<<5)-i+t.charCodeAt(e),i&=i;return i}function zf(t){var e=0<arguments.length&&void 0!==t?t:{},n=e.x,i=e.y,r=e.width,a=e.height,o=e.scaleRatio,s=e.margin,c=e.edgeBleed,u={x:0,y:0,width:0,height:0,scaleRatio:{x:1,y:1},margin:{left:0,top:0},edgeBleed:{left:0,right:0,top:0,bottom:0,bool:!1}};return u.x=isNaN(n)?u.x:n,u.y=isNaN(i)?u.y:i,u.width=isNaN(r)?u.width:r,u.height=isNaN(a)?u.height:a,void 0!==o&&(u.scaleRatio.x=isNaN(o.x)?u.scaleRatio.x:o.x,u.scaleRatio.y=isNaN(o.y)?u.scaleRatio.y:o.y),void 0!==s&&(u.margin.left=isNaN(s.left)?0:s.left,u.margin.top=isNaN(s.top)?0:s.top),"object"===et(c)&&["left","right","top","bottom"].forEach(function(t){!isNaN(c[t])&&0<c[t]&&(u.edgeBleed[t]=c[t],u.edgeBleed.bool=!0)}),u.computedPhysical={x:Math.round(u.margin.left+(u.x-u.edgeBleed.left)*u.scaleRatio.x),y:Math.round(u.margin.top+(u.y-u.edgeBleed.top)*u.scaleRatio.y),width:Math.round((u.width+u.edgeBleed.left+u.edgeBleed.right)*u.scaleRatio.x),height:Math.round((u.height+u.edgeBleed.top+u.edgeBleed.bottom)*u.scaleRatio.y)},u}function Af(n){return function(t){var e=t.node;"text"===e.type&&function(t){return null!=t}(e.data)&&!e.textBoundsFn&&(e.textBoundsFn=n.textBounds)}}function Cf(){var s,c,u,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:wh,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Sf,h=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Sh)(),f=!1,d=zf(),g=function(){var e={element:function(){},root:function(){},appendTo:function(){},render:function(){return!1},itemsAt:function(){return[]},findShapes:function(){return[]},clear:function(){},destory:function(){},size:function(){},measureText:dh,textBounds:ph,setKey:function(t){e.element().setAttribute("data-key",t)}};return e}(),p={type:"defs",children:[]},y=function(c,t){var u=1<arguments.length&&void 0!==t?t:Nf,l={},h=Date.now();return{onCreate:function(o){var s={};o.node&&"object"===et(o.node.fill)&&"pattern"===o.node.fill.type&&o.node.fill.shapes&&(s.fill=o.node.fill),o.node&&"object"===et(o.node.stroke)&&"pattern"===o.node.stroke.type&&o.node.stroke.shapes&&(s.stroke=o.node.stroke),Object.keys(s).forEach(function(t){var e="",n=s[t],i=u(n),r="picasso-pattern-".concat(h,"-").concat(i);if("undefined"!=typeof window&&(e=""),!l[i]){var a={patternUnits:"userSpaceOnUse",x:0,y:0,width:n.width,height:n.height,type:"pattern",id:r,children:[],fill:n.fill};n.shapes.forEach(function(t){a.children.push(t)}),c.push(a),l[i]=!0}o.node["".concat(t,"Reference")]="url('".concat(e,"#").concat(r,"')")})},clear:function(){l={}}}}(p.children),v=function(g,t){var p=1<arguments.length&&void 0!==t?t:Nf,y={},v=Date.now(),i={getOrCreateGradient:function(t,e,n){var i=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==e?e:"fill",a=2<arguments.length&&void 0!==n?n:"",o=p(i[r]),s="picasso-gradient-".concat(v,"-").concat(o);if(!y[o]){var c=i[r],u=c.orientation,l=c.degree,h=c.stops,f=void 0===h?[]:h,d={};void 0===l&&(l=90),"radial"===u?d.type="radialGradient":(d=wo(l)).type="linearGradient",d.id=s,d.children=f.map(function(t){var e=t.offset,n=t.color,i=t.opacity;return{type:"stop",offset:"".concat(100*e,"%"),style:"stop-color:".concat(n,";stop-opacity:").concat(void 0!==i?i:1)}}),g.push(d),y[o]=s}return"url('".concat(a,"#").concat(s,"')")},onCreate:function(t){var e="";"undefined"!=typeof window&&(e="");var n=t.node;n.fill&&"object"===et(n.fill)&&"gradient"===n.fill.type&&(n.fillReference=i.getOrCreateGradient(n,"fill",e)),n.stroke&&"object"===et(n.stroke)&&"gradient"===n.stroke.type&&(n.strokeReference=i.getOrCreateGradient(n,"stroke",e))},clear:function(){y={}}};return i}(p.children);return g.element=function(){return s},g.root=function(){return c},g.appendTo=function(t){return s||((s=t.ownerDocument.createElementNS(e,"svg")).style.position="absolute",s.style["-webkit-font-smoothing"]="antialiased",s.style["-moz-osx-font-smoothing"]="antialiased",s.style.pointerEvents="none",s.setAttribute("xmlns",e),(c=t.ownerDocument.createElementNS(e,"g")).style.pointerEvents="auto",s.appendChild(c)),t.appendChild(s),s},g.render=function(t){if(!s)return!1;var e=d.scaleRatio.x,n=d.scaleRatio.y;f&&(s.style.left="".concat(d.computedPhysical.x,"px"),s.style.top="".concat(d.computedPhysical.y,"px"),s.setAttribute("width",d.computedPhysical.width),s.setAttribute("height",d.computedPhysical.height)),v.clear(),y.clear(),p.children.length=0;var i={type:"container",children:Array.isArray(t)?[].concat(nt(t),[p]):t,transform:d.edgeBleed.bool?"translate(".concat(d.edgeBleed.left*e,", ").concat(d.edgeBleed.top*n,")"):""};1===e&&1===n||(i.transform+="scale(".concat(e,", ").concat(n,")"));var r=l({items:[i],on:{create:[function(t){t.node.fillReference=void 0,t.node.strokeReference=void 0},v.onCreate,y.onCreate,ah(g.measureText),Af(g)]}}),a=!u||!r.equals(u),o=f||a;return o&&(g.clear(),h.render(r.children,c)),f=!1,u=r,o},g.itemsAt=function(t){return u?u.getItemsFrom(t):[]},g.findShapes=function(t){return u?u.findShapes(t):[]},g.clear=function(){if(!c)return g;u=null;var t=c.cloneNode(!1);return s.replaceChild(t,c),c=t,g},g.destroy=function(){s&&s.parentNode&&s.parentNode.removeChild(s),c=s=null},g.size=function(t){if(t){var e=zf(t);JSON.stringify(d)!==JSON.stringify(e)&&(f=!0,d=e)}return d},g}var Ef=[function(t){t.renderer("native",Cf)}],Of={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},Tf=function(t){function i(t){if(t&&!(c<t)){for(var e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(u[t]||u[Of.DEBUG]).apply(void 0,n)}}var e,n=0<arguments.length&&void 0!==t?t:{},r=n.level,a=void 0===r?Of.OFF:r,o=n.pipe,s=void 0===o?console:o,c=a,u=(M(e={},Of.OFF,function(){}),M(e,Of.ERROR,function(){return s.error.apply(s,arguments)}),M(e,Of.WARN,function(){return s.warn.apply(s,arguments)}),M(e,Of.INFO,function(){return s.info.apply(s,arguments)}),M(e,Of.DEBUG,function(){return s.log.apply(s,arguments)}),e);return{log:i,error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,[Of.ERROR].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,[Of.WARN].concat(e))},info:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,[Of.INFO].concat(e))},debug:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(void 0,[Of.DEBUG].concat(e))},level:function(t){return"number"==typeof t&&(c=t),c},LOG_LEVEL:Of}};var jf=function e(t,n){var i=0<arguments.length&&void 0!==t?t:{},r=1<arguments.length&&void 0!==n?n:{},a=Tf(i.logger),o={component:ue(r.component,"component",a),data:ue(r.data,"data",a),formatter:ue(r.formatter,"formatter",a),interaction:ue(r.interaction,"interaction",a),renderer:ds(r.renderer),scale:ue(r.scale,"scale",a),symbol:ue(r.symbol,"symbol",a),logger:a};function s(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e({palettes:i.palettes.concat(t.palettes||[]),style:tt({},i.style,t.style),logger:t.logger||i.logger,renderer:t.renderer||i.renderer},o)}return i.renderer&&i.renderer.prio&&o.renderer.default(i.renderer.prio[0]),s.use=function(t){return function(t,e,n){t(2<arguments.length?n:void 0,1<arguments.length&&void 0!==e?e:{})}(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o)},s.chart=function(t){return fs(t,{registries:o,logger:a,style:i.style,palettes:i.palettes})},s.config=function(){return i},Object.keys(o).forEach(function(t){s[t]=o[t]}),s.version=x.version,s.d=c,s}({renderer:{prio:["svg","canvas"]},logger:{level:0},style:{"$font-family":"'Source Sans Pro', Arial, sans-serif","$font-size":"12px","$line-height":"16px","$font-size--l":"16px","$gray-100":"#ffffff","$gray-98":"#f9f9f9","$gray-95":"#f2f2f2","$gray-90":"#e6e6e6","$gray-35":"#595959","$gray-30":"#4d4d4d","$gray-25":"#404040","$gray-20":"#333333","$border-95":"rgba(255, 255, 255, 0.05)","$border-90":"rgba(255, 255, 255, 0.1)","$border-80":"rgba(255, 255, 255, 0.2)","$border-20":"rgba(0, 0, 0, 0.2)","$border-10":"rgba(0, 0, 0, 0.1)","$border-5":"rgba(0, 0, 0, 0.05)","$primary-blue":"#3F8AB3","$primary-green":"#6CB33F","$primary-red":"#DC423F","$primary-orange":"#EF960F","$spacing--s":4,$spacing:8,"$spacing--l":12,"$font-color":"$gray-35","$font-color--inverted":"$gray-90","$guide-color":"$gray-90","$guide-color--inverted":"$gray-35",$border:"$border-80","$border--inverted":"$border-10",$shape:{fill:"$primary-blue",strokeWidth:1,stroke:"$border"},"$shape-outline":{stroke:"$primary-blue",strokeWidth:2},"$shape-guide":{stroke:"$guide-color",strokeWidth:1},"$shape-guide--inverted":{"@extend":"$shape-guide",stroke:"$guide-color--inverted"},$label:{fontSize:"$font-size",fontFamily:"$font-family",fill:"$font-color"},"$label--inverted":{$extend:"$label",fill:"$font-color--inverted"},"$label-overlay":{fontSize:"$font-size--l",fontFamily:"$font-family",fill:"$gray-100",color:"$font-color",stroke:"$guide-color--inverted",strokeWidth:1,borderRadius:4},$title:{"@extend":"$label",fontSize:"$font-size--l"},"$guide-line":{strokeWidth:1,stroke:"$guide-color"},"$guide-line--minor":{strokeWidth:1,stroke:"$gray-95"},"$padding--s":{left:"$spacing--s",right:"$spacing--s",top:"$spacing--s",bottom:"$spacing--s"},$padding:{left:"$spacing",right:"$spacing",top:"$spacing",bottom:"$spacing"},"$selection-area-target":{fill:"$primary-green",strokeWidth:0,opacity:.2}},palettes:[{key:"categorical",colors:[["#a54343","#d76c6c","#ec983d","#ecc43d","#f9ec86","#cbe989","#70ba6e","#578b60","#79d69f","#26a0a7","#138185","#65d3da"]]},{key:"diverging",colors:[["#3d52a1","#3a89c9","#77b7e5","#b4ddf7","#e6f5fe","#ffe3aa","#f9bd7e","#ed875e","#d24d3e","#ae1c3e"]]},{key:"sequential",colors:[["rgb(180,221,212)","rgb(34, 83, 90)"]]}]},{component:gs,data:Ns,formatter:oi,interaction:zs,renderer:ds(),scale:Ea,symbol:Oo});return Ol.forEach(jf.use),Ef.forEach(jf.use),[].forEach(jf.use),jf});
//# sourceMappingURL=picasso.js.map
